utils.jq(()=>{$(function(){for(var e=document.getElementsByClassName("ds-giscus"),a=0;a<e.length;a++){let s=e[a];var t=s.dataset.api;if(null!=t){let r=def.avatar;utils.request(s,t,async e=>{e=await e.json();let t=s.getAttribute("limit");e.forEach((e,a)=>{t&&a>=t||(comment=50<e.body.length?e.body.substring(0,50)+"...":e.body,a=(a=(a=(a=(a=(a='<div class="timenode" index="'+a+'"><div class="header"><div class="user-info">')+'<img src="'+(e.author.avatarUrl||r)+'" onerror="javascript:this.src=\''+r+"';\">")+"<span>"+e.author.login+"</span></div>")+"<span>"+new Date(e.createdAt).toLocaleString()+"</span>")+'</div><a class="body" href="'+e.url+'" target="_blank" rel="external nofollow noopener noreferrer">')+comment+"</a></div>",$(s).append(a))})})}}})});