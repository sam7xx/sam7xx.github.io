utils.jq(()=>{$(function(){for(var a=document.getElementsByClassName("ds-sites"),s=0;s<a.length;s++){let o=a[s];var e=o.dataset.api;if(null!=e){let l=def.avatar,t=def.cover;utils.request(o,e,async a=>{var s;for(s of(await a.json()).content){var e,r='<div class="grid-cell site-card">',r=(r=(r=(r=(r=(r+=`<a class="card-link" target="_blank" rel="external nofollow noopener noreferrer" href="${s.url}">`)+`<img src="${s.cover||s.snapshot||s.screenshot}" onerror="javascript:this.removeAttribute('data-src');this.src='${t}';"/>`+'<div class="info">')+`<img src="${s.icon||s.avatar||l}" onerror="javascript:this.removeAttribute('data-src');this.src='${l}';"/>`)+`<span class="title">${s.title}</span>`)+`<span class="desc">${s.description||s.url}</span>`)+"</div>"+'<div class="labels">';for(e of s.labels)75<e.lightness?r+=`<div class="label" style="background:#${e.color};color:hsla(${e.hue}, ${e.saturation}%, 20%, 1);">${e.name}</div>`:90<e.saturation&&40<e.lightness?r+=`<div class="label" style="background:#${e.color};color:hsla(${e.hue}, 50%, 20%, 1);">${e.name}</div>`:r+=`<div class="label" style="background:#${e.color};color:white">${e.name}</div>`;r=(r+="</div>")+"</a>"+"</div>",$(o).find(".grid-box").append(r)}window.wrapLazyloadImages(o)})}}})});