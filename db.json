{"meta":{"version":1,"warehouse":"6.0.0"},"models":{"Asset":[{"_id":"source/robots.txt","path":"robots.txt","modified":1,"renderable":0},{"_id":"themes/stellar/source/css/art-title.css","path":"css/art-title.css","modified":1,"renderable":1},{"_id":"themes/stellar/source/css/main.styl","path":"css/main.styl","modified":1,"renderable":1},{"_id":"themes/stellar/source/js/darkmode.js","path":"js/darkmode.js","modified":1,"renderable":1},{"_id":"themes/stellar/source/js/main.js","path":"js/main.js","modified":1,"renderable":1},{"_id":"themes/stellar/source/js/sakura.js","path":"js/sakura.js","modified":1,"renderable":1},{"_id":"themes/stellar/source/js/vercel-analytics.js","path":"js/vercel-analytics.js","modified":1,"renderable":1},{"_id":"themes/stellar/source/js/plugins/copycode.js","path":"js/plugins/copycode.js","modified":1,"renderable":1},{"_id":"themes/stellar/source/js/plugins/video.js","path":"js/plugins/video.js","modified":1,"renderable":1},{"_id":"themes/stellar/source/js/plugins/download-file.js","path":"js/plugins/download-file.js","modified":1,"renderable":1},{"_id":"themes/stellar/source/js/plugins/voice.js","path":"js/plugins/voice.js","modified":1,"renderable":1},{"_id":"themes/stellar/source/js/search/local-search.js","path":"js/search/local-search.js","modified":1,"renderable":1},{"_id":"themes/stellar/source/js/search/algolia-search.js","path":"js/search/algolia-search.js","modified":1,"renderable":1},{"_id":"themes/stellar/source/js/services/contributors.js","path":"js/services/contributors.js","modified":1,"renderable":1},{"_id":"themes/stellar/source/js/services/artalk_latest_comment.js","path":"js/services/artalk_latest_comment.js","modified":1,"renderable":1},{"_id":"themes/stellar/source/js/services/fcircle.js","path":"js/services/fcircle.js","modified":1,"renderable":1},{"_id":"themes/stellar/source/js/services/friends.js","path":"js/services/friends.js","modified":1,"renderable":1},{"_id":"themes/stellar/source/js/services/ghinfo.js","path":"js/services/ghinfo.js","modified":1,"renderable":1},{"_id":"themes/stellar/source/js/services/friends_and_posts.js","path":"js/services/friends_and_posts.js","modified":1,"renderable":1},{"_id":"themes/stellar/source/js/services/giscus_latest_comment.js","path":"js/services/giscus_latest_comment.js","modified":1,"renderable":1},{"_id":"themes/stellar/source/js/services/mdrender.js","path":"js/services/mdrender.js","modified":1,"renderable":1},{"_id":"themes/stellar/source/js/services/memos.js","path":"js/services/memos.js","modified":1,"renderable":1},{"_id":"themes/stellar/source/js/services/rating.js","path":"js/services/rating.js","modified":1,"renderable":1},{"_id":"themes/stellar/source/js/services/siteinfo.js","path":"js/services/siteinfo.js","modified":1,"renderable":1},{"_id":"themes/stellar/source/js/services/sites.js","path":"js/services/sites.js","modified":1,"renderable":1},{"_id":"themes/stellar/source/js/services/twikoo_latest_comment.js","path":"js/services/twikoo_latest_comment.js","modified":1,"renderable":1},{"_id":"themes/stellar/source/js/services/timeline.js","path":"js/services/timeline.js","modified":1,"renderable":1},{"_id":"themes/stellar/source/js/services/vote.js","path":"js/services/vote.js","modified":1,"renderable":1},{"_id":"themes/stellar/source/js/services/waline_latest_comment.js","path":"js/services/waline_latest_comment.js","modified":1,"renderable":1},{"_id":"themes/stellar/source/js/services/weibo.js","path":"js/services/weibo.js","modified":1,"renderable":1}],"Cache":[{"_id":"source/friends/index.md","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1759589527310},{"_id":"source/robots.txt","hash":"5be72e1ce3302645880ba4bfb4f2803297d28dcc","modified":1760829923030},{"_id":"source/about/index.md","hash":"5e8dcfc088aac57a28c23162a0c7ac6ce02aaea9","modified":1759779230360},{"_id":"source/messages/index.md","hash":"0bb3d6a35294b0c218d3fdca8193ed5c0d7c886d","modified":1759779257572},{"_id":"source/_posts/blog/hexo博客部署.md","hash":"f76c552e0b5c7c667c78dd6c3e0e01c38f9dcffb","modified":1760969309485},{"_id":"source/_posts/blog/hexo&stellar主题配置.md","hash":"7a8b201364ff6106a921262b8d1979a43aab4977","modified":1760969315400},{"_id":"themes/stellar/_data/chat_users.yml","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1759857114523},{"_id":"themes/stellar/source/css/_components/widgets/tree.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1758901468780},{"_id":"themes/stellar/.gitignore","hash":"f38144f2607f7545c1c68604761914e27988dabe","modified":1759857114516},{"_id":"themes/stellar/.npmignore","hash":"9f66a3a5bea36f32c51cbfff88f1a45b74c80592","modified":1759857114518},{"_id":"themes/stellar/LICENSE","hash":"7fdfdb5dbc7d672fa28a2a3c9efa03ff8df5917d","modified":1759857114519},{"_id":"themes/stellar/README.md","hash":"2af9a521d78c96c4aeb6069adcb52b138536b800","modified":1759857114520},{"_id":"themes/stellar/_config.yml","hash":"1ca2d03738d79532c8b9dd2495f85756742be9e6","modified":1759857114521},{"_id":"themes/stellar/giscus.json","hash":"af57a96a9dc188079bdcd0ad4273f1765778f5ea","modified":1759857114529},{"_id":"themes/stellar/npm-publish.sh","hash":"b137d2f0d48fccd065ba1750b886f33ad7a7236a","modified":1759857114874},{"_id":"themes/stellar/package.json","hash":"04c43bb3fb975acdbdf6e0f5145ed54e4e7b866a","modified":1759857114875},{"_id":"themes/stellar/package-lock.json","hash":"386ac72177ec9e4d44ea876b28cb92545a265d69","modified":1759857387048},{"_id":"themes/stellar/.github/config.yml","hash":"735686328f51faed377fa53bc4bab40a66e80a7b","modified":1759857114504},{"_id":"themes/stellar/_data/icons.yml","hash":"3b9ed4cec71810dfa8ec661af1811327c88bda52","modified":1759857114526},{"_id":"themes/stellar/_data/widgets.yml","hash":"d755f41b701d338b7451e1e1a18b84e1553e856f","modified":1760868850634},{"_id":"themes/stellar/layout/404.ejs","hash":"d84f01256feb3c0bc0b280031fb78ae9f0d86f26","modified":1758901467373},{"_id":"themes/stellar/languages/en.yml","hash":"42c8040336776386f974ca127f0aa1b213bb8f1a","modified":1759857114531},{"_id":"themes/stellar/layout/categories.ejs","hash":"50e24a6dd300ebb787ef3ad9d746eb7f71590772","modified":1758901467389},{"_id":"themes/stellar/layout/archive.ejs","hash":"239657e053d7a66851f3205bed74d99d892dc5a8","modified":1758901467380},{"_id":"themes/stellar/languages/zh-TW.yml","hash":"b136f321fbbab62c0c5669ee8051473db11d4d86","modified":1759857114535},{"_id":"themes/stellar/languages/zh-CN.yml","hash":"67c6742bd95c6669fe91e33ddc5950d2cf35923c","modified":1759857114533},{"_id":"themes/stellar/layout/index_wiki.ejs","hash":"d35222b0f070f31d80bb1ca90354bdc60bd62692","modified":1758901467408},{"_id":"themes/stellar/layout/index.ejs","hash":"56c641005125a0abf1227a9ba339a7dd5aac960e","modified":1758901467397},{"_id":"themes/stellar/layout/index_topic.ejs","hash":"85ac8aed79bf2e939f3def0137d1c5724d33a6e6","modified":1758901467402},{"_id":"themes/stellar/layout/layout.ejs","hash":"4d7204994d253a75db0a520decd83f1b9250275f","modified":1760862639163},{"_id":"themes/stellar/layout/notebooks.ejs","hash":"d11ab953e00bd4191459451f63601582ab53f38f","modified":1758901467416},{"_id":"themes/stellar/layout/notes.ejs","hash":"492e8d83b5233d510d094c66e66949a6a88dacf5","modified":1758901467420},{"_id":"themes/stellar/layout/page.ejs","hash":"b8070e812b4468b4a7df22d5b5e8e848afdab251","modified":1760969204979},{"_id":"themes/stellar/layout/tags.ejs","hash":"66477707f525a1ee4131c11d79defd18da641599","modified":1758901467431},{"_id":"themes/stellar/.github/ISSUE_TEMPLATE/article-share.md","hash":"f88a131062c94d8dadd0536e841966bf8547e1a7","modified":1759857114503},{"_id":"themes/stellar/.github/workflows/label-commenter.yml","hash":"f89d116ba78e3fd4a0695c2ac4176e46e3c92028","modified":1759857114512},{"_id":"themes/stellar/.github/ISSUE_TEMPLATE/any-question.yaml","hash":"312caa37c7c3090b496167e6da5f82099ca4de4e","modified":1759857114500},{"_id":"themes/stellar/layout/_plugins/copycode.ejs","hash":"7cedd8eced00f6813f7d772334ec92acbc8bd982","modified":1759259405402},{"_id":"themes/stellar/.github/configs/label-commenter-config.yml","hash":"acae6f9e872bd6a462e711771aeedcb7cdca0a86","modified":1759857114508},{"_id":"themes/stellar/layout/_plugins/fancybox.ejs","hash":"2f6b7c118fcb54a1cae0bdaa55a1e8a09cf3e013","modified":1758901467465},{"_id":"themes/stellar/.github/workflows/npm-publish.yml","hash":"9e95a1f04628056117df5ab8615acd36f3d63283","modified":1759857114515},{"_id":"themes/stellar/layout/_plugins/index.ejs","hash":"29407e95f14d4d50c1f8a8b9a5af242927676432","modified":1758901467476},{"_id":"themes/stellar/layout/_plugins/heti.ejs","hash":"c3956c8fd5fabd4ec8cea05dc076bf7a03eb012a","modified":1758901467472},{"_id":"themes/stellar/layout/_plugins/mathjax.ejs","hash":"ddcb15575bf2897c57b92c9b23ffb0b3878e5ec4","modified":1758901467483},{"_id":"themes/stellar/layout/_plugins/mermaid.ejs","hash":"5ad208b430071ed4ee84af4ae69356219ec586f0","modified":1758901467486},{"_id":"themes/stellar/layout/_plugins/preload.ejs","hash":"f25523da5633b249da8cebe7c866265bf7825697","modified":1758901467491},{"_id":"themes/stellar/layout/_plugins/scrollreveal.ejs","hash":"f763156bcd1ed4611e4541069d9d928d3df37fe9","modified":1758901467495},{"_id":"themes/stellar/layout/_plugins/swiper.ejs","hash":"b80d6185c0263375df82498705a98ad32238b12f","modified":1758901467499},{"_id":"themes/stellar/layout/_plugins/tianli_gpt.ejs","hash":"c63f65df336bd10b2c5f068830c3086f3f13f3a3","modified":1758901467504},{"_id":"themes/stellar/layout/_partial/head.ejs","hash":"b08b334fe01310344ea2526eca0f6a6bab6771e6","modified":1760803837957},{"_id":"themes/stellar/layout/_partial/menubtn.ejs","hash":"0f080d7aefc9c7e208daddf2981b81d36783e034","modified":1758901467446},{"_id":"themes/stellar/layout/_partial/scripts.ejs","hash":"125084ef723813968aac71bfe841aad5c4b6460e","modified":1758901467451},{"_id":"themes/stellar/scripts/.cache/stellar-version.json","hash":"83151688c86a9d9535d6de5188000d98ad1e0a7a","modified":1761004955141},{"_id":"themes/stellar/scripts/commands/new-note.js","hash":"dc2c0c1a956626465390579b2d6b39e66533d53e","modified":1759857114880},{"_id":"themes/stellar/scripts/events/index.js","hash":"0ce4b1068fe46e3c2cb0da1b3b8b4357d64f7250","modified":1759857114884},{"_id":"themes/stellar/scripts/filters/index.js","hash":"1fca6cadef00b661f1ef4fc27c2dffc5d97bebdd","modified":1759857114922},{"_id":"themes/stellar/scripts/filters/pretty_urls.js","hash":"b3fd456a0ce1388886306afe99ec1e7342998ee3","modified":1759857114935},{"_id":"themes/stellar/scripts/generators/notebooks.js","hash":"87ede05eb8ea9c02f53177c83a2258dc163f28dc","modified":1759857114948},{"_id":"themes/stellar/scripts/generators/404.js","hash":"66b53d2b35b18d5f3835b47467c23f31eb322553","modified":1759857114939},{"_id":"themes/stellar/scripts/generators/author.js","hash":"0de0824fdbc4f67c84910267901095504b253751","modified":1759857114942},{"_id":"themes/stellar/scripts/generators/categories.js","hash":"936d4d406fd401359bab1e5f74c6e1e097e8f092","modified":1759857114945},{"_id":"themes/stellar/scripts/generators/search.js","hash":"8a59c0923c2a4a11c09ce87fccf98c090c73a0e4","modified":1759857114950},{"_id":"themes/stellar/scripts/generators/topic.js","hash":"88c0f2990365fb0ce751682815e07f36cf333d3f","modified":1759857114955},{"_id":"themes/stellar/scripts/generators/tags.js","hash":"ed29755154d8e7a9346019ba4ac8782a8649b177","modified":1759857114952},{"_id":"themes/stellar/scripts/generators/wiki.js","hash":"61efe22787c3fea9d935df4b088a9dd2d1af0868","modified":1759857114957},{"_id":"themes/stellar/scripts/helpers/icon.js","hash":"b7c84be7f08abc1725f351ed8718791a861466c3","modified":1759857114969},{"_id":"themes/stellar/scripts/helpers/json_ld.js","hash":"16a52b6c7fb7899c4f7b04bf4e87194d71d25f06","modified":1759857114972},{"_id":"themes/stellar/scripts/helpers/category_color.js","hash":"20b19d6b6307cdeb0b0832bf4931366abe972490","modified":1759857114962},{"_id":"themes/stellar/scripts/helpers/dynamic_color.js","hash":"507acbb7445ec172e10ab03c8917a4d8132e264a","modified":1759857114966},{"_id":"themes/stellar/scripts/helpers/parse_config.js","hash":"1251d82318972f22283dc7a089b77a3f0135b1b6","modified":1759857114975},{"_id":"themes/stellar/scripts/helpers/pretty_url.js","hash":"f40f3f064d98dbecfc1a92e6bcd093407b35eb89","modified":1759857114977},{"_id":"themes/stellar/scripts/helpers/related_posts.js","hash":"6763a97fa25669fa1d1aa8e5291919deb5dc7f67","modified":1759857114979},{"_id":"themes/stellar/scripts/helpers/scrollreveal.js","hash":"57e3da4a3dd751b3ebd384a674e26f08f69da018","modified":1759857114982},{"_id":"themes/stellar/scripts/helpers/stellar_info.js","hash":"5b7a10c8b09237a467767f5467749c7d9378c2c1","modified":1759857114984},{"_id":"themes/stellar/scripts/helpers/utils.js","hash":"05c127baa250b192c9c673355bf90d7134e1ea11","modified":1759857114986},{"_id":"themes/stellar/scripts/tags/inline-labels.js","hash":"307a7331ab39521f4af0d6bdbc2ba3a114942017","modified":1759857114993},{"_id":"themes/stellar/scripts/tags/index.js","hash":"ee19ee68f94844ea7bd91dbd914938a46da3ee99","modified":1759857114990},{"_id":"themes/stellar/source/css/_custom.styl","hash":"c4c369e44494d7689d1e35407c71041bf2547cf5","modified":1759802858806},{"_id":"themes/stellar/source/css/main.styl","hash":"7244b3269d777a3a67446c0e20c53bc60b577304","modified":1758901467724},{"_id":"themes/stellar/source/js/sakura.js","hash":"23526d6f2444a5386ddb185d356566016acfe520","modified":1760853504369},{"_id":"themes/stellar/source/css/art-title.css","hash":"9f323b86396aa83d4f5698693f752e8a241bcb06","modified":1760806163463},{"_id":"themes/stellar/source/js/main.js","hash":"1c7552bd3f877b8c2c18c0fdd6b5c41471bc4514","modified":1759727531252},{"_id":"themes/stellar/source/js/darkmode.js","hash":"091c5c6ac236ca43e04abc3e402237f1d33b5f09","modified":1759772373693},{"_id":"themes/stellar/source/js/vercel-analytics.js","hash":"82dc63886025f33b982e7378fdf945f2c047c765","modified":1759839082284},{"_id":"themes/stellar/layout/_partial/comments/script.ejs","hash":"62be59ef634ceee342c81ecc4e23cb664cdbf620","modified":1758901467745},{"_id":"themes/stellar/layout/_partial/cover/index.ejs","hash":"4b317700640749b1e04e6d51a542a2bcd28c8b72","modified":1758901467749},{"_id":"themes/stellar/layout/_partial/cover/post_cover.ejs","hash":"56ed19f8150e2e3f3070a79ba7c4b63f903d9df2","modified":1758901467752},{"_id":"themes/stellar/layout/_partial/comments/layout.ejs","hash":"a38e9684721afe2015570b978654f5805e173ae0","modified":1758901467742},{"_id":"themes/stellar/layout/_partial/cover/wiki_cover.ejs","hash":"8c2b00fed4124fb9571944d87177dba4d925780d","modified":1758901467756},{"_id":"themes/stellar/layout/_plugins/search/algolia_search.ejs","hash":"1d720e4b0308a0818f45a9a4b63df1e9f6521737","modified":1758901467851},{"_id":"themes/stellar/layout/_plugins/search/local_search.ejs","hash":"38a3641bb532583b699fda42175cb14242f07575","modified":1758901467854},{"_id":"themes/stellar/layout/_partial/main/footer.ejs","hash":"c1faaa2ab3f37465d3731e40369d2eda6b9f7bcb","modified":1760862907779},{"_id":"themes/stellar/layout/_partial/sidebar/logo.ejs","hash":"9bbac48b3d18b3e686dacc624e12758c0c96f6e3","modified":1758901467801},{"_id":"themes/stellar/layout/_partial/sidebar/index_rightbar.ejs","hash":"a16ecd6d9421c30ffe2ca1a44cc9597309b5b70c","modified":1758901467797},{"_id":"themes/stellar/layout/_partial/scripts/defines.ejs","hash":"f6db1704f9b89992b802c01af332289c4af718d1","modified":1758901467765},{"_id":"themes/stellar/layout/_partial/sidebar/menu.ejs","hash":"393919683017ddbed888bdcb8beff0ef71514d2e","modified":1759603130916},{"_id":"themes/stellar/layout/_partial/sidebar/index_leftbar.ejs","hash":"c005a146d8f733e83af8f1652bbd71d75b13b807","modified":1758901467793},{"_id":"themes/stellar/layout/_partial/sidebar/search.ejs","hash":"770056e023a00b22d2853c4fa65bb48035ade3b2","modified":1758901467806},{"_id":"themes/stellar/layout/_partial/scripts/lazyload.ejs","hash":"d88f31ea258c52e80e9134b56ab58e65830f805e","modified":1758901467768},{"_id":"themes/stellar/layout/_partial/scripts/services.ejs","hash":"9dec23072ebbdf96d164bc698a11f3a09ea26d1a","modified":1758901467770},{"_id":"themes/stellar/layout/_partial/scripts/sidebar.ejs","hash":"403b6986bfc54177a7ee3ddba9e0a55e7b79e3a1","modified":1758901467774},{"_id":"themes/stellar/layout/_partial/scripts/tagtree.ejs","hash":"c16031694fee3e0c305139136126dee88e1e88cf","modified":1758901467775},{"_id":"themes/stellar/layout/_partial/scripts/theme.ejs","hash":"ad8194beff5faa3495ad72799cc81399b7d84871","modified":1758901467782},{"_id":"themes/stellar/layout/_partial/widgets/ghrepo.ejs","hash":"8586ff53e3fe7361880f77c2cc1782335770c089","modified":1758901467816},{"_id":"themes/stellar/layout/_partial/scripts/utils.ejs","hash":"d07baba303b5e03d4ee4a33d404524da3e3499cf","modified":1758901467788},{"_id":"themes/stellar/layout/_partial/widgets/author.ejs","hash":"b77e88418227d4691e2ad8a4996727753f31b1f5","modified":1758901467811},{"_id":"themes/stellar/layout/_partial/widgets/ghuser.ejs","hash":"b9ba4cca16293986e5980027fdd2da78dae95b6b","modified":1758901467818},{"_id":"themes/stellar/layout/_partial/widgets/ghissues.ejs","hash":"e65ed1f0fffb6fef595eb775d34742798bb2493e","modified":1758901467813},{"_id":"themes/stellar/layout/_partial/widgets/linklist.ejs","hash":"813336cbbe4505e9be42d5682fd7b720dba25194","modified":1758901467821},{"_id":"themes/stellar/layout/_partial/widgets/markdown.ejs","hash":"16c0553fb56422ce343e5c9ddcfda5d989c97579","modified":1758901467823},{"_id":"themes/stellar/layout/_partial/widgets/recent.ejs","hash":"425419a7b67082366ed391392d9ac861f6cba851","modified":1758901467827},{"_id":"themes/stellar/layout/_partial/widgets/tagcloud.ejs","hash":"d95c26f84c7d9061ba3ef6188d58fa14f1c63bf3","modified":1758901467832},{"_id":"themes/stellar/layout/_partial/widgets/tagtree.ejs","hash":"f7f7705da3313a90f6c3312880986a275d93d570","modified":1758901467835},{"_id":"themes/stellar/layout/_partial/widgets/related.ejs","hash":"abef14819f5c513e8834ea92a625a87cb9dfcf57","modified":1758901467829},{"_id":"themes/stellar/layout/_partial/widgets/timeline.ejs","hash":"54f105f537c5c6cd1b84e4f5e586d4cca15c3c2a","modified":1758901467838},{"_id":"themes/stellar/layout/_partial/widgets/toc.ejs","hash":"bdfd167a73304ab76903011a26be456839bd5816","modified":1758901467841},{"_id":"themes/stellar/scripts/filters/lib/img_onerror.js","hash":"d44a8e20d4d537c0cf85b980e1fc3bc84865a2d3","modified":1759857114932},{"_id":"themes/stellar/layout/_partial/widgets/tree.ejs","hash":"395b2e4cc644f2e62824b4f5493baa8208e82839","modified":1758901467844},{"_id":"themes/stellar/scripts/filters/lib/img_lazyload.js","hash":"b3dedcc1fc4189589e63d4fa6f169a70e9d63cd1","modified":1759857114928},{"_id":"themes/stellar/scripts/events/lib/authors.js","hash":"eedefb5430fc4176bdc2814c8a88295f0e524d10","modified":1759857114889},{"_id":"themes/stellar/scripts/events/lib/config.js","hash":"731a596b124fd37671fb69fecf45c94f35bcece5","modified":1759857114893},{"_id":"themes/stellar/scripts/events/lib/fix_image_tags.js","hash":"bf23791be2fdd6e12bac5745aa002888cae9bc4e","modified":1759857114899},{"_id":"themes/stellar/scripts/events/lib/doc_tree.js","hash":"f7d6b86a442afabf885566adfc02d42dc5eaf46e","modified":1759857114896},{"_id":"themes/stellar/scripts/events/lib/links.js","hash":"881cac75e4071d219a18156738e18eb397d83c00","modified":1759857114904},{"_id":"themes/stellar/scripts/events/lib/get_image_ratios.js","hash":"0fc3d7e6083a2b0482504a86206fcdd723027075","modified":1759857114902},{"_id":"themes/stellar/scripts/events/lib/merge_posts.js","hash":"4e45b8dc5317f7d66bc14879ae6b5f972123ce5d","modified":1759857114907},{"_id":"themes/stellar/scripts/events/lib/notebooks.js","hash":"ad5eae17a77a92100c748fd668c73e1b09f7a21f","modified":1759857114910},{"_id":"themes/stellar/scripts/events/lib/topic_tree.js","hash":"7f735f2573c87d202e2d4b845307d0725d619e8e","modified":1759857114913},{"_id":"themes/stellar/scripts/events/lib/version-check.js","hash":"16a9602caaa37ac5bb047bb3fa4649b61e2fb3e3","modified":1759857114918},{"_id":"themes/stellar/scripts/events/lib/utils.js","hash":"271ba6c8cc997e4f55b2e146a99bde8301818400","modified":1759857114916},{"_id":"themes/stellar/scripts/tags/lib/about.js","hash":"c9778c35c1ccd9f2018174bafbd37b23dd52cf62","modified":1759857114998},{"_id":"themes/stellar/scripts/tags/lib/albums.js","hash":"9f95c5053a59ad05df8c8add8975df24b86266e1","modified":1759857115002},{"_id":"themes/stellar/scripts/tags/lib/audio.js","hash":"9b094b16dce131a5c09373661c88a1de9b5326f7","modified":1759857115004},{"_id":"themes/stellar/scripts/tags/lib/banner.js","hash":"8c7fb7f0abe55868dea09eaa0b4ae7d52cbe6b08","modified":1759857115008},{"_id":"themes/stellar/scripts/tags/lib/box.js","hash":"66bed2e303468a8fd9c664ce3e697ceb4e3eb931","modified":1759857115013},{"_id":"themes/stellar/scripts/tags/lib/button.js","hash":"e0890a759335b1c5ad09db084bcf62073b2557cb","modified":1759857115016},{"_id":"themes/stellar/scripts/tags/lib/blockquote.js","hash":"3db333c573f94346b1b0192c57e4609966f9a43f","modified":1759857115010},{"_id":"themes/stellar/scripts/tags/lib/emoji.js","hash":"e10f68f69206fc6e9d0c478630be2b4514d328d7","modified":1759857115029},{"_id":"themes/stellar/scripts/tags/lib/checkbox.js","hash":"69caf7488b6c92cb2524df81ece6f33a46a89fe0","modified":1759857115023},{"_id":"themes/stellar/scripts/tags/lib/copy.js","hash":"d22a82b6fd9c96c7ac49677b427e6c629fa889d7","modified":1759857115026},{"_id":"themes/stellar/scripts/tags/lib/folders.js","hash":"4ca5470285541033b8272ba7cc3bd5860504169e","modified":1759857115031},{"_id":"themes/stellar/scripts/tags/lib/folding.js","hash":"9f51610fc62067a16a9c27884864f69e4200843c","modified":1759857115034},{"_id":"themes/stellar/scripts/tags/lib/frame.js","hash":"1251a8622260af8efc55c2f0aac8ee5cf79d9043","modified":1759857115037},{"_id":"themes/stellar/scripts/tags/lib/friends.js","hash":"89c23e27bd483ed1a842f205460f6c46e1cc2b2b","modified":1759857115040},{"_id":"themes/stellar/scripts/tags/lib/gallery.js","hash":"b069a958377ed370e138a633280115103c89c731","modified":1759857115044},{"_id":"themes/stellar/scripts/tags/lib/ghcard.js","hash":"87afee954b97b6f945cc4b7f50b012fca3e68f11","modified":1759857115047},{"_id":"themes/stellar/scripts/tags/lib/grid.js","hash":"dad59b638c2fd30538e3a69bf0c8d76d34cf3ece","modified":1759857115050},{"_id":"themes/stellar/scripts/tags/lib/hashtag.js","hash":"f38ce98fff40ed35be9b1f1be3194bc4c5d44dc3","modified":1759857115053},{"_id":"themes/stellar/scripts/tags/lib/icon.js","hash":"273898ae29a07c1baccb432efa0d33ccfabe7db9","modified":1759857115056},{"_id":"themes/stellar/scripts/tags/lib/image.js","hash":"b0f913a08f0b6df4271498c6a9e17d74e22b7897","modified":1759857115059},{"_id":"themes/stellar/scripts/tags/lib/link.js","hash":"5b5d41a0bbe1af30487c178c69a7373f598f16b6","modified":1759857115061},{"_id":"themes/stellar/scripts/tags/lib/mark.js","hash":"cfd8198f349dba60fbdf53042b6ebd9a0ba521c7","modified":1759857115064},{"_id":"themes/stellar/scripts/tags/lib/md.js","hash":"cbc81d08056fcf071b480c806e358bf46c61060d","modified":1759857115067},{"_id":"themes/stellar/scripts/tags/lib/navbar.js","hash":"b517b0a5758f7971868f4ca4b4472770ab205280","modified":1759857115070},{"_id":"themes/stellar/scripts/tags/lib/note.js","hash":"a70d1fcb440ad029ddddb72b053a59b1ed3bfef8","modified":1759857115072},{"_id":"themes/stellar/scripts/tags/lib/okr.js","hash":"6a11a364081ecb3fc5e36408fd57da91f6aa2297","modified":1759857115075},{"_id":"themes/stellar/scripts/tags/lib/poetry.js","hash":"c36321caeec845ed131bdd0922bff25eb59f086a","modified":1759857115078},{"_id":"themes/stellar/scripts/tags/lib/posters.js","hash":"4d9a6d4f392cd757513e94020e82e6e788962239","modified":1759857115081},{"_id":"themes/stellar/scripts/tags/lib/quot.js","hash":"c262e4bd70a2c6501909a2ef51c13e64a445637d","modified":1759857115083},{"_id":"themes/stellar/scripts/tags/lib/rating.js","hash":"0cba03c1b3931633cffc7a41a1554c025fb8d31c","modified":1759857115086},{"_id":"themes/stellar/scripts/tags/lib/sites.js","hash":"62147a1d195a07d7c57fa5cfee6d2365bf4423ca","modified":1759857115099},{"_id":"themes/stellar/scripts/tags/lib/tabs.js","hash":"1b3d7b6b962293b44430e7b40560b8d1fa5c618d","modified":1759857115105},{"_id":"themes/stellar/scripts/tags/lib/swiper.js","hash":"dc025c79b190d233383fec001ddbe478f2675cc8","modified":1759857115102},{"_id":"themes/stellar/scripts/tags/lib/timeline.js","hash":"2646355804c1c442a2ac19d6a5a67e01e36d19f2","modified":1759857115108},{"_id":"themes/stellar/scripts/tags/lib/toc.js","hash":"d7b51b66d7b83a77e501930e735092a9967d5d18","modified":1759857115111},{"_id":"themes/stellar/scripts/tags/lib/video.js","hash":"75c750467540777349a396a068517173fdac31b5","modified":1759857115113},{"_id":"themes/stellar/scripts/tags/lib/vote.js","hash":"d7fd783e9c22e6083d8042df89913c5991c9ef8c","modified":1759857115116},{"_id":"themes/stellar/source/css/_common/blur.styl","hash":"81685461475c4c98b7850490ddf54116a469306a","modified":1758901468027},{"_id":"themes/stellar/source/css/_common/base.styl","hash":"ae0332e4cf880e833648a4b30b21fbab2b0be69b","modified":1758901468025},{"_id":"themes/stellar/source/css/_common/blockquote.styl","hash":"64be440550197ab5cbed921428a8e63846bb351c","modified":1758901468026},{"_id":"themes/stellar/source/css/_common/cap.styl","hash":"1b10f72a936ad9695196116626dd741a0b797918","modified":1758901468034},{"_id":"themes/stellar/source/css/_common/control.styl","hash":"75081ca9d522a76ec4acffb8111c918b2297650a","modified":1758901468036},{"_id":"themes/stellar/source/css/_common/button.styl","hash":"6794cf6af2538d56537b7ece30132c6918a9a78f","modified":1758901468031},{"_id":"themes/stellar/source/css/_common/canonical.styl","hash":"4d6087993858fa21415a1453310905a27e5ef099","modified":1758901468033},{"_id":"themes/stellar/source/css/_common/html.styl","hash":"fae4375fc45121ffc3a43872ddc3331d6d49700d","modified":1758901468041},{"_id":"themes/stellar/source/css/_common/input.styl","hash":"953fc87072cd760d92dfef55310addbb17bb2b51","modified":1758901468044},{"_id":"themes/stellar/source/css/_common/device.styl","hash":"59a6b9ac262a87fcb57e50e69d0d6518a7cf0bf8","modified":1758901468038},{"_id":"themes/stellar/source/css/_common/image.styl","hash":"cca1103a9185202b13be49e16d77d259e9ffb482","modified":1758901468042},{"_id":"themes/stellar/source/css/_common/media.styl","hash":"fa7dbcaa31089fe547acb01a767af97fb019bba6","modified":1758901468049},{"_id":"themes/stellar/source/css/_common/layout.styl","hash":"c7d0d3c70087e14bd1f6d8d50d56762d8c5ad44d","modified":1758901468045},{"_id":"themes/stellar/source/css/_common/highlight.styl","hash":"086db146f4c108826ed41aa068805a673379fc63","modified":1758901468039},{"_id":"themes/stellar/source/css/_common/pre.styl","hash":"68b2c99a811dc03a4aa1c4ce35003f65404306e8","modified":1758901468051},{"_id":"themes/stellar/source/css/_common/svg.styl","hash":"bb4d1a4676eb5229685ba21c7c69acbf4482bf55","modified":1758901468055},{"_id":"themes/stellar/source/css/_common/span.styl","hash":"86462ffaf1603b5d5ab6534c0f7fe0eb495aad2d","modified":1758901468053},{"_id":"themes/stellar/source/css/_components/index.styl","hash":"7a7ab293e065116646102546c6bab01166836059","modified":1758901468064},{"_id":"themes/stellar/source/css/_common/loading.styl","hash":"5daad36cbb1d05e7b579e0c775ea52fd777c80e0","modified":1758901468047},{"_id":"themes/stellar/source/css/_components/main.styl","hash":"66bf332a79067e871e20ae29722175e0bb1c4f98","modified":1758901468069},{"_id":"themes/stellar/source/css/_components/layout.styl","hash":"b79b47fa9b0a81da2fabfab32cd7406dc6c38295","modified":1759757092888},{"_id":"themes/stellar/source/css/_components/list.styl","hash":"8872ff6cab827775d47e7017c9e9c028c732eb0e","modified":1758901468068},{"_id":"themes/stellar/source/css/_components/md.styl","hash":"150aa0d6654b3d2775499304c0cec8ac6112d845","modified":1758901468071},{"_id":"themes/stellar/source/css/_common/title.styl","hash":"12323840adcc748d5c854536ae38db26f7bd3687","modified":1758901468056},{"_id":"themes/stellar/source/css/_defines/func.styl","hash":"d19aaeb33d5f249b064bb338b50ee746b5a2e2ec","modified":1758901468075},{"_id":"themes/stellar/source/css/_common/toast.styl","hash":"f2930874174763da2338fa95087c345bf5c41800","modified":1758901468059},{"_id":"themes/stellar/source/css/_defines/theme_base.styl","hash":"e486eee364f8e94b660fa944432510fdac918cd2","modified":1760772979659},{"_id":"themes/stellar/source/css/_defines/const.styl","hash":"223292db0208f8ed8127d54d42501d2a29d24dc1","modified":1758901468074},{"_id":"themes/stellar/source/css/_defines/theme_colorful.styl","hash":"865605beb6c7dcc06d8fa89fbd214095190d513e","modified":1759800817954},{"_id":"themes/stellar/source/css/_plugins/fancybox.styl","hash":"f4a709dcac4e21ca0fbeca552a8dde2ac2bf8d97","modified":1758901468086},{"_id":"themes/stellar/source/css/_plugins/copycode.styl","hash":"a9f27136143eb779d1aeb903e863c94a98b82aac","modified":1758901468085},{"_id":"themes/stellar/source/css/_plugins/aplayer.styl","hash":"1012cf55ec90e90e777474e4a7086cff31289aea","modified":1759733544266},{"_id":"themes/stellar/source/css/_plugins/lazyload.styl","hash":"d4c9e49fb99ac4dccaa92c11bb3503552bc96598","modified":1758901468090},{"_id":"themes/stellar/source/css/_plugins/index.styl","hash":"c5ce6de9724f74a81c3b0567639385a2b5dcc549","modified":1758901468088},{"_id":"themes/stellar/source/css/_plugins/katex.styl","hash":"f58016799f7a534d453625fab4cd66a13063e4b8","modified":1758901468089},{"_id":"themes/stellar/source/css/_plugins/mermaid.styl","hash":"1a2643ba6375b0d3b5d56437604dcb94cd666977","modified":1758901468092},{"_id":"themes/stellar/source/css/_plugins/scrollreveal.styl","hash":"21b9125c1bae3e5348547e85500ceb992de21923","modified":1758901468093},{"_id":"themes/stellar/source/css/_plugins/swiper.styl","hash":"759fdb34f0b2019f0a5d210225748e3a18c00603","modified":1758901468095},{"_id":"themes/stellar/source/css/_plugins/tianli_gpt.styl","hash":"1f2efe2e13866e25d5a1d7471aeb2314682a9f85","modified":1758901468097},{"_id":"themes/stellar/source/js/plugins/copycode.js","hash":"af017eeaaf12e78b1700d78b199b4368d001a193","modified":1759736943328},{"_id":"themes/stellar/source/js/plugins/video.js","hash":"e87d271175dfb4763c9c017046f7d857c7a3ba56","modified":1758901468110},{"_id":"themes/stellar/source/js/plugins/voice.js","hash":"4c865125754c98dd61de28ad88c831be3d673a35","modified":1758901468115},{"_id":"themes/stellar/source/js/plugins/download-file.js","hash":"6bd0cc2f31164406013313543cb04f9ab3cd2452","modified":1758901468107},{"_id":"themes/stellar/source/js/services/contributors.js","hash":"be5c8ae1055696a0da9c5552fce20c120b2eb584","modified":1758901468130},{"_id":"themes/stellar/source/js/services/artalk_latest_comment.js","hash":"31acb9a3587aa3012569969675c17645b7722f1f","modified":1758901468129},{"_id":"themes/stellar/source/js/services/fcircle.js","hash":"a684b276713a1c6f07817de9b70744c1a5c745ea","modified":1758901468132},{"_id":"themes/stellar/source/js/services/friends.js","hash":"6b30960a86ce11998c1861cfe3b7a9ecdc28259f","modified":1758901468133},{"_id":"themes/stellar/source/js/search/local-search.js","hash":"d54e8d53e22875faa0e360fc7827f6f9dd068276","modified":1758901468124},{"_id":"themes/stellar/source/js/services/ghinfo.js","hash":"693acbabc79426bf276dd3072f40b2d9a98ee026","modified":1758901468137},{"_id":"themes/stellar/source/js/search/algolia-search.js","hash":"94dae768b275b12753553553b3338fca4973a1e3","modified":1758901468122},{"_id":"themes/stellar/source/js/services/giscus_latest_comment.js","hash":"b1f0f1a5941a4fdd20fc53444fd4fa6e58b0088e","modified":1758901468138},{"_id":"themes/stellar/source/js/services/friends_and_posts.js","hash":"0ce8b46873e21e778b315e6c190387cdd1e1e107","modified":1758901468135},{"_id":"themes/stellar/source/js/services/mdrender.js","hash":"cf90dd3f4aa37b1131fb871ec1a78eff96f2a861","modified":1758901468140},{"_id":"themes/stellar/source/js/services/memos.js","hash":"9ecffb14c952d903b21bf2184179868837f74ffa","modified":1758901468141},{"_id":"themes/stellar/source/js/services/rating.js","hash":"19e8db4f26af6e656074bebda53d9a00216a0d31","modified":1758901468144},{"_id":"themes/stellar/source/js/services/siteinfo.js","hash":"e484765fdcabdbbeabf2062baf6ccb94d7ba777f","modified":1758901468146},{"_id":"themes/stellar/source/js/services/timeline.js","hash":"43e225ee469d10efe22cae965483a0dabd13388c","modified":1758901468149},{"_id":"themes/stellar/source/js/services/sites.js","hash":"f05d40a3476c796ed9e142ec2d1de15a8d1aef92","modified":1758901468148},{"_id":"themes/stellar/source/js/services/twikoo_latest_comment.js","hash":"4e9a18f32faa168b5fd1465d91df67ae3cdde6bf","modified":1758901468151},{"_id":"themes/stellar/source/js/services/vote.js","hash":"0fdef6519fa2528f2ffd3b38272955d8469a8b2e","modified":1758901468152},{"_id":"themes/stellar/source/js/services/weibo.js","hash":"144200d261c85b4f353243afc1f50003bdf23a93","modified":1758901468155},{"_id":"themes/stellar/source/js/services/waline_latest_comment.js","hash":"25ed1f668161941869e5effd4fbb408846c6deae","modified":1759778345754},{"_id":"themes/stellar/layout/_partial/comments/giscus/layout.ejs","hash":"144e313ab45889c715ea1cfff3976b1f1322469e","modified":1758901468167},{"_id":"themes/stellar/layout/_partial/comments/beaudar/layout.ejs","hash":"431848ce38c18589ddb54d5e705bd7792872c199","modified":1758901468164},{"_id":"themes/stellar/layout/_partial/comments/giscus/script.ejs","hash":"49fd68b7752d0ca06d80a52bf800cf03845909e0","modified":1758901468169},{"_id":"themes/stellar/layout/_partial/comments/artalk/layout.ejs","hash":"43ca5e6a263f1e06fe75f4ca11ca7d955311ea72","modified":1758901468161},{"_id":"themes/stellar/layout/_partial/comments/beaudar/script.ejs","hash":"69a2582d4e9e3203368196f4806adab2274e41fb","modified":1758901468165},{"_id":"themes/stellar/layout/_partial/comments/twikoo/layout.ejs","hash":"a3d429f4eafc582f739dd48865b39afd7c22ed56","modified":1758901468170},{"_id":"themes/stellar/layout/_partial/comments/artalk/script.ejs","hash":"3ee0e3b898c1fa5e5cf3843fab0baafb7fd0e95b","modified":1758901468162},{"_id":"themes/stellar/layout/_partial/comments/twikoo/script.ejs","hash":"3c93fe825769cd70027281c28980021b3ff8c4b0","modified":1758901468173},{"_id":"themes/stellar/layout/_partial/comments/utterances/layout.ejs","hash":"431848ce38c18589ddb54d5e705bd7792872c199","modified":1758901468178},{"_id":"themes/stellar/layout/_partial/comments/utterances/script.ejs","hash":"0c54bbd610c1b31d7f45b9b4ded65690b673482c","modified":1758901468181},{"_id":"themes/stellar/layout/_partial/comments/waline/layout.ejs","hash":"2abe764ffeab5603645b0e5148a17e9373de5eb4","modified":1758901468184},{"_id":"themes/stellar/layout/_partial/comments/waline/script.ejs","hash":"ef4b59476f4edf03cb25bdffe449b5da161d1d8e","modified":1759464727010},{"_id":"themes/stellar/layout/_partial/main/navbar/article_banner.ejs","hash":"4b214cc637ea03d4dbb49d521bf79f26cdeeec7b","modified":1759804999804},{"_id":"themes/stellar/layout/_partial/main/navbar/ghinfo.ejs","hash":"336cad7d997ba31000ee1f08cd6cff84978a589a","modified":1758901468249},{"_id":"themes/stellar/layout/_partial/main/navbar/dateinfo.ejs","hash":"d6e317db0030ace1f9cbab283ae7c40183859996","modified":1758901468247},{"_id":"themes/stellar/layout/_partial/main/article/contributors.ejs","hash":"c311ed2591b8b6155734df7dd50e14a603dbbf4a","modified":1758901468192},{"_id":"themes/stellar/layout/_partial/main/navbar/nav_tabs_blog.ejs","hash":"a377fe5c3fde1fc215428cd41f82a8a7f7aa4a59","modified":1758901468252},{"_id":"themes/stellar/layout/_partial/main/navbar/nav_tabs_wiki.ejs","hash":"8a796024968a344c33a96ab0d003119ddd5d9e47","modified":1758901468294},{"_id":"themes/stellar/layout/_partial/main/article/related_posts.ejs","hash":"ef485a4dc2db40bd68b35128f2140520db859b45","modified":1758901468243},{"_id":"themes/stellar/layout/_partial/main/notebook/note_card.ejs","hash":"f9b87418fbecf9e7e3a5d074ee9e9a26f5cc1788","modified":1758901468295},{"_id":"themes/stellar/layout/_partial/main/article/read_next.ejs","hash":"ce4f88f182022e1642345ddc09f98d4982ad7fd5","modified":1758901468241},{"_id":"themes/stellar/layout/_partial/main/article/article_footer.ejs","hash":"d1bb42114db160e9f0d5ae078429db4c58bf7295","modified":1758901468189},{"_id":"themes/stellar/layout/_partial/main/notebook/note_tags.ejs","hash":"c74624f495b34cf3f40c8771542f9913f060effc","modified":1758901468297},{"_id":"themes/stellar/layout/_partial/main/notebook/notebook_card.ejs","hash":"999b9c8895d84db707b1654c42326dfbb5fbe0fa","modified":1758901468341},{"_id":"themes/stellar/layout/_partial/main/notebook/paginator.ejs","hash":"3c2f797fd3cf7e6e8c1b1dac168db26e92430b60","modified":1758901468386},{"_id":"themes/stellar/layout/_partial/main/post_list/topic_card.ejs","hash":"9f100016e7cfa07c8728f9c3cf9543ed3ed43cfe","modified":1758901468539},{"_id":"themes/stellar/layout/_partial/main/post_list/paginator.ejs","hash":"1a4b3bc64325ec7d5932ea78c36f2ec4978c09eb","modified":1758901468396},{"_id":"themes/stellar/layout/_partial/main/post_list/post_card.ejs","hash":"0de2735c06858282a94a3152bba916e2c8b70a62","modified":1758901468536},{"_id":"themes/stellar/layout/_partial/main/post_list/wiki_card.ejs","hash":"d2676c1817f09be21008fbf1c2a25e3c9dc1793f","modified":1758901468540},{"_id":"themes/stellar/layout/_partial/widgets/components/link.ejs","hash":"090d697211e4ff984923342fdd3272f46aec415c","modified":1758901468545},{"_id":"themes/stellar/layout/_partial/widgets/components/linklist.ejs","hash":"91f3a83ff54284200951637c0cfcd3e4e613942e","modified":1758901468548},{"_id":"themes/stellar/source/css/_components/pages/archives.styl","hash":"775f54ade1ed0c673946104149bf37eda06928c2","modified":1758901468565},{"_id":"themes/stellar/scripts/tags/lib/read/reel.js","hash":"3a833a0c7d29f98972d6141103d62d5abfd913e4","modified":1759857115097},{"_id":"themes/stellar/scripts/tags/lib/read/paper.js","hash":"e87bbcf10f743e1fcfadc03cf6281aee87c255f5","modified":1759857115092},{"_id":"themes/stellar/source/css/_components/pages/article-indent.styl","hash":"06ac54d4c380a973b0705e3edab099fc218b07d3","modified":1758901468567},{"_id":"themes/stellar/source/css/_components/pages/article-tech.styl","hash":"31fd2b79251b3ebc17976f68c98619a230339b6d","modified":1758901468571},{"_id":"themes/stellar/source/css/_components/pages/error.styl","hash":"91f9df285a87bc7b7e9da19d547ea4b1dc392828","modified":1758901468572},{"_id":"themes/stellar/source/css/_components/pages/article-story.styl","hash":"8c9ffd8309df412b306d2df5f732335a0391007f","modified":1758901468569},{"_id":"themes/stellar/source/css/_components/pages/notebook.styl","hash":"50784f59807f63440f49fd499f05c8871462ef1c","modified":1758901468573},{"_id":"themes/stellar/source/css/_components/partial/article-banner.styl","hash":"49acfb06f81cc0326ffb32c2401876574475fffd","modified":1758901468580},{"_id":"themes/stellar/source/css/_components/partial/bread-nav.styl","hash":"daf58b32af0b5dfea6cbfa1c3cab695976e57164","modified":1758901468633},{"_id":"themes/stellar/source/css/_components/partial/article-footer.styl","hash":"c8f47c3798efba31b87c09d880a02e8d59752481","modified":1758901468631},{"_id":"themes/stellar/source/css/_components/partial/cover.styl","hash":"ef44c47d0a70feb84d69cf8bb2bc6977f61b94f2","modified":1758901468634},{"_id":"themes/stellar/source/css/_components/partial/footer.styl","hash":"870db1f93f9f20d6e86ab11f403eb3011f384c41","modified":1758901468636},{"_id":"themes/stellar/source/css/_components/partial/navbar.styl","hash":"9aba6fb73fe63f2be97e97990b4b53f32a76a09a","modified":1759909938227},{"_id":"themes/stellar/source/css/_components/partial/paginator.styl","hash":"04a60ae497a75a8c11880544f97c44e4468608a3","modified":1758901468638},{"_id":"themes/stellar/source/css/_components/sidebar/nav-area.styl","hash":"35a7482eba84fd48f2439dff626b5e1dc7471dbe","modified":1758901468646},{"_id":"themes/stellar/source/css/_components/partial/related.styl","hash":"699c8b97933358e14ae52873831144165ad5443c","modified":1758901468639},{"_id":"themes/stellar/source/css/_components/sidebar/footer.styl","hash":"e12be49ec96b592f39be2e12b14630b45cd2f508","modified":1758901468642},{"_id":"themes/stellar/source/css/_components/sidebar/menu.styl","hash":"e240658900b15a5e4ae7eb41ee96ea707f8d43d1","modified":1759734853535},{"_id":"themes/stellar/source/css/_components/sidebar/logo.styl","hash":"f81eb3d7a49c71f728d8bf42081bde30c6ff596e","modified":1758901468644},{"_id":"themes/stellar/source/css/_components/sidebar/search.styl","hash":"976cfd5fe6b10e5227f67f7b06184d3ef009764c","modified":1759593408289},{"_id":"themes/stellar/source/css/_components/sidebar/sidebar.styl","hash":"c18bfec41f9830c2f197fc464c4fd2742e7a56e8","modified":1759737253459},{"_id":"themes/stellar/source/css/_components/widgets/components.styl","hash":"ebaa8306267f42265be69351a61ae236fc42f4b3","modified":1758901468772},{"_id":"themes/stellar/source/css/_components/widgets/ghrepo.styl","hash":"ec728b9649f617a290eb6e4084e30f892671c5b7","modified":1758901468773},{"_id":"themes/stellar/source/css/_components/widgets/ghuser.styl","hash":"21f5f557292ec7b6b434bde918c97ba2a07014ea","modified":1758901468774},{"_id":"themes/stellar/source/css/_components/widgets/list.styl","hash":"568645fa91b9bf250af335e10bd8f38df6707a1f","modified":1758901468775},{"_id":"themes/stellar/source/css/_components/widgets/markdown.styl","hash":"e687ca89549dedd4a724847df1b3be937d945e35","modified":1758901468776},{"_id":"themes/stellar/source/css/_components/widgets/related.styl","hash":"edc3e6dd86d881cce6162d6dfb10983c5b843560","modified":1758901468777},{"_id":"themes/stellar/source/css/_components/widgets/tagcloud.styl","hash":"b7bd034f85e449c1d5d0f7e691c1812fa9510a3a","modified":1758901468778},{"_id":"themes/stellar/source/css/_components/widgets/timeline.styl","hash":"b913cd570a38276e1806fb7685055beb6036973d","modified":1758901468779},{"_id":"themes/stellar/source/css/_components/widgets/toc.styl","hash":"cf3ee0ed3b6e855415fc5e858ea63127753caae8","modified":1758901468780},{"_id":"themes/stellar/source/css/_components/widgets/widgets.styl","hash":"d7d8b864b0e60ae5a55294a2be2bad9001d315c1","modified":1758901468781},{"_id":"themes/stellar/source/css/_components/tag-plugins/about.styl","hash":"cdaf1ccd782db961cecda0802c94dabe27656731","modified":1758901468652},{"_id":"themes/stellar/source/css/_components/tag-plugins/chat.styl","hash":"728954cb8b94823e19abc3483ef57b0d0beb40ae","modified":1758901468657},{"_id":"themes/stellar/source/css/_components/tag-plugins/banner.styl","hash":"6dd2b64394bed541814304b90d4bb5ee169e45bb","modified":1758901468653},{"_id":"themes/stellar/source/css/_components/tag-plugins/button.styl","hash":"25a0fd7d6a39005b2f30f03f94eaa038ece87b22","modified":1758901468656},{"_id":"themes/stellar/source/css/_components/tag-plugins/checkbox.styl","hash":"0ba4c88831b8a395e2da74969084cbb3e579a5a1","modified":1758901468658},{"_id":"themes/stellar/source/css/_components/tag-plugins/emoji.styl","hash":"100d2e0c43496464dd97fa83fa3e603e68bf30e9","modified":1758901468661},{"_id":"themes/stellar/source/css/_components/tag-plugins/copy.styl","hash":"a51ee1eea2f332d95299e408421fc1f2894b738d","modified":1758901468660},{"_id":"themes/stellar/source/css/_components/tag-plugins/folders.styl","hash":"2eae18b521a613a19dd6399dcb5504f843dcbb88","modified":1758901468665},{"_id":"themes/stellar/source/css/_components/tag-plugins/folding.styl","hash":"84eb11a5a5808f3a4bd0985d97a7b108a36fd044","modified":1758901468666},{"_id":"themes/stellar/source/css/_components/tag-plugins/frame.styl","hash":"f8621b5a155ea78c5828e7ccbd1dfe6a72c9733c","modified":1758901468666},{"_id":"themes/stellar/source/css/_components/tag-plugins/friends.styl","hash":"98cd2513e233dcc3a6aa96e0bb93e87db6d6bc5e","modified":1758901468667},{"_id":"themes/stellar/source/css/_components/tag-plugins/friends_posts.styl","hash":"405c282fa3faab5a4aa6a32971b67abb6852aadf","modified":1758901468668},{"_id":"themes/stellar/source/css/_components/tag-plugins/gallery.styl","hash":"73bc6159765a8dae07733bb313967500dcc49a75","modified":1758901468669},{"_id":"themes/stellar/source/css/_components/tag-plugins/ghcard.styl","hash":"98a50d3fab79ce03dd7f161fe3442d803712c284","modified":1758901468670},{"_id":"themes/stellar/source/css/_components/tag-plugins/grid.styl","hash":"606311fa8326152f99fc721284a09e06490d0cca","modified":1758901468671},{"_id":"themes/stellar/source/css/_components/tag-plugins/hashtag.styl","hash":"0e2e74fcff5c30be9533e451a1c06ed1477dc9aa","modified":1758901468672},{"_id":"themes/stellar/source/css/_components/tag-plugins/icon.styl","hash":"ea5372d1042db221f6c3ce5a31e18153c5e00d39","modified":1758901468673},{"_id":"themes/stellar/source/css/_components/tag-plugins/image.styl","hash":"51dc8e343a5f1ed5b8153138d1d0b4be203052b0","modified":1758901468674},{"_id":"themes/stellar/source/css/_components/tag-plugins/index.styl","hash":"d76245514a5a0aecb65120b7117cd125a70617fb","modified":1758901468675},{"_id":"themes/stellar/source/css/_components/tag-plugins/inline-labels.styl","hash":"76d7777eb68de8738286ba6ac428854bfdda1945","modified":1758901468676},{"_id":"themes/stellar/source/css/_components/tag-plugins/link.styl","hash":"b0039f8ac20f463c3b7dedf2c4f664b48cef8c41","modified":1758901468677},{"_id":"themes/stellar/source/css/_components/tag-plugins/mark.styl","hash":"1d31ad6ea25b23dd068508d05e12f76b723790a6","modified":1758901468678},{"_id":"themes/stellar/source/css/_components/tag-plugins/mdrender.styl","hash":"95ef27e5937b145329a67e829e20f77e9475ccac","modified":1758901468679},{"_id":"themes/stellar/source/css/_components/tag-plugins/media.styl","hash":"392b64b346f6f363f7a15febbc975e5d6c0d33d2","modified":1758901468680},{"_id":"themes/stellar/source/css/_components/tag-plugins/note.styl","hash":"c037dec8860118dba2c5a4f395a3af2ff33ce7b6","modified":1758901468682},{"_id":"themes/stellar/source/css/_components/tag-plugins/navbar.styl","hash":"75a5d208c0a83fa27ed33331ab97dad2bd358d36","modified":1758901468681},{"_id":"themes/stellar/source/css/_components/tag-plugins/okr.styl","hash":"3f2232b94fc7fa5a3aa7c3ea120cef87c6379fdd","modified":1758901468683},{"_id":"themes/stellar/source/css/_components/tag-plugins/override.styl","hash":"f02bad5416362f2f82213ce9b111ecfd1cd776ab","modified":1758901468684},{"_id":"themes/stellar/source/css/_components/tag-plugins/quot.styl","hash":"aa90d3d99f40da8eebb8f16cfc41ce54b62e88c6","modified":1758901468762},{"_id":"themes/stellar/source/css/_components/tag-plugins/poetry.styl","hash":"b495d798f4c8a08c6a4bf7b71e1a414b9be0786b","modified":1758901468761},{"_id":"themes/stellar/source/css/_components/tag-plugins/quote.styl","hash":"e22fd4527a90f39da29f46e5d35d4d3413ffaa77","modified":1758901468764},{"_id":"themes/stellar/source/css/_components/tag-plugins/rating.styl","hash":"498934d5b483dcb42bef70c4be7d6e058904b19e","modified":1758901468765},{"_id":"themes/stellar/source/css/_components/tag-plugins/tabs.styl","hash":"5c4b4ae76404d9bbfd428f741f371f116296cccb","modified":1758901468767},{"_id":"themes/stellar/source/css/_components/tag-plugins/sites.styl","hash":"da34492a66b411ed77a15a8c9c398145a9aaf0e2","modified":1758901468766},{"_id":"themes/stellar/source/css/_components/tag-plugins/vote.styl","hash":"9253a4627025265da5d22b49955bdc931957af91","modified":1758901468769},{"_id":"themes/stellar/source/css/_components/tag-plugins/timeline.styl","hash":"acad47a9b0175169a5515b2ef6483d7d32e1b9b1","modified":1758901468768},{"_id":"themes/stellar/source/css/_components/tag-plugins/toc.styl","hash":"32a35fe8c237583542c6965f601a32b28ad83713","modified":1758901468769},{"_id":"themes/stellar/source/css/_plugins/comments/artalk.styl","hash":"cbfd6ab362260d7e869cb1fc927d8c66e21a5390","modified":1758901468785},{"_id":"themes/stellar/source/css/_plugins/comments/twikoo.styl","hash":"838e3c44274ddce8f2d5bb3c54daf6abeae30fc6","modified":1758901468787},{"_id":"themes/stellar/source/css/_plugins/comments/beaudar.styl","hash":"e9800f67a650f1c022aee494768e05da76e6a6b7","modified":1758901468786},{"_id":"themes/stellar/source/css/_plugins/comments/utterances.styl","hash":"be43f728d9515acaf050fbb3eed83cfefa2fe702","modified":1758901468788},{"_id":"themes/stellar/source/css/_plugins/comments/waline.styl","hash":"d8830fef339e0a63ede83117c488f5244ec3c435","modified":1760772737137},{"_id":"themes/stellar/layout/_partial/main/navbar/breadcrumb/wiki.ejs","hash":"6cdde847f337ddb06bd11f9f0cd26c3183995ddb","modified":1758901468797},{"_id":"themes/stellar/source/css/_components/tag-plugins/read/paper.styl","hash":"60f9acda855f45ce57ebb2cbc5ef509aa535c0c8","modified":1758901468803},{"_id":"themes/stellar/layout/_partial/main/navbar/breadcrumb/blog.ejs","hash":"4dad91e5f12af9ee9af91e263afe0796f4f536f0","modified":1758901468794},{"_id":"themes/stellar/source/css/_components/tag-plugins/read/reel.styl","hash":"7cc17cd641629d11d435722f75525a92b02c1b5f","modified":1758901468804},{"_id":"themes/stellar/layout/_partial/main/navbar/breadcrumb/note.ejs","hash":"c5305bc48e085085334c0e04ddfc597b5c6bc7ae","modified":1758901468795},{"_id":"themes/stellar/layout/_partial/main/navbar/breadcrumb/page.ejs","hash":"e27ef964f56860d483e435143c3bf70206223484","modified":1758901468796},{"_id":"themes/stellar/scripts/tags/lib/chat.js","hash":"18b145f6c47641aabf5cb9fa5696b834a9f74974","modified":1759857115020}],"Category":[{"name":"博客搭建","_id":"cuidoSjlkLWvKCCkQvdAsR5D6"}],"Data":[],"Page":[{"_content":"","source":"friends/index.md","raw":"","date":"2025-10-08T16:57:35.068Z","updated":"2025-10-04T14:52:07.310Z","path":"friends/index.html","title":"","comments":1,"layout":"page","_id":"cuidt7Si7znFq6onqb9TwCQaD","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"/assets/css/APlayer.min.css\"><script src=\"/assets/js/APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><script class=\"meting-secondary-script-marker\" src=\"/assets/js/Meting.min.js\"></script>","excerpt":"","more":""},{"title":"关于作者","layout":"page","comments":0,"_content":"\n<style>\n/* 强制隐藏面包屑、目录和AI摘要 */\n.article.banner.top,\n.post-ai,\n.toc,\n.wl-reaction,\n.table-of-contents {\n  display: none !important;\n}\n\n[data-theme=\"light\"] {\n  --primary-color: #A8B8E0;\n  --primary-light: #B8C8F0;\n  --primary-dark: #7A95D6;\n  --bg-color: #fefefe;\n  --card-bg: #f9fafb;\n  --text-color: #374151;\n  --text-light: #6b7280;\n  --border-color: #e5e7eb;\n  --shadow: 0 2px 8px rgba(0,0,0,0.05);\n}\n\n[data-theme=\"dark\"] {\n  --primary-color: #6B8CD8;\n  --primary-light: #8BA6F0;\n  --primary-dark: #5A7BC7;\n  --bg-color: #1f2937;\n  --card-bg: #374151;\n  --text-color: #f3f4f6;\n  --text-light: #d1d5db;\n  --border-color: #4b5563;\n  --shadow: 0 2px 8px rgba(0,0,0,0.15);\n}\n\n.about-page {\n  max-width: 900px;\n  margin: 0 auto;\n  padding: 15px;\n  font-family: \"LXGW WenKai Screen\";\n  line-height: 1.5;\n  color: var(--text-color);\n  background-color: var(--bg-color);\n  transition: all 0.3s ease;\n  position: relative;\n}\n\n/* 个人简介卡片 */\n.profile-card {\n  display: flex;\n  align-items: center;\n  background: linear-gradient(135deg, var(--primary-light) 0%, var(--primary-color) 100%);\n  color: white;\n  padding: 20px;\n  border-radius: 10px;\n  margin-bottom: 20px;\n  box-shadow: var(--shadow);\n  margin-top: 40px;\n}\n\n.avatar-container {\n  margin-right: 20px;\n}\n\n.avatar {\n  width: 80px;\n  height: 80px;\n  border-radius: 50%;\n  border: 3px solid rgba(255,255,255,0.3);\n  object-fit: cover;\n}\n\n.profile-content h1 {\n  margin: 0 0 8px 0;\n  font-size: 1.4em;\n  font-weight: 600;\n}\n\n.subtitle {\n  margin: 0 0 12px 0;\n  opacity: 0.9;\n  font-size: 1em;\n}\n\n.expertise-tags {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 6px;\n}\n\n.tag {\n  background: rgba(255,255,255,0.25);\n  padding: 4px 10px;\n  border-radius: 14px;\n  font-size: 0.85em;\n  backdrop-filter: blur(5px);\n  display: flex;\n  align-items: center;\n  gap: 5px;\n}\n\n/* 通用区块样式 */\n.section {\n  background: var(--card-bg);\n  padding: 20px;\n  border-radius: 8px;\n  box-shadow: var(--shadow);\n  margin-bottom: 20px;\n  border: 1px solid var(--border-color);\n  transition: all 0.3s ease;\n}\n\n.section h2 {\n  margin-top: 0;\n  margin-bottom: 15px;\n  color: var(--text-color);\n  font-size: 1.3em;\n  border-bottom: 1px solid var(--border-color);\n  padding-bottom: 8px;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n/* 技能网格 */\n.skills-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));\n  gap: 15px;\n}\n\n.skill-card {\n  background: var(--bg-color);\n  padding: 15px;\n  border-radius: 6px;\n  border-left: 3px solid var(--primary-color);\n  transition: all 0.3s ease;\n}\n\n.skill-header {\n  display: flex;\n  align-items: center;\n  margin-bottom: 12px;\n}\n\n.skill-icon {\n  font-size: 1.5em;\n  margin-right: 10px;\n  width: 35px;\n  text-align: center;\n  color: var(--primary-color);\n}\n\n.skill-card h3 {\n  margin: 0;\n  color: var(--text-color);\n  font-size: 1.1em;\n}\n\n.skill-card ul {\n  margin: 0;\n  padding-left: 18px;\n}\n\n.skill-card li {\n  margin-bottom: 6px;\n  color: var(--text-light);\n  font-size: 0.9em;\n}\n\n/* 学习方向 */\n.learning-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));\n  gap: 15px;\n}\n\n.learning-card {\n  background: var(--bg-color);\n  padding: 15px;\n  border: 1px solid var(--primary-light);\n  border-radius: 6px;\n  transition: all 0.3s ease;\n}\n\n.learning-card h3 {\n  margin-top: 0;\n  margin-bottom: 12px;\n  color: var(--text-color);\n  font-size: 1.1em;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.learning-card ul {\n  margin: 0;\n  padding-left: 18px;\n}\n\n.learning-card li {\n  margin-bottom: 6px;\n  color: var(--text-light);\n  font-size: 0.9em;\n}\n\n/* 兴趣网格 */\n.interests-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));\n  gap: 12px;\n}\n\n.interest-item {\n  display: flex;\n  align-items: center;\n  background: var(--bg-color);\n  padding: 12px;\n  border-radius: 6px;\n  transition: all 0.3s ease;\n}\n\n.interest-icon {\n  font-size: 1.5em;\n  margin-right: 12px;\n  width: 35px;\n  text-align: center;\n  color: var(--primary-color);\n}\n\n.interest-content h4 {\n  margin: 0 0 4px 0;\n  color: var(--text-color);\n  font-size: 1em;\n}\n\n.interest-content p {\n  margin: 0;\n  color: var(--text-light);\n  font-size: 0.85em;\n}\n\n/* 目的网格 */\n.purpose-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));\n  gap: 12px;\n}\n\n.purpose-card {\n  background: var(--bg-color);\n  padding: 15px;\n  border-radius: 6px;\n  text-align: center;\n  transition: all 0.3s ease;\n}\n\n.purpose-card h4 {\n  margin: 0 0 8px 0;\n  color: var(--text-color);\n  font-size: 1em;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 6px;\n}\n\n.purpose-card p {\n  margin: 0;\n  color: var(--text-light);\n  font-size: 0.85em;\n  line-height: 1.4;\n}\n\n/* 联系区块 */\n.contact-section {\n  background: linear-gradient(135deg, var(--primary-light) 0%, var(--primary-color) 100%);\n  color: white;\n  text-align: center;\n}\n\n.contact-section h2 {\n  color: white;\n  border-bottom-color: rgba(255,255,255,0.3);\n}\n\n.contact-intro {\n  margin-bottom: 15px;\n  opacity: 0.9;\n  font-size: 0.95em;\n}\n\n.contact-info {\n  background: rgba(255,255,255,0.15);\n  padding: 12px;\n  border-radius: 6px;\n  margin-bottom: 15px;\n  text-align: left;\n  font-size: 0.9em;\n}\n\n.contact-info p {\n  margin: 0 0 8px 0;\n}\n\n.contact-info p:last-child {\n  margin-bottom: 0;\n}\n\n.contact-buttons {\n  display: flex;\n  justify-content: center;\n  gap: 12px;\n  flex-wrap: wrap;\n}\n\n.contact-btn {\n  display: inline-flex;\n  align-items: center;\n  gap: 6px;\n  padding: 8px 16px;\n  background: rgba(255,255,255,0.25);\n  color: white;\n  text-decoration: none;\n  border-radius: 20px;\n  transition: all 0.3s ease;\n  backdrop-filter: blur(5px);\n  border: 1px solid rgba(255,255,255,0.3);\n  font-size: 0.9em;\n}\n\n.contact-btn:hover {\n  background: rgba(255,255,255,0.35);\n  transform: translateY(-1px);\n}\n\n/* 响应式设计 */\n@media (max-width: 768px) {\n  .about-page {\n    padding: 10px;\n  }\n  \n  .profile-card {\n    flex-direction: column;\n    text-align: center;\n    padding: 15px;\n    margin-top: 30px;\n  }\n  \n  .avatar-container {\n    margin-right: 0;\n    margin-bottom: 12px;\n  }\n  \n  .skills-grid,\n  .learning-grid,\n  .interests-grid,\n  .purpose-grid {\n    grid-template-columns: 1fr;\n  }\n  \n  .contact-buttons {\n    flex-direction: column;\n    align-items: center;\n  }\n  \n  .contact-btn {\n    width: 180px;\n    justify-content: center;\n  }\n}\n\n@media (max-width: 480px) {\n  .profile-content h1 {\n    font-size: 1.2em;\n  }\n  \n  .section {\n    padding: 15px 12px;\n  }\n  \n  .interest-item {\n    flex-direction: column;\n    text-align: center;\n  }\n  \n  .interest-icon {\n    margin-right: 0;\n    margin-bottom: 8px;\n  }\n}\n\n/* 平滑过渡效果 */\n* {\n  transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease, box-shadow 0.3s ease;\n}\n</style>\n\n<!-- 个人简介 -->\n<div class=\"profile-card\">\n<div class=\"avatar-container\">\n    <img src=\"https://u.sam7.top/iX3aHW\" alt=\"作者头像\" class=\"avatar\" onerror=\"this.style.display='none'\">\n</div>\n<div class=\"profile-content\">\n    <h1><i class=\"fas fa-bolt\"></i> 开关电源设计 · 五年搬砖经验</h1>\n    <p class=\"subtitle\">擅长140W及以下功率的开关电源设计与优化</p>\n    <div class=\"expertise-tags\">\n    <span class=\"tag\"><i class=\"fas fa-plug\"></i> 电源适配器</span>\n    <span class=\"tag\"><i class=\"fas fa-mobile-screen-button\"></i> 快充充电器</span>\n    <span class=\"tag\"><i class=\"fas fa-plug-circle-bolt\"></i> 车载充电器</span>\n    <span class=\"tag\"><i class=\"fas fa-tachometer-alt\"></i> 仪表电源</span>\n    </div>\n</div>\n</div>\n\n<!-- 专业技能 -->\n<div class=\"section\">\n<h2><i class=\"fas fa-tools\"></i> 专业能力</h2>\n<div class=\"skills-grid\">\n    <div class=\"skill-card\">\n    <div class=\"skill-header\">\n        <span class=\"skill-icon\"><i class=\"fas fa-microchip\"></i></span>\n        <h3>电路设计</h3>\n    </div>\n    <ul>\n        <li>熟练使用 Altium Designer、KiCad 等软件进行原理图与PCB设计</li>\n        <li>熟悉开关电源PCB设计规范与安规要求</li>\n        <li>综合考虑EMC、热管理、可制造性等因素</li>\n    </ul>\n    </div>\n    <div class=\"skill-card\">\n    <div class=\"skill-header\">\n        <span class=\"skill-icon\"><i class=\"fas fa-project-diagram\"></i></span>\n        <h3>电路拓扑</h3>\n    </div>\n    <ul>\n        <li>熟练掌握 Buck、Boost、Buck-Boost、Flyback、AHB等拓扑</li>\n        <li>熟练掌握PFC电路、恒压恒流等电路</li>\n    </ul>\n    </div>\n    <div class=\"skill-card\">\n    <div class=\"skill-header\">\n        <span class=\"skill-icon\"><i class=\"fas fa-search\"></i></span>\n        <h3>设计验证</h3>\n    </div>\n    <ul>\n        <li>熟悉元器件选型计算与性能分析</li>\n        <li>了解开关电源性能指标</li>\n        <li>熟练掌握电源性能测试方法</li>\n    </ul>\n    </div>\n</div>\n</div>\n\n<!-- 学习规划 -->\n<div class=\"section\">\n<h2><i class=\"fas fa-rocket\"></i> 学习方向</h2>\n<div class=\"learning-grid\">\n    <div class=\"learning-card\">\n    <h3><i class=\"fas fa-code\"></i> 软件技能提升</h3>\n    <ul>\n        <li>Python - 电路仿真与数据分析</li>\n        <li>自动化脚本开发与应用</li>\n        <li>C语言与嵌入式系统学习</li>\n        <li>电源设计工具开发</li>\n    </ul>\n    </div>\n    <div class=\"learning-card\">\n    <h3><i class=\"fas fa-microchip\"></i> 硬件技术深化</h3>\n    <ul>\n        <li>大功率电源设计技术</li>\n        <li>大功率电源拓扑学习</li>\n        <li>环路稳定性分析与优化</li>\n        <li>电磁兼容性设计与仿真</li>\n    </ul>\n    </div>\n</div>\n</div>\n\n<!-- 个人兴趣 -->\n<div class=\"section\">\n<h2><i class=\"fas fa-heart\"></i> 个人兴趣</h2>\n<div class=\"interests-grid\">\n    <div class=\"interest-item\">\n    <span class=\"interest-icon\"><i class=\"fas fa-running\"></i></span>\n    <div class=\"interest-content\">\n        <h4>跑步爱好者</h4>\n        <p>马拉松训练 · 科学方法 · 运动康复</p>\n    </div>\n    </div>\n    <div class=\"interest-item\">\n    <span class=\"interest-icon\"><i class=\"fas fa-music\"></i></span>\n    <div class=\"interest-content\">\n        <h4>音乐娱乐</h4>\n        <p>音乐欣赏 · 电子游戏 · 动画电影</p>\n    </div>\n    </div>\n    <div class=\"interest-item\">\n    <span class=\"interest-icon\"><i class=\"fab fa-creative-commons\"></i></span>\n    <div class=\"interest-content\">\n        <h4>拥抱开源</h4>\n        <p>开源软件 · 技术分享 · 社区贡献</p>\n    </div>\n    </div>\n</div>\n</div>\n\n<!-- 建站目的 -->\n<div class=\"section\">\n<h2><i class=\"fas fa-star\"></i> 写作初衷</h2>\n<div class=\"purpose-grid\">\n    <div class=\"purpose-card\">\n    <h4><i class=\"fas fa-book\"></i> 技术沉淀</h4>\n    <p>记录工作中的技术难题与解决方案，形成个人知识体系</p>\n    </div>\n    <div class=\"purpose-card\">\n    <h4><i class=\"fas fa-running\"></i> 跑步记录</h4>\n    <p>分享训练心得、伤痛管理经验与科学训练方法</p>\n    </div>\n    <div class=\"purpose-card\">\n    <h4><i class=\"fas fa-share-alt\"></i> 经验分享</h4>\n    <p>整理个人在电源设计中的一些心得，希望能与同行交流探讨</p>\n    </div>\n    <div class=\"purpose-card\">\n    <h4><i class=\"fas fa-graduation-cap\"></i> 学习成长</h4>\n    <p>记录学习历程，见证个人技能与认知的持续提升</p>\n    </div>\n</div>\n</div>\n\n<!-- 联系方式 -->\n<div class=\"section contact-section\">\n<h2><i class=\"fa-solid fa-phone-volume\"></i> 交流联系</h2>\n<p class=\"contact-intro\">如果您对电源设计、技术分享或跑步相关有兴趣，欢迎与我交流探讨！</p>\n<div class=\"contact-info\">\n    <p><strong>擅长领域：</strong>开关电源设计 · PCB设计 · 电源测试</p>\n    <p><strong>学习方向：</strong>大功率电源拓扑 · 电源仿真 · Python</p>\n</div>\n<div class=\"contact-buttons\">\n    <a href=\"mailto:2690640537@qq.com\" class=\"contact-btn\"><i class=\"fas fa-envelope\"></i> 邮箱</a>\n    <a href=\"https://github.com/sam7xx\" class=\"contact-btn\"><i class=\"fab fa-github\"></i> GitHub</a>\n    <a href=\"/messages\" class=\"contact-btn\"><i class=\"fas fa-comments\"></i> 留言</a>\n    <a href=\"/\" class=\"contact-btn\"><i class=\"fas fa-home\"></i> 首页</a>\n    <a href=\"/archives\" class=\"contact-btn\"><i class=\"fas fa-archive\"></i> 归档</a>\n    <a href=\"/categories\" class=\"contact-btn\"><i class=\"fa-solid fa-list\"></i> 分类</a>\n    <a href=\"/tags\" class=\"contact-btn\"><i class=\"fas fa-tag\"></i> 标签 </a>\n    <a href=\"/atom.xml\" class=\"contact-btn\"><i class=\"fas fa-rss\"></i> RSS </a>\n    <a href=\"/links\" class=\"contact-btn\"><i class=\"fas fa-link\"></i> 友链 </a>\n</div>\n</div>\n","source":"about/index.md","raw":"---\ntitle: 关于作者\nlayout: page\ncomments: false\n---\n\n<style>\n/* 强制隐藏面包屑、目录和AI摘要 */\n.article.banner.top,\n.post-ai,\n.toc,\n.wl-reaction,\n.table-of-contents {\n  display: none !important;\n}\n\n[data-theme=\"light\"] {\n  --primary-color: #A8B8E0;\n  --primary-light: #B8C8F0;\n  --primary-dark: #7A95D6;\n  --bg-color: #fefefe;\n  --card-bg: #f9fafb;\n  --text-color: #374151;\n  --text-light: #6b7280;\n  --border-color: #e5e7eb;\n  --shadow: 0 2px 8px rgba(0,0,0,0.05);\n}\n\n[data-theme=\"dark\"] {\n  --primary-color: #6B8CD8;\n  --primary-light: #8BA6F0;\n  --primary-dark: #5A7BC7;\n  --bg-color: #1f2937;\n  --card-bg: #374151;\n  --text-color: #f3f4f6;\n  --text-light: #d1d5db;\n  --border-color: #4b5563;\n  --shadow: 0 2px 8px rgba(0,0,0,0.15);\n}\n\n.about-page {\n  max-width: 900px;\n  margin: 0 auto;\n  padding: 15px;\n  font-family: \"LXGW WenKai Screen\";\n  line-height: 1.5;\n  color: var(--text-color);\n  background-color: var(--bg-color);\n  transition: all 0.3s ease;\n  position: relative;\n}\n\n/* 个人简介卡片 */\n.profile-card {\n  display: flex;\n  align-items: center;\n  background: linear-gradient(135deg, var(--primary-light) 0%, var(--primary-color) 100%);\n  color: white;\n  padding: 20px;\n  border-radius: 10px;\n  margin-bottom: 20px;\n  box-shadow: var(--shadow);\n  margin-top: 40px;\n}\n\n.avatar-container {\n  margin-right: 20px;\n}\n\n.avatar {\n  width: 80px;\n  height: 80px;\n  border-radius: 50%;\n  border: 3px solid rgba(255,255,255,0.3);\n  object-fit: cover;\n}\n\n.profile-content h1 {\n  margin: 0 0 8px 0;\n  font-size: 1.4em;\n  font-weight: 600;\n}\n\n.subtitle {\n  margin: 0 0 12px 0;\n  opacity: 0.9;\n  font-size: 1em;\n}\n\n.expertise-tags {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 6px;\n}\n\n.tag {\n  background: rgba(255,255,255,0.25);\n  padding: 4px 10px;\n  border-radius: 14px;\n  font-size: 0.85em;\n  backdrop-filter: blur(5px);\n  display: flex;\n  align-items: center;\n  gap: 5px;\n}\n\n/* 通用区块样式 */\n.section {\n  background: var(--card-bg);\n  padding: 20px;\n  border-radius: 8px;\n  box-shadow: var(--shadow);\n  margin-bottom: 20px;\n  border: 1px solid var(--border-color);\n  transition: all 0.3s ease;\n}\n\n.section h2 {\n  margin-top: 0;\n  margin-bottom: 15px;\n  color: var(--text-color);\n  font-size: 1.3em;\n  border-bottom: 1px solid var(--border-color);\n  padding-bottom: 8px;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n/* 技能网格 */\n.skills-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));\n  gap: 15px;\n}\n\n.skill-card {\n  background: var(--bg-color);\n  padding: 15px;\n  border-radius: 6px;\n  border-left: 3px solid var(--primary-color);\n  transition: all 0.3s ease;\n}\n\n.skill-header {\n  display: flex;\n  align-items: center;\n  margin-bottom: 12px;\n}\n\n.skill-icon {\n  font-size: 1.5em;\n  margin-right: 10px;\n  width: 35px;\n  text-align: center;\n  color: var(--primary-color);\n}\n\n.skill-card h3 {\n  margin: 0;\n  color: var(--text-color);\n  font-size: 1.1em;\n}\n\n.skill-card ul {\n  margin: 0;\n  padding-left: 18px;\n}\n\n.skill-card li {\n  margin-bottom: 6px;\n  color: var(--text-light);\n  font-size: 0.9em;\n}\n\n/* 学习方向 */\n.learning-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));\n  gap: 15px;\n}\n\n.learning-card {\n  background: var(--bg-color);\n  padding: 15px;\n  border: 1px solid var(--primary-light);\n  border-radius: 6px;\n  transition: all 0.3s ease;\n}\n\n.learning-card h3 {\n  margin-top: 0;\n  margin-bottom: 12px;\n  color: var(--text-color);\n  font-size: 1.1em;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.learning-card ul {\n  margin: 0;\n  padding-left: 18px;\n}\n\n.learning-card li {\n  margin-bottom: 6px;\n  color: var(--text-light);\n  font-size: 0.9em;\n}\n\n/* 兴趣网格 */\n.interests-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));\n  gap: 12px;\n}\n\n.interest-item {\n  display: flex;\n  align-items: center;\n  background: var(--bg-color);\n  padding: 12px;\n  border-radius: 6px;\n  transition: all 0.3s ease;\n}\n\n.interest-icon {\n  font-size: 1.5em;\n  margin-right: 12px;\n  width: 35px;\n  text-align: center;\n  color: var(--primary-color);\n}\n\n.interest-content h4 {\n  margin: 0 0 4px 0;\n  color: var(--text-color);\n  font-size: 1em;\n}\n\n.interest-content p {\n  margin: 0;\n  color: var(--text-light);\n  font-size: 0.85em;\n}\n\n/* 目的网格 */\n.purpose-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));\n  gap: 12px;\n}\n\n.purpose-card {\n  background: var(--bg-color);\n  padding: 15px;\n  border-radius: 6px;\n  text-align: center;\n  transition: all 0.3s ease;\n}\n\n.purpose-card h4 {\n  margin: 0 0 8px 0;\n  color: var(--text-color);\n  font-size: 1em;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 6px;\n}\n\n.purpose-card p {\n  margin: 0;\n  color: var(--text-light);\n  font-size: 0.85em;\n  line-height: 1.4;\n}\n\n/* 联系区块 */\n.contact-section {\n  background: linear-gradient(135deg, var(--primary-light) 0%, var(--primary-color) 100%);\n  color: white;\n  text-align: center;\n}\n\n.contact-section h2 {\n  color: white;\n  border-bottom-color: rgba(255,255,255,0.3);\n}\n\n.contact-intro {\n  margin-bottom: 15px;\n  opacity: 0.9;\n  font-size: 0.95em;\n}\n\n.contact-info {\n  background: rgba(255,255,255,0.15);\n  padding: 12px;\n  border-radius: 6px;\n  margin-bottom: 15px;\n  text-align: left;\n  font-size: 0.9em;\n}\n\n.contact-info p {\n  margin: 0 0 8px 0;\n}\n\n.contact-info p:last-child {\n  margin-bottom: 0;\n}\n\n.contact-buttons {\n  display: flex;\n  justify-content: center;\n  gap: 12px;\n  flex-wrap: wrap;\n}\n\n.contact-btn {\n  display: inline-flex;\n  align-items: center;\n  gap: 6px;\n  padding: 8px 16px;\n  background: rgba(255,255,255,0.25);\n  color: white;\n  text-decoration: none;\n  border-radius: 20px;\n  transition: all 0.3s ease;\n  backdrop-filter: blur(5px);\n  border: 1px solid rgba(255,255,255,0.3);\n  font-size: 0.9em;\n}\n\n.contact-btn:hover {\n  background: rgba(255,255,255,0.35);\n  transform: translateY(-1px);\n}\n\n/* 响应式设计 */\n@media (max-width: 768px) {\n  .about-page {\n    padding: 10px;\n  }\n  \n  .profile-card {\n    flex-direction: column;\n    text-align: center;\n    padding: 15px;\n    margin-top: 30px;\n  }\n  \n  .avatar-container {\n    margin-right: 0;\n    margin-bottom: 12px;\n  }\n  \n  .skills-grid,\n  .learning-grid,\n  .interests-grid,\n  .purpose-grid {\n    grid-template-columns: 1fr;\n  }\n  \n  .contact-buttons {\n    flex-direction: column;\n    align-items: center;\n  }\n  \n  .contact-btn {\n    width: 180px;\n    justify-content: center;\n  }\n}\n\n@media (max-width: 480px) {\n  .profile-content h1 {\n    font-size: 1.2em;\n  }\n  \n  .section {\n    padding: 15px 12px;\n  }\n  \n  .interest-item {\n    flex-direction: column;\n    text-align: center;\n  }\n  \n  .interest-icon {\n    margin-right: 0;\n    margin-bottom: 8px;\n  }\n}\n\n/* 平滑过渡效果 */\n* {\n  transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease, box-shadow 0.3s ease;\n}\n</style>\n\n<!-- 个人简介 -->\n<div class=\"profile-card\">\n<div class=\"avatar-container\">\n    <img src=\"https://u.sam7.top/iX3aHW\" alt=\"作者头像\" class=\"avatar\" onerror=\"this.style.display='none'\">\n</div>\n<div class=\"profile-content\">\n    <h1><i class=\"fas fa-bolt\"></i> 开关电源设计 · 五年搬砖经验</h1>\n    <p class=\"subtitle\">擅长140W及以下功率的开关电源设计与优化</p>\n    <div class=\"expertise-tags\">\n    <span class=\"tag\"><i class=\"fas fa-plug\"></i> 电源适配器</span>\n    <span class=\"tag\"><i class=\"fas fa-mobile-screen-button\"></i> 快充充电器</span>\n    <span class=\"tag\"><i class=\"fas fa-plug-circle-bolt\"></i> 车载充电器</span>\n    <span class=\"tag\"><i class=\"fas fa-tachometer-alt\"></i> 仪表电源</span>\n    </div>\n</div>\n</div>\n\n<!-- 专业技能 -->\n<div class=\"section\">\n<h2><i class=\"fas fa-tools\"></i> 专业能力</h2>\n<div class=\"skills-grid\">\n    <div class=\"skill-card\">\n    <div class=\"skill-header\">\n        <span class=\"skill-icon\"><i class=\"fas fa-microchip\"></i></span>\n        <h3>电路设计</h3>\n    </div>\n    <ul>\n        <li>熟练使用 Altium Designer、KiCad 等软件进行原理图与PCB设计</li>\n        <li>熟悉开关电源PCB设计规范与安规要求</li>\n        <li>综合考虑EMC、热管理、可制造性等因素</li>\n    </ul>\n    </div>\n    <div class=\"skill-card\">\n    <div class=\"skill-header\">\n        <span class=\"skill-icon\"><i class=\"fas fa-project-diagram\"></i></span>\n        <h3>电路拓扑</h3>\n    </div>\n    <ul>\n        <li>熟练掌握 Buck、Boost、Buck-Boost、Flyback、AHB等拓扑</li>\n        <li>熟练掌握PFC电路、恒压恒流等电路</li>\n    </ul>\n    </div>\n    <div class=\"skill-card\">\n    <div class=\"skill-header\">\n        <span class=\"skill-icon\"><i class=\"fas fa-search\"></i></span>\n        <h3>设计验证</h3>\n    </div>\n    <ul>\n        <li>熟悉元器件选型计算与性能分析</li>\n        <li>了解开关电源性能指标</li>\n        <li>熟练掌握电源性能测试方法</li>\n    </ul>\n    </div>\n</div>\n</div>\n\n<!-- 学习规划 -->\n<div class=\"section\">\n<h2><i class=\"fas fa-rocket\"></i> 学习方向</h2>\n<div class=\"learning-grid\">\n    <div class=\"learning-card\">\n    <h3><i class=\"fas fa-code\"></i> 软件技能提升</h3>\n    <ul>\n        <li>Python - 电路仿真与数据分析</li>\n        <li>自动化脚本开发与应用</li>\n        <li>C语言与嵌入式系统学习</li>\n        <li>电源设计工具开发</li>\n    </ul>\n    </div>\n    <div class=\"learning-card\">\n    <h3><i class=\"fas fa-microchip\"></i> 硬件技术深化</h3>\n    <ul>\n        <li>大功率电源设计技术</li>\n        <li>大功率电源拓扑学习</li>\n        <li>环路稳定性分析与优化</li>\n        <li>电磁兼容性设计与仿真</li>\n    </ul>\n    </div>\n</div>\n</div>\n\n<!-- 个人兴趣 -->\n<div class=\"section\">\n<h2><i class=\"fas fa-heart\"></i> 个人兴趣</h2>\n<div class=\"interests-grid\">\n    <div class=\"interest-item\">\n    <span class=\"interest-icon\"><i class=\"fas fa-running\"></i></span>\n    <div class=\"interest-content\">\n        <h4>跑步爱好者</h4>\n        <p>马拉松训练 · 科学方法 · 运动康复</p>\n    </div>\n    </div>\n    <div class=\"interest-item\">\n    <span class=\"interest-icon\"><i class=\"fas fa-music\"></i></span>\n    <div class=\"interest-content\">\n        <h4>音乐娱乐</h4>\n        <p>音乐欣赏 · 电子游戏 · 动画电影</p>\n    </div>\n    </div>\n    <div class=\"interest-item\">\n    <span class=\"interest-icon\"><i class=\"fab fa-creative-commons\"></i></span>\n    <div class=\"interest-content\">\n        <h4>拥抱开源</h4>\n        <p>开源软件 · 技术分享 · 社区贡献</p>\n    </div>\n    </div>\n</div>\n</div>\n\n<!-- 建站目的 -->\n<div class=\"section\">\n<h2><i class=\"fas fa-star\"></i> 写作初衷</h2>\n<div class=\"purpose-grid\">\n    <div class=\"purpose-card\">\n    <h4><i class=\"fas fa-book\"></i> 技术沉淀</h4>\n    <p>记录工作中的技术难题与解决方案，形成个人知识体系</p>\n    </div>\n    <div class=\"purpose-card\">\n    <h4><i class=\"fas fa-running\"></i> 跑步记录</h4>\n    <p>分享训练心得、伤痛管理经验与科学训练方法</p>\n    </div>\n    <div class=\"purpose-card\">\n    <h4><i class=\"fas fa-share-alt\"></i> 经验分享</h4>\n    <p>整理个人在电源设计中的一些心得，希望能与同行交流探讨</p>\n    </div>\n    <div class=\"purpose-card\">\n    <h4><i class=\"fas fa-graduation-cap\"></i> 学习成长</h4>\n    <p>记录学习历程，见证个人技能与认知的持续提升</p>\n    </div>\n</div>\n</div>\n\n<!-- 联系方式 -->\n<div class=\"section contact-section\">\n<h2><i class=\"fa-solid fa-phone-volume\"></i> 交流联系</h2>\n<p class=\"contact-intro\">如果您对电源设计、技术分享或跑步相关有兴趣，欢迎与我交流探讨！</p>\n<div class=\"contact-info\">\n    <p><strong>擅长领域：</strong>开关电源设计 · PCB设计 · 电源测试</p>\n    <p><strong>学习方向：</strong>大功率电源拓扑 · 电源仿真 · Python</p>\n</div>\n<div class=\"contact-buttons\">\n    <a href=\"mailto:2690640537@qq.com\" class=\"contact-btn\"><i class=\"fas fa-envelope\"></i> 邮箱</a>\n    <a href=\"https://github.com/sam7xx\" class=\"contact-btn\"><i class=\"fab fa-github\"></i> GitHub</a>\n    <a href=\"/messages\" class=\"contact-btn\"><i class=\"fas fa-comments\"></i> 留言</a>\n    <a href=\"/\" class=\"contact-btn\"><i class=\"fas fa-home\"></i> 首页</a>\n    <a href=\"/archives\" class=\"contact-btn\"><i class=\"fas fa-archive\"></i> 归档</a>\n    <a href=\"/categories\" class=\"contact-btn\"><i class=\"fa-solid fa-list\"></i> 分类</a>\n    <a href=\"/tags\" class=\"contact-btn\"><i class=\"fas fa-tag\"></i> 标签 </a>\n    <a href=\"/atom.xml\" class=\"contact-btn\"><i class=\"fas fa-rss\"></i> RSS </a>\n    <a href=\"/links\" class=\"contact-btn\"><i class=\"fas fa-link\"></i> 友链 </a>\n</div>\n</div>\n","date":"2025-10-08T16:57:35.066Z","updated":"2025-10-06T19:33:50.360Z","path":"about/index.html","_id":"cuidj9n96ZW2sJPdaUCwgiZoT","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"/assets/css/APlayer.min.css\"><script src=\"/assets/js/APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><script class=\"meting-secondary-script-marker\" src=\"/assets/js/Meting.min.js\"></script><style>\n/* 强制隐藏面包屑、目录和AI摘要 */\n.article.banner.top,\n.post-ai,\n.toc,\n.wl-reaction,\n.table-of-contents {\n  display: none !important;\n}\n\n[data-theme=\"light\"] {\n  --primary-color: #A8B8E0;\n  --primary-light: #B8C8F0;\n  --primary-dark: #7A95D6;\n  --bg-color: #fefefe;\n  --card-bg: #f9fafb;\n  --text-color: #374151;\n  --text-light: #6b7280;\n  --border-color: #e5e7eb;\n  --shadow: 0 2px 8px rgba(0,0,0,0.05);\n}\n\n[data-theme=\"dark\"] {\n  --primary-color: #6B8CD8;\n  --primary-light: #8BA6F0;\n  --primary-dark: #5A7BC7;\n  --bg-color: #1f2937;\n  --card-bg: #374151;\n  --text-color: #f3f4f6;\n  --text-light: #d1d5db;\n  --border-color: #4b5563;\n  --shadow: 0 2px 8px rgba(0,0,0,0.15);\n}\n\n.about-page {\n  max-width: 900px;\n  margin: 0 auto;\n  padding: 15px;\n  font-family: \"LXGW WenKai Screen\";\n  line-height: 1.5;\n  color: var(--text-color);\n  background-color: var(--bg-color);\n  transition: all 0.3s ease;\n  position: relative;\n}\n\n/* 个人简介卡片 */\n.profile-card {\n  display: flex;\n  align-items: center;\n  background: linear-gradient(135deg, var(--primary-light) 0%, var(--primary-color) 100%);\n  color: white;\n  padding: 20px;\n  border-radius: 10px;\n  margin-bottom: 20px;\n  box-shadow: var(--shadow);\n  margin-top: 40px;\n}\n\n.avatar-container {\n  margin-right: 20px;\n}\n\n.avatar {\n  width: 80px;\n  height: 80px;\n  border-radius: 50%;\n  border: 3px solid rgba(255,255,255,0.3);\n  object-fit: cover;\n}\n\n.profile-content h1 {\n  margin: 0 0 8px 0;\n  font-size: 1.4em;\n  font-weight: 600;\n}\n\n.subtitle {\n  margin: 0 0 12px 0;\n  opacity: 0.9;\n  font-size: 1em;\n}\n\n.expertise-tags {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 6px;\n}\n\n.tag {\n  background: rgba(255,255,255,0.25);\n  padding: 4px 10px;\n  border-radius: 14px;\n  font-size: 0.85em;\n  backdrop-filter: blur(5px);\n  display: flex;\n  align-items: center;\n  gap: 5px;\n}\n\n/* 通用区块样式 */\n.section {\n  background: var(--card-bg);\n  padding: 20px;\n  border-radius: 8px;\n  box-shadow: var(--shadow);\n  margin-bottom: 20px;\n  border: 1px solid var(--border-color);\n  transition: all 0.3s ease;\n}\n\n.section h2 {\n  margin-top: 0;\n  margin-bottom: 15px;\n  color: var(--text-color);\n  font-size: 1.3em;\n  border-bottom: 1px solid var(--border-color);\n  padding-bottom: 8px;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n/* 技能网格 */\n.skills-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));\n  gap: 15px;\n}\n\n.skill-card {\n  background: var(--bg-color);\n  padding: 15px;\n  border-radius: 6px;\n  border-left: 3px solid var(--primary-color);\n  transition: all 0.3s ease;\n}\n\n.skill-header {\n  display: flex;\n  align-items: center;\n  margin-bottom: 12px;\n}\n\n.skill-icon {\n  font-size: 1.5em;\n  margin-right: 10px;\n  width: 35px;\n  text-align: center;\n  color: var(--primary-color);\n}\n\n.skill-card h3 {\n  margin: 0;\n  color: var(--text-color);\n  font-size: 1.1em;\n}\n\n.skill-card ul {\n  margin: 0;\n  padding-left: 18px;\n}\n\n.skill-card li {\n  margin-bottom: 6px;\n  color: var(--text-light);\n  font-size: 0.9em;\n}\n\n/* 学习方向 */\n.learning-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));\n  gap: 15px;\n}\n\n.learning-card {\n  background: var(--bg-color);\n  padding: 15px;\n  border: 1px solid var(--primary-light);\n  border-radius: 6px;\n  transition: all 0.3s ease;\n}\n\n.learning-card h3 {\n  margin-top: 0;\n  margin-bottom: 12px;\n  color: var(--text-color);\n  font-size: 1.1em;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.learning-card ul {\n  margin: 0;\n  padding-left: 18px;\n}\n\n.learning-card li {\n  margin-bottom: 6px;\n  color: var(--text-light);\n  font-size: 0.9em;\n}\n\n/* 兴趣网格 */\n.interests-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));\n  gap: 12px;\n}\n\n.interest-item {\n  display: flex;\n  align-items: center;\n  background: var(--bg-color);\n  padding: 12px;\n  border-radius: 6px;\n  transition: all 0.3s ease;\n}\n\n.interest-icon {\n  font-size: 1.5em;\n  margin-right: 12px;\n  width: 35px;\n  text-align: center;\n  color: var(--primary-color);\n}\n\n.interest-content h4 {\n  margin: 0 0 4px 0;\n  color: var(--text-color);\n  font-size: 1em;\n}\n\n.interest-content p {\n  margin: 0;\n  color: var(--text-light);\n  font-size: 0.85em;\n}\n\n/* 目的网格 */\n.purpose-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));\n  gap: 12px;\n}\n\n.purpose-card {\n  background: var(--bg-color);\n  padding: 15px;\n  border-radius: 6px;\n  text-align: center;\n  transition: all 0.3s ease;\n}\n\n.purpose-card h4 {\n  margin: 0 0 8px 0;\n  color: var(--text-color);\n  font-size: 1em;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 6px;\n}\n\n.purpose-card p {\n  margin: 0;\n  color: var(--text-light);\n  font-size: 0.85em;\n  line-height: 1.4;\n}\n\n/* 联系区块 */\n.contact-section {\n  background: linear-gradient(135deg, var(--primary-light) 0%, var(--primary-color) 100%);\n  color: white;\n  text-align: center;\n}\n\n.contact-section h2 {\n  color: white;\n  border-bottom-color: rgba(255,255,255,0.3);\n}\n\n.contact-intro {\n  margin-bottom: 15px;\n  opacity: 0.9;\n  font-size: 0.95em;\n}\n\n.contact-info {\n  background: rgba(255,255,255,0.15);\n  padding: 12px;\n  border-radius: 6px;\n  margin-bottom: 15px;\n  text-align: left;\n  font-size: 0.9em;\n}\n\n.contact-info p {\n  margin: 0 0 8px 0;\n}\n\n.contact-info p:last-child {\n  margin-bottom: 0;\n}\n\n.contact-buttons {\n  display: flex;\n  justify-content: center;\n  gap: 12px;\n  flex-wrap: wrap;\n}\n\n.contact-btn {\n  display: inline-flex;\n  align-items: center;\n  gap: 6px;\n  padding: 8px 16px;\n  background: rgba(255,255,255,0.25);\n  color: white;\n  text-decoration: none;\n  border-radius: 20px;\n  transition: all 0.3s ease;\n  backdrop-filter: blur(5px);\n  border: 1px solid rgba(255,255,255,0.3);\n  font-size: 0.9em;\n}\n\n.contact-btn:hover {\n  background: rgba(255,255,255,0.35);\n  transform: translateY(-1px);\n}\n\n/* 响应式设计 */\n@media (max-width: 768px) {\n  .about-page {\n    padding: 10px;\n  }\n  \n  .profile-card {\n    flex-direction: column;\n    text-align: center;\n    padding: 15px;\n    margin-top: 30px;\n  }\n  \n  .avatar-container {\n    margin-right: 0;\n    margin-bottom: 12px;\n  }\n  \n  .skills-grid,\n  .learning-grid,\n  .interests-grid,\n  .purpose-grid {\n    grid-template-columns: 1fr;\n  }\n  \n  .contact-buttons {\n    flex-direction: column;\n    align-items: center;\n  }\n  \n  .contact-btn {\n    width: 180px;\n    justify-content: center;\n  }\n}\n\n@media (max-width: 480px) {\n  .profile-content h1 {\n    font-size: 1.2em;\n  }\n  \n  .section {\n    padding: 15px 12px;\n  }\n  \n  .interest-item {\n    flex-direction: column;\n    text-align: center;\n  }\n  \n  .interest-icon {\n    margin-right: 0;\n    margin-bottom: 8px;\n  }\n}\n\n/* 平滑过渡效果 */\n* {\n  transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease, box-shadow 0.3s ease;\n}\n</style>\n<!-- 个人简介 -->\n<div class=\"profile-card\">\n<div class=\"avatar-container\">\n    <img src=\"https://u.sam7.top/iX3aHW\" alt=\"作者头像\" class=\"avatar\" onerror=\"this.style.display='none'\">\n</div>\n<div class=\"profile-content\">\n    <h1><i class=\"fas fa-bolt\"></i> 开关电源设计 · 五年搬砖经验</h1>\n    <p class=\"subtitle\">擅长140W及以下功率的开关电源设计与优化</p>\n    <div class=\"expertise-tags\">\n    <span class=\"tag\"><i class=\"fas fa-plug\"></i> 电源适配器</span>\n    <span class=\"tag\"><i class=\"fas fa-mobile-screen-button\"></i> 快充充电器</span>\n    <span class=\"tag\"><i class=\"fas fa-plug-circle-bolt\"></i> 车载充电器</span>\n    <span class=\"tag\"><i class=\"fas fa-tachometer-alt\"></i> 仪表电源</span>\n    </div>\n</div>\n</div>\n<!-- 专业技能 -->\n<div class=\"section\">\n<h2><i class=\"fas fa-tools\"></i> 专业能力</h2>\n<div class=\"skills-grid\">\n    <div class=\"skill-card\">\n    <div class=\"skill-header\">\n        <span class=\"skill-icon\"><i class=\"fas fa-microchip\"></i></span>\n        <h3>电路设计</h3>\n    </div>\n    <ul>\n        <li>熟练使用 Altium Designer、KiCad 等软件进行原理图与PCB设计</li>\n        <li>熟悉开关电源PCB设计规范与安规要求</li>\n        <li>综合考虑EMC、热管理、可制造性等因素</li>\n    </ul>\n    </div>\n    <div class=\"skill-card\">\n    <div class=\"skill-header\">\n        <span class=\"skill-icon\"><i class=\"fas fa-project-diagram\"></i></span>\n        <h3>电路拓扑</h3>\n    </div>\n    <ul>\n        <li>熟练掌握 Buck、Boost、Buck-Boost、Flyback、AHB等拓扑</li>\n        <li>熟练掌握PFC电路、恒压恒流等电路</li>\n    </ul>\n    </div>\n    <div class=\"skill-card\">\n    <div class=\"skill-header\">\n        <span class=\"skill-icon\"><i class=\"fas fa-search\"></i></span>\n        <h3>设计验证</h3>\n    </div>\n    <ul>\n        <li>熟悉元器件选型计算与性能分析</li>\n        <li>了解开关电源性能指标</li>\n        <li>熟练掌握电源性能测试方法</li>\n    </ul>\n    </div>\n</div>\n</div>\n<!-- 学习规划 -->\n<div class=\"section\">\n<h2><i class=\"fas fa-rocket\"></i> 学习方向</h2>\n<div class=\"learning-grid\">\n    <div class=\"learning-card\">\n    <h3><i class=\"fas fa-code\"></i> 软件技能提升</h3>\n    <ul>\n        <li>Python - 电路仿真与数据分析</li>\n        <li>自动化脚本开发与应用</li>\n        <li>C语言与嵌入式系统学习</li>\n        <li>电源设计工具开发</li>\n    </ul>\n    </div>\n    <div class=\"learning-card\">\n    <h3><i class=\"fas fa-microchip\"></i> 硬件技术深化</h3>\n    <ul>\n        <li>大功率电源设计技术</li>\n        <li>大功率电源拓扑学习</li>\n        <li>环路稳定性分析与优化</li>\n        <li>电磁兼容性设计与仿真</li>\n    </ul>\n    </div>\n</div>\n</div>\n<!-- 个人兴趣 -->\n<div class=\"section\">\n<h2><i class=\"fas fa-heart\"></i> 个人兴趣</h2>\n<div class=\"interests-grid\">\n    <div class=\"interest-item\">\n    <span class=\"interest-icon\"><i class=\"fas fa-running\"></i></span>\n    <div class=\"interest-content\">\n        <h4>跑步爱好者</h4>\n        <p>马拉松训练 · 科学方法 · 运动康复</p>\n    </div>\n    </div>\n    <div class=\"interest-item\">\n    <span class=\"interest-icon\"><i class=\"fas fa-music\"></i></span>\n    <div class=\"interest-content\">\n        <h4>音乐娱乐</h4>\n        <p>音乐欣赏 · 电子游戏 · 动画电影</p>\n    </div>\n    </div>\n    <div class=\"interest-item\">\n    <span class=\"interest-icon\"><i class=\"fab fa-creative-commons\"></i></span>\n    <div class=\"interest-content\">\n        <h4>拥抱开源</h4>\n        <p>开源软件 · 技术分享 · 社区贡献</p>\n    </div>\n    </div>\n</div>\n</div>\n<!-- 建站目的 -->\n<div class=\"section\">\n<h2><i class=\"fas fa-star\"></i> 写作初衷</h2>\n<div class=\"purpose-grid\">\n    <div class=\"purpose-card\">\n    <h4><i class=\"fas fa-book\"></i> 技术沉淀</h4>\n    <p>记录工作中的技术难题与解决方案，形成个人知识体系</p>\n    </div>\n    <div class=\"purpose-card\">\n    <h4><i class=\"fas fa-running\"></i> 跑步记录</h4>\n    <p>分享训练心得、伤痛管理经验与科学训练方法</p>\n    </div>\n    <div class=\"purpose-card\">\n    <h4><i class=\"fas fa-share-alt\"></i> 经验分享</h4>\n    <p>整理个人在电源设计中的一些心得，希望能与同行交流探讨</p>\n    </div>\n    <div class=\"purpose-card\">\n    <h4><i class=\"fas fa-graduation-cap\"></i> 学习成长</h4>\n    <p>记录学习历程，见证个人技能与认知的持续提升</p>\n    </div>\n</div>\n</div>\n<!-- 联系方式 -->\n<div class=\"section contact-section\">\n<h2><i class=\"fa-solid fa-phone-volume\"></i> 交流联系</h2>\n<p class=\"contact-intro\">如果您对电源设计、技术分享或跑步相关有兴趣，欢迎与我交流探讨！</p>\n<div class=\"contact-info\">\n    <p><strong>擅长领域：</strong>开关电源设计 · PCB设计 · 电源测试</p>\n    <p><strong>学习方向：</strong>大功率电源拓扑 · 电源仿真 · Python</p>\n</div>\n<div class=\"contact-buttons\">\n    <a href=\"mailto:2690640537@qq.com\" class=\"contact-btn\"><i class=\"fas fa-envelope\"></i> 邮箱</a>\n    <a href=\"https://github.com/sam7xx\" class=\"contact-btn\"><i class=\"fab fa-github\"></i> GitHub</a>\n    <a href=\"/messages\" class=\"contact-btn\"><i class=\"fas fa-comments\"></i> 留言</a>\n    <a href=\"/\" class=\"contact-btn\"><i class=\"fas fa-home\"></i> 首页</a>\n    <a href=\"/archives\" class=\"contact-btn\"><i class=\"fas fa-archive\"></i> 归档</a>\n    <a href=\"/categories\" class=\"contact-btn\"><i class=\"fa-solid fa-list\"></i> 分类</a>\n    <a href=\"/tags\" class=\"contact-btn\"><i class=\"fas fa-tag\"></i> 标签 </a>\n    <a href=\"/atom.xml\" class=\"contact-btn\"><i class=\"fas fa-rss\"></i> RSS </a>\n    <a href=\"/links\" class=\"contact-btn\"><i class=\"fas fa-link\"></i> 友链 </a>\n</div>\n</div>\n","excerpt":"","more":"<style>\n/* 强制隐藏面包屑、目录和AI摘要 */\n.article.banner.top,\n.post-ai,\n.toc,\n.wl-reaction,\n.table-of-contents {\n  display: none !important;\n}\n\n[data-theme=\"light\"] {\n  --primary-color: #A8B8E0;\n  --primary-light: #B8C8F0;\n  --primary-dark: #7A95D6;\n  --bg-color: #fefefe;\n  --card-bg: #f9fafb;\n  --text-color: #374151;\n  --text-light: #6b7280;\n  --border-color: #e5e7eb;\n  --shadow: 0 2px 8px rgba(0,0,0,0.05);\n}\n\n[data-theme=\"dark\"] {\n  --primary-color: #6B8CD8;\n  --primary-light: #8BA6F0;\n  --primary-dark: #5A7BC7;\n  --bg-color: #1f2937;\n  --card-bg: #374151;\n  --text-color: #f3f4f6;\n  --text-light: #d1d5db;\n  --border-color: #4b5563;\n  --shadow: 0 2px 8px rgba(0,0,0,0.15);\n}\n\n.about-page {\n  max-width: 900px;\n  margin: 0 auto;\n  padding: 15px;\n  font-family: \"LXGW WenKai Screen\";\n  line-height: 1.5;\n  color: var(--text-color);\n  background-color: var(--bg-color);\n  transition: all 0.3s ease;\n  position: relative;\n}\n\n/* 个人简介卡片 */\n.profile-card {\n  display: flex;\n  align-items: center;\n  background: linear-gradient(135deg, var(--primary-light) 0%, var(--primary-color) 100%);\n  color: white;\n  padding: 20px;\n  border-radius: 10px;\n  margin-bottom: 20px;\n  box-shadow: var(--shadow);\n  margin-top: 40px;\n}\n\n.avatar-container {\n  margin-right: 20px;\n}\n\n.avatar {\n  width: 80px;\n  height: 80px;\n  border-radius: 50%;\n  border: 3px solid rgba(255,255,255,0.3);\n  object-fit: cover;\n}\n\n.profile-content h1 {\n  margin: 0 0 8px 0;\n  font-size: 1.4em;\n  font-weight: 600;\n}\n\n.subtitle {\n  margin: 0 0 12px 0;\n  opacity: 0.9;\n  font-size: 1em;\n}\n\n.expertise-tags {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 6px;\n}\n\n.tag {\n  background: rgba(255,255,255,0.25);\n  padding: 4px 10px;\n  border-radius: 14px;\n  font-size: 0.85em;\n  backdrop-filter: blur(5px);\n  display: flex;\n  align-items: center;\n  gap: 5px;\n}\n\n/* 通用区块样式 */\n.section {\n  background: var(--card-bg);\n  padding: 20px;\n  border-radius: 8px;\n  box-shadow: var(--shadow);\n  margin-bottom: 20px;\n  border: 1px solid var(--border-color);\n  transition: all 0.3s ease;\n}\n\n.section h2 {\n  margin-top: 0;\n  margin-bottom: 15px;\n  color: var(--text-color);\n  font-size: 1.3em;\n  border-bottom: 1px solid var(--border-color);\n  padding-bottom: 8px;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n/* 技能网格 */\n.skills-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));\n  gap: 15px;\n}\n\n.skill-card {\n  background: var(--bg-color);\n  padding: 15px;\n  border-radius: 6px;\n  border-left: 3px solid var(--primary-color);\n  transition: all 0.3s ease;\n}\n\n.skill-header {\n  display: flex;\n  align-items: center;\n  margin-bottom: 12px;\n}\n\n.skill-icon {\n  font-size: 1.5em;\n  margin-right: 10px;\n  width: 35px;\n  text-align: center;\n  color: var(--primary-color);\n}\n\n.skill-card h3 {\n  margin: 0;\n  color: var(--text-color);\n  font-size: 1.1em;\n}\n\n.skill-card ul {\n  margin: 0;\n  padding-left: 18px;\n}\n\n.skill-card li {\n  margin-bottom: 6px;\n  color: var(--text-light);\n  font-size: 0.9em;\n}\n\n/* 学习方向 */\n.learning-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));\n  gap: 15px;\n}\n\n.learning-card {\n  background: var(--bg-color);\n  padding: 15px;\n  border: 1px solid var(--primary-light);\n  border-radius: 6px;\n  transition: all 0.3s ease;\n}\n\n.learning-card h3 {\n  margin-top: 0;\n  margin-bottom: 12px;\n  color: var(--text-color);\n  font-size: 1.1em;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.learning-card ul {\n  margin: 0;\n  padding-left: 18px;\n}\n\n.learning-card li {\n  margin-bottom: 6px;\n  color: var(--text-light);\n  font-size: 0.9em;\n}\n\n/* 兴趣网格 */\n.interests-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));\n  gap: 12px;\n}\n\n.interest-item {\n  display: flex;\n  align-items: center;\n  background: var(--bg-color);\n  padding: 12px;\n  border-radius: 6px;\n  transition: all 0.3s ease;\n}\n\n.interest-icon {\n  font-size: 1.5em;\n  margin-right: 12px;\n  width: 35px;\n  text-align: center;\n  color: var(--primary-color);\n}\n\n.interest-content h4 {\n  margin: 0 0 4px 0;\n  color: var(--text-color);\n  font-size: 1em;\n}\n\n.interest-content p {\n  margin: 0;\n  color: var(--text-light);\n  font-size: 0.85em;\n}\n\n/* 目的网格 */\n.purpose-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));\n  gap: 12px;\n}\n\n.purpose-card {\n  background: var(--bg-color);\n  padding: 15px;\n  border-radius: 6px;\n  text-align: center;\n  transition: all 0.3s ease;\n}\n\n.purpose-card h4 {\n  margin: 0 0 8px 0;\n  color: var(--text-color);\n  font-size: 1em;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 6px;\n}\n\n.purpose-card p {\n  margin: 0;\n  color: var(--text-light);\n  font-size: 0.85em;\n  line-height: 1.4;\n}\n\n/* 联系区块 */\n.contact-section {\n  background: linear-gradient(135deg, var(--primary-light) 0%, var(--primary-color) 100%);\n  color: white;\n  text-align: center;\n}\n\n.contact-section h2 {\n  color: white;\n  border-bottom-color: rgba(255,255,255,0.3);\n}\n\n.contact-intro {\n  margin-bottom: 15px;\n  opacity: 0.9;\n  font-size: 0.95em;\n}\n\n.contact-info {\n  background: rgba(255,255,255,0.15);\n  padding: 12px;\n  border-radius: 6px;\n  margin-bottom: 15px;\n  text-align: left;\n  font-size: 0.9em;\n}\n\n.contact-info p {\n  margin: 0 0 8px 0;\n}\n\n.contact-info p:last-child {\n  margin-bottom: 0;\n}\n\n.contact-buttons {\n  display: flex;\n  justify-content: center;\n  gap: 12px;\n  flex-wrap: wrap;\n}\n\n.contact-btn {\n  display: inline-flex;\n  align-items: center;\n  gap: 6px;\n  padding: 8px 16px;\n  background: rgba(255,255,255,0.25);\n  color: white;\n  text-decoration: none;\n  border-radius: 20px;\n  transition: all 0.3s ease;\n  backdrop-filter: blur(5px);\n  border: 1px solid rgba(255,255,255,0.3);\n  font-size: 0.9em;\n}\n\n.contact-btn:hover {\n  background: rgba(255,255,255,0.35);\n  transform: translateY(-1px);\n}\n\n/* 响应式设计 */\n@media (max-width: 768px) {\n  .about-page {\n    padding: 10px;\n  }\n  \n  .profile-card {\n    flex-direction: column;\n    text-align: center;\n    padding: 15px;\n    margin-top: 30px;\n  }\n  \n  .avatar-container {\n    margin-right: 0;\n    margin-bottom: 12px;\n  }\n  \n  .skills-grid,\n  .learning-grid,\n  .interests-grid,\n  .purpose-grid {\n    grid-template-columns: 1fr;\n  }\n  \n  .contact-buttons {\n    flex-direction: column;\n    align-items: center;\n  }\n  \n  .contact-btn {\n    width: 180px;\n    justify-content: center;\n  }\n}\n\n@media (max-width: 480px) {\n  .profile-content h1 {\n    font-size: 1.2em;\n  }\n  \n  .section {\n    padding: 15px 12px;\n  }\n  \n  .interest-item {\n    flex-direction: column;\n    text-align: center;\n  }\n  \n  .interest-icon {\n    margin-right: 0;\n    margin-bottom: 8px;\n  }\n}\n\n/* 平滑过渡效果 */\n* {\n  transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease, box-shadow 0.3s ease;\n}\n</style>\n<!-- 个人简介 -->\n<div class=\"profile-card\">\n<div class=\"avatar-container\">\n    <img src=\"https://u.sam7.top/iX3aHW\" alt=\"作者头像\" class=\"avatar\" onerror=\"this.style.display='none'\">\n</div>\n<div class=\"profile-content\">\n    <h1><i class=\"fas fa-bolt\"></i> 开关电源设计 · 五年搬砖经验</h1>\n    <p class=\"subtitle\">擅长140W及以下功率的开关电源设计与优化</p>\n    <div class=\"expertise-tags\">\n    <span class=\"tag\"><i class=\"fas fa-plug\"></i> 电源适配器</span>\n    <span class=\"tag\"><i class=\"fas fa-mobile-screen-button\"></i> 快充充电器</span>\n    <span class=\"tag\"><i class=\"fas fa-plug-circle-bolt\"></i> 车载充电器</span>\n    <span class=\"tag\"><i class=\"fas fa-tachometer-alt\"></i> 仪表电源</span>\n    </div>\n</div>\n</div>\n<!-- 专业技能 -->\n<div class=\"section\">\n<h2><i class=\"fas fa-tools\"></i> 专业能力</h2>\n<div class=\"skills-grid\">\n    <div class=\"skill-card\">\n    <div class=\"skill-header\">\n        <span class=\"skill-icon\"><i class=\"fas fa-microchip\"></i></span>\n        <h3>电路设计</h3>\n    </div>\n    <ul>\n        <li>熟练使用 Altium Designer、KiCad 等软件进行原理图与PCB设计</li>\n        <li>熟悉开关电源PCB设计规范与安规要求</li>\n        <li>综合考虑EMC、热管理、可制造性等因素</li>\n    </ul>\n    </div>\n    <div class=\"skill-card\">\n    <div class=\"skill-header\">\n        <span class=\"skill-icon\"><i class=\"fas fa-project-diagram\"></i></span>\n        <h3>电路拓扑</h3>\n    </div>\n    <ul>\n        <li>熟练掌握 Buck、Boost、Buck-Boost、Flyback、AHB等拓扑</li>\n        <li>熟练掌握PFC电路、恒压恒流等电路</li>\n    </ul>\n    </div>\n    <div class=\"skill-card\">\n    <div class=\"skill-header\">\n        <span class=\"skill-icon\"><i class=\"fas fa-search\"></i></span>\n        <h3>设计验证</h3>\n    </div>\n    <ul>\n        <li>熟悉元器件选型计算与性能分析</li>\n        <li>了解开关电源性能指标</li>\n        <li>熟练掌握电源性能测试方法</li>\n    </ul>\n    </div>\n</div>\n</div>\n<!-- 学习规划 -->\n<div class=\"section\">\n<h2><i class=\"fas fa-rocket\"></i> 学习方向</h2>\n<div class=\"learning-grid\">\n    <div class=\"learning-card\">\n    <h3><i class=\"fas fa-code\"></i> 软件技能提升</h3>\n    <ul>\n        <li>Python - 电路仿真与数据分析</li>\n        <li>自动化脚本开发与应用</li>\n        <li>C语言与嵌入式系统学习</li>\n        <li>电源设计工具开发</li>\n    </ul>\n    </div>\n    <div class=\"learning-card\">\n    <h3><i class=\"fas fa-microchip\"></i> 硬件技术深化</h3>\n    <ul>\n        <li>大功率电源设计技术</li>\n        <li>大功率电源拓扑学习</li>\n        <li>环路稳定性分析与优化</li>\n        <li>电磁兼容性设计与仿真</li>\n    </ul>\n    </div>\n</div>\n</div>\n<!-- 个人兴趣 -->\n<div class=\"section\">\n<h2><i class=\"fas fa-heart\"></i> 个人兴趣</h2>\n<div class=\"interests-grid\">\n    <div class=\"interest-item\">\n    <span class=\"interest-icon\"><i class=\"fas fa-running\"></i></span>\n    <div class=\"interest-content\">\n        <h4>跑步爱好者</h4>\n        <p>马拉松训练 · 科学方法 · 运动康复</p>\n    </div>\n    </div>\n    <div class=\"interest-item\">\n    <span class=\"interest-icon\"><i class=\"fas fa-music\"></i></span>\n    <div class=\"interest-content\">\n        <h4>音乐娱乐</h4>\n        <p>音乐欣赏 · 电子游戏 · 动画电影</p>\n    </div>\n    </div>\n    <div class=\"interest-item\">\n    <span class=\"interest-icon\"><i class=\"fab fa-creative-commons\"></i></span>\n    <div class=\"interest-content\">\n        <h4>拥抱开源</h4>\n        <p>开源软件 · 技术分享 · 社区贡献</p>\n    </div>\n    </div>\n</div>\n</div>\n<!-- 建站目的 -->\n<div class=\"section\">\n<h2><i class=\"fas fa-star\"></i> 写作初衷</h2>\n<div class=\"purpose-grid\">\n    <div class=\"purpose-card\">\n    <h4><i class=\"fas fa-book\"></i> 技术沉淀</h4>\n    <p>记录工作中的技术难题与解决方案，形成个人知识体系</p>\n    </div>\n    <div class=\"purpose-card\">\n    <h4><i class=\"fas fa-running\"></i> 跑步记录</h4>\n    <p>分享训练心得、伤痛管理经验与科学训练方法</p>\n    </div>\n    <div class=\"purpose-card\">\n    <h4><i class=\"fas fa-share-alt\"></i> 经验分享</h4>\n    <p>整理个人在电源设计中的一些心得，希望能与同行交流探讨</p>\n    </div>\n    <div class=\"purpose-card\">\n    <h4><i class=\"fas fa-graduation-cap\"></i> 学习成长</h4>\n    <p>记录学习历程，见证个人技能与认知的持续提升</p>\n    </div>\n</div>\n</div>\n<!-- 联系方式 -->\n<div class=\"section contact-section\">\n<h2><i class=\"fa-solid fa-phone-volume\"></i> 交流联系</h2>\n<p class=\"contact-intro\">如果您对电源设计、技术分享或跑步相关有兴趣，欢迎与我交流探讨！</p>\n<div class=\"contact-info\">\n    <p><strong>擅长领域：</strong>开关电源设计 · PCB设计 · 电源测试</p>\n    <p><strong>学习方向：</strong>大功率电源拓扑 · 电源仿真 · Python</p>\n</div>\n<div class=\"contact-buttons\">\n    <a href=\"mailto:2690640537@qq.com\" class=\"contact-btn\"><i class=\"fas fa-envelope\"></i> 邮箱</a>\n    <a href=\"https://github.com/sam7xx\" class=\"contact-btn\"><i class=\"fab fa-github\"></i> GitHub</a>\n    <a href=\"/messages\" class=\"contact-btn\"><i class=\"fas fa-comments\"></i> 留言</a>\n    <a href=\"/\" class=\"contact-btn\"><i class=\"fas fa-home\"></i> 首页</a>\n    <a href=\"/archives\" class=\"contact-btn\"><i class=\"fas fa-archive\"></i> 归档</a>\n    <a href=\"/categories\" class=\"contact-btn\"><i class=\"fa-solid fa-list\"></i> 分类</a>\n    <a href=\"/tags\" class=\"contact-btn\"><i class=\"fas fa-tag\"></i> 标签 </a>\n    <a href=\"/atom.xml\" class=\"contact-btn\"><i class=\"fas fa-rss\"></i> RSS </a>\n    <a href=\"/links\" class=\"contact-btn\"><i class=\"fas fa-link\"></i> 友链 </a>\n</div>\n</div>\n"},{"title":"留言板","layout":"page","comments":1,"_content":"\n<style>\n/* 强制隐藏面包屑、目录和AI摘要 */\n.article.banner.top,\n.post-ai,\n.toc,\n.wl-reaction,\n.table-of-contents {\n  display: none !important;\n}\n\n/* 确保主要内容区域占据全部宽度 */\n.main-content,\n.content-area {\n  width: 100% !important;\n  max-width: 100% !important;\n  margin: 0 auto !important;\n}\n\n/* 留言板自定义样式 - 紧凑布局 */\n.message-board {\n  max-width: 100%;\n  margin: 0 auto;\n  padding: 1rem;\n}\n\n.welcome-section {\n  text-align: center;\n  margin-bottom: 1.5rem;\n  padding: 1.5rem;\n  background: linear-gradient(135deg, var(--theme-primary-light, #e8edff) 0%, var(--theme-bg-light, #f0f5ff) 100%);\n  border-radius: 10px;\n  color: var(--theme-text, #2c3e50);\n  box-shadow: 0 3px 8px rgba(0,0,0,0.08);\n  border: 1px solid var(--theme-border, #d1d8e0);\n}\n\n.welcome-section h1 {\n  font-size: 1.8rem;\n  margin-bottom: 0.6rem;\n  font-weight: 500;\n  color: var(--theme-primary, #3498db);\n}\n\n.welcome-section p {\n  font-size: 0.95rem;\n  line-height: 1.4;\n  max-width: 500px;\n  margin: 0 auto;\n  color: var(--theme-text-secondary, #5a6c7d);\n}\n\n.features-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));\n  gap: 1rem;\n  margin: 1.2rem 0;\n}\n\n.feature-card {\n  background: var(--theme-card-bg, #ffffff);\n  padding: 1.2rem 0.8rem;\n  border-radius: 8px;\n  text-align: center;\n  box-shadow: 0 2px 6px rgba(0,0,0,0.06);\n  border: 1px solid var(--theme-border, #e1e8f0);\n  transition: all 0.2s ease;\n}\n\n.feature-card:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 4px 8px rgba(0,0,0,0.1);\n}\n\n.feature-icon {\n  font-size: 1.4rem;\n  margin-bottom: 0.6rem;\n  color: var(--theme-primary, #3498db);\n}\n\n.feature-card h3 {\n  margin-bottom: 0.5rem;\n  color: var(--theme-text, #2c3e50);\n  font-size: 1rem;\n  font-weight: 600;\n}\n\n.feature-card p {\n  color: var(--theme-text-secondary, #5a6c7d);\n  font-size: 0.85rem;\n  line-height: 1.3;\n  margin: 0;\n}\n\n.quick-links {\n  display: flex;\n  justify-content: center;\n  gap: 0.6rem;\n  margin: 1.5rem 0;\n  flex-wrap: wrap;\n}\n\n.quick-link {\n  padding: 0.5rem 1rem;\n  background: var(--theme-card-bg, #ffffff);\n  border-radius: 6px;\n  text-decoration: none;\n  color: var(--theme-text, #2c3e50);\n  transition: all 0.2s ease;\n  border: 1px solid var(--theme-border, #e1e8f0);\n  font-weight: 500;\n  font-size: 0.85rem;\n}\n\n.quick-link:hover {\n  background: var(--theme-primary, #3498db);\n  color: white;\n  transform: translateY(-1px);\n}\n\n.tips-section {\n  text-align: center;\n  margin: 1.2rem 0;\n  padding: 0.7rem 1rem;\n  background: var(--theme-bg-light, #f0f5ff);\n  border-radius: 6px;\n  border-left: 3px solid var(--theme-primary, #3498db);\n  font-size: 0.85rem;\n}\n\n.tips-section p {\n  margin: 0;\n  color: var(--theme-text-secondary, #5a6c7d);\n  line-height: 1.3;\n}\n\n.comments-section {\n  margin-top: 1.5rem;\n  padding: 1.2rem;\n  background: var(--theme-card-bg, #ffffff);\n  border-radius: 8px;\n  border: 1px solid var(--theme-border, #e1e8f0);\n}\n\n/* 浅色主题优化 */\n:root {\n  --theme-primary: #3498db;\n  --theme-bg-light: #f0f5ff;\n  --theme-card-bg: #ffffff;\n  --theme-border: #e1e8f0;\n  --theme-text: #2c3e50;\n  --theme-text-secondary: #5a6c7d;\n  --theme-primary-light: #e8edff;\n}\n\n/* 暗色模式适配 */\n@media (prefers-color-scheme: dark) {\n  :root {\n    --theme-primary: #5dade2;\n    --theme-bg-light: #1a2433;\n    --theme-card-bg: #2c3e50;\n    --theme-border: #34495e;\n    --theme-text: #ecf0f1;\n    --theme-text-secondary: #bdc3c7;\n    --theme-primary-light: #1a252f;\n  }\n}\n\n/* 响应式设计 */\n@media (max-width: 768px) {\n  .message-board {\n    padding: 0.8rem;\n  }\n\n  .welcome-section {\n    padding: 1.2rem 0.8rem;\n    margin-bottom: 1.2rem;\n  }\n\n  .welcome-section h1 {\n    font-size: 1.6rem;\n  }\n\n  .features-grid {\n    grid-template-columns: 1fr;\n    gap: 0.8rem;\n  }\n\n  .quick-links {\n    flex-direction: column;\n    align-items: center;\n    gap: 0.5rem;\n  }\n\n  .quick-link {\n    width: 100%;\n    max-width: 180px;\n    text-align: center;\n  }\n}\n\n/* 紧凑动画效果 */\n@keyframes fadeInUp {\n  from {\n    opacity: 0;\n    transform: translateY(15px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n.feature-card, .welcome-section, .quick-link, .tips-section {\n  animation: fadeInUp 0.3s ease forwards;\n  opacity: 0;\n}\n\n.feature-card:nth-child(1) { animation-delay: 0.05s; }\n.feature-card:nth-child(2) { animation-delay: 0.1s; }\n.feature-card:nth-child(3) { animation-delay: 0.15s; }\n.quick-link:nth-child(1) { animation-delay: 0.2s; }\n.quick-link:nth-child(2) { animation-delay: 0.25s; }\n.quick-link:nth-child(3) { animation-delay: 0.3s; }\n.quick-link:nth-child(4) { animation-delay: 0.35s; }\n.tips-section { animation-delay: 0.4s; }\n</style>\n\n<div class=\"message-board\">\n  <!-- 欢迎区域 -->\n  <div class=\"welcome-section\">\n    <h1><i class=\"fas fa-comment-dots\"></i> 留言板</h1>\n    <p>欢迎来到我的个人空间！这里是我们交流的专属区域，无论是技术探讨、生活分享、意见建议，还是简单的问候，都非常期待你的留言。每一份互动都是我持续创作和分享的动力源泉，感谢你的关注与支持！</p>\n  </div>\n\n  <!-- 功能特色 -->\n  <div class=\"features-grid\">\n    <div class=\"feature-card\">\n      <div class=\"feature-icon\"><i class=\"fas fa-comment-dots\"></i></div>\n      <h3>自由交流</h3>\n      <p>畅所欲言地分享你的想法、建议或任何想说的话，无论是技术问题、生活感悟还是其他话题，我们都欢迎深入交流</p>\n    </div>\n    <div class=\"feature-card\">\n      <div class=\"feature-icon\"><i class=\"fas fa-bell\"></i></div>\n      <h3>实时通知</h3>\n      <p>请留下有效的邮箱地址、您偏好的昵称与相关网址。您留言后，我会立即收到通知并尽快回复；同时，您也能通过邮箱接收回复提醒，确保不错过任何互动</p>\n    </div>\n    <div class=\"feature-card\">\n      <div class=\"feature-icon\"><i class=\"fas fa-edit\"></i></div>\n      <h3>富文本支持</h3>\n      <p>支持Markdown语法、表情符号、代码高亮、图片上传等多种格式，让你的留言更加生动有趣且富有表现力</p>\n    </div>\n  </div>\n\n  <!-- 快速链接 -->\n  <div class=\"quick-links\">\n    <a href=\"/\" class=\"quick-link\"><i class=\"fas fa-home\"></i> 首页</a>\n    <a href=\"/archives\" class=\"quick-link\"><i class=\"fas fa-archive\"></i> 归档</a>\n    <a href=\"/categories\" class=\"quick-link\"><i class=\"fa-solid fa-list\"></i> 分类</a>\n    <a href=\"/tags\" class=\"quick-link\"><i class=\"fas fa-tag\"></i> 标签 </a>\n    <a href=\"/atom.xml\" class=\"quick-link\"><i class=\"fas fa-rss\"></i> RSS</a>\n    <a href=\"/links\" class=\"quick-link\"><i class=\"fas fa-link\"></i> 友链 </a>\n    <a href=\"/about\" class=\"quick-link\"><i class=\"fas fa-user\"></i> 关于</a>\n    <a href=\"mailto:2690640537@qq.com\" class=\"quick-link\"><i class=\"fas fa-envelope\"></i> 邮箱</a>\n    <a href=\"https://github.com/sam7xx\" class=\"quick-link\"><i class=\"fab fa-github\"></i> GitHub</a>\n  </div>\n\n<script>\ndocument.addEventListener('DOMContentLoaded', function() {\n  // 动态获取主题颜色\n  function updateThemeColors() {\n    const root = document.documentElement;\n    const computedStyle = getComputedStyle(root);\n\n    let primaryColor = computedStyle.getPropertyValue('--color-primary').trim();\n    if (!primaryColor) {\n      primaryColor = computedStyle.getPropertyValue('--theme-color').trim() || \n                     computedStyle.getPropertyValue('--primary-color').trim() || \n                     '#3498db';\n    }\n    \n    const bgColor = computedStyle.getPropertyValue('--bg-color').trim() || \n                   computedStyle.getPropertyValue('--background-color').trim() || \n                   getComputedStyle(document.body).backgroundColor;\n    \n    const rgb = bgColor.match(/\\d+/g);\n    let brightness = 255;\n    if (rgb) {\n      brightness = (parseInt(rgb[0]) * 299 + parseInt(rgb[1]) * 587 + parseInt(rgb[2]) * 114) / 1000;\n    }\n    \n    root.style.setProperty('--theme-primary', primaryColor);\n    \n    if (brightness > 128) {\n      root.style.setProperty('--theme-bg-light', '#f0f5ff');\n      root.style.setProperty('--theme-card-bg', '#ffffff');\n      root.style.setProperty('--theme-border', '#e1e8f0');\n      root.style.setProperty('--theme-text', '#2c3e50');\n      root.style.setProperty('--theme-text-secondary', '#5a6c7d');\n      root.style.setProperty('--theme-primary-light', '#e8edff');\n    } else {\n      root.style.setProperty('--theme-bg-light', '#1a2433');\n      root.style.setProperty('--theme-card-bg', '#2c3e50');\n      root.style.setProperty('--theme-border', '#34495e');\n      root.style.setProperty('--theme-text', '#ecf0f1');\n      root.style.setProperty('--theme-text-secondary', '#bdc3c7');\n      root.style.setProperty('--theme-primary-light', '#1a252f');\n    }\n  }\n\n  updateThemeColors();\n\n  const observer = new MutationObserver(updateThemeColors);\n  observer.observe(document.documentElement, {\n    attributes: true,\n    attributeFilter: ['class', 'style', 'data-theme']\n  });\n});\n</script>","source":"messages/index.md","raw":"---\ntitle: 留言板\nlayout: page\ncomments: true\n---\n\n<style>\n/* 强制隐藏面包屑、目录和AI摘要 */\n.article.banner.top,\n.post-ai,\n.toc,\n.wl-reaction,\n.table-of-contents {\n  display: none !important;\n}\n\n/* 确保主要内容区域占据全部宽度 */\n.main-content,\n.content-area {\n  width: 100% !important;\n  max-width: 100% !important;\n  margin: 0 auto !important;\n}\n\n/* 留言板自定义样式 - 紧凑布局 */\n.message-board {\n  max-width: 100%;\n  margin: 0 auto;\n  padding: 1rem;\n}\n\n.welcome-section {\n  text-align: center;\n  margin-bottom: 1.5rem;\n  padding: 1.5rem;\n  background: linear-gradient(135deg, var(--theme-primary-light, #e8edff) 0%, var(--theme-bg-light, #f0f5ff) 100%);\n  border-radius: 10px;\n  color: var(--theme-text, #2c3e50);\n  box-shadow: 0 3px 8px rgba(0,0,0,0.08);\n  border: 1px solid var(--theme-border, #d1d8e0);\n}\n\n.welcome-section h1 {\n  font-size: 1.8rem;\n  margin-bottom: 0.6rem;\n  font-weight: 500;\n  color: var(--theme-primary, #3498db);\n}\n\n.welcome-section p {\n  font-size: 0.95rem;\n  line-height: 1.4;\n  max-width: 500px;\n  margin: 0 auto;\n  color: var(--theme-text-secondary, #5a6c7d);\n}\n\n.features-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));\n  gap: 1rem;\n  margin: 1.2rem 0;\n}\n\n.feature-card {\n  background: var(--theme-card-bg, #ffffff);\n  padding: 1.2rem 0.8rem;\n  border-radius: 8px;\n  text-align: center;\n  box-shadow: 0 2px 6px rgba(0,0,0,0.06);\n  border: 1px solid var(--theme-border, #e1e8f0);\n  transition: all 0.2s ease;\n}\n\n.feature-card:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 4px 8px rgba(0,0,0,0.1);\n}\n\n.feature-icon {\n  font-size: 1.4rem;\n  margin-bottom: 0.6rem;\n  color: var(--theme-primary, #3498db);\n}\n\n.feature-card h3 {\n  margin-bottom: 0.5rem;\n  color: var(--theme-text, #2c3e50);\n  font-size: 1rem;\n  font-weight: 600;\n}\n\n.feature-card p {\n  color: var(--theme-text-secondary, #5a6c7d);\n  font-size: 0.85rem;\n  line-height: 1.3;\n  margin: 0;\n}\n\n.quick-links {\n  display: flex;\n  justify-content: center;\n  gap: 0.6rem;\n  margin: 1.5rem 0;\n  flex-wrap: wrap;\n}\n\n.quick-link {\n  padding: 0.5rem 1rem;\n  background: var(--theme-card-bg, #ffffff);\n  border-radius: 6px;\n  text-decoration: none;\n  color: var(--theme-text, #2c3e50);\n  transition: all 0.2s ease;\n  border: 1px solid var(--theme-border, #e1e8f0);\n  font-weight: 500;\n  font-size: 0.85rem;\n}\n\n.quick-link:hover {\n  background: var(--theme-primary, #3498db);\n  color: white;\n  transform: translateY(-1px);\n}\n\n.tips-section {\n  text-align: center;\n  margin: 1.2rem 0;\n  padding: 0.7rem 1rem;\n  background: var(--theme-bg-light, #f0f5ff);\n  border-radius: 6px;\n  border-left: 3px solid var(--theme-primary, #3498db);\n  font-size: 0.85rem;\n}\n\n.tips-section p {\n  margin: 0;\n  color: var(--theme-text-secondary, #5a6c7d);\n  line-height: 1.3;\n}\n\n.comments-section {\n  margin-top: 1.5rem;\n  padding: 1.2rem;\n  background: var(--theme-card-bg, #ffffff);\n  border-radius: 8px;\n  border: 1px solid var(--theme-border, #e1e8f0);\n}\n\n/* 浅色主题优化 */\n:root {\n  --theme-primary: #3498db;\n  --theme-bg-light: #f0f5ff;\n  --theme-card-bg: #ffffff;\n  --theme-border: #e1e8f0;\n  --theme-text: #2c3e50;\n  --theme-text-secondary: #5a6c7d;\n  --theme-primary-light: #e8edff;\n}\n\n/* 暗色模式适配 */\n@media (prefers-color-scheme: dark) {\n  :root {\n    --theme-primary: #5dade2;\n    --theme-bg-light: #1a2433;\n    --theme-card-bg: #2c3e50;\n    --theme-border: #34495e;\n    --theme-text: #ecf0f1;\n    --theme-text-secondary: #bdc3c7;\n    --theme-primary-light: #1a252f;\n  }\n}\n\n/* 响应式设计 */\n@media (max-width: 768px) {\n  .message-board {\n    padding: 0.8rem;\n  }\n\n  .welcome-section {\n    padding: 1.2rem 0.8rem;\n    margin-bottom: 1.2rem;\n  }\n\n  .welcome-section h1 {\n    font-size: 1.6rem;\n  }\n\n  .features-grid {\n    grid-template-columns: 1fr;\n    gap: 0.8rem;\n  }\n\n  .quick-links {\n    flex-direction: column;\n    align-items: center;\n    gap: 0.5rem;\n  }\n\n  .quick-link {\n    width: 100%;\n    max-width: 180px;\n    text-align: center;\n  }\n}\n\n/* 紧凑动画效果 */\n@keyframes fadeInUp {\n  from {\n    opacity: 0;\n    transform: translateY(15px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n.feature-card, .welcome-section, .quick-link, .tips-section {\n  animation: fadeInUp 0.3s ease forwards;\n  opacity: 0;\n}\n\n.feature-card:nth-child(1) { animation-delay: 0.05s; }\n.feature-card:nth-child(2) { animation-delay: 0.1s; }\n.feature-card:nth-child(3) { animation-delay: 0.15s; }\n.quick-link:nth-child(1) { animation-delay: 0.2s; }\n.quick-link:nth-child(2) { animation-delay: 0.25s; }\n.quick-link:nth-child(3) { animation-delay: 0.3s; }\n.quick-link:nth-child(4) { animation-delay: 0.35s; }\n.tips-section { animation-delay: 0.4s; }\n</style>\n\n<div class=\"message-board\">\n  <!-- 欢迎区域 -->\n  <div class=\"welcome-section\">\n    <h1><i class=\"fas fa-comment-dots\"></i> 留言板</h1>\n    <p>欢迎来到我的个人空间！这里是我们交流的专属区域，无论是技术探讨、生活分享、意见建议，还是简单的问候，都非常期待你的留言。每一份互动都是我持续创作和分享的动力源泉，感谢你的关注与支持！</p>\n  </div>\n\n  <!-- 功能特色 -->\n  <div class=\"features-grid\">\n    <div class=\"feature-card\">\n      <div class=\"feature-icon\"><i class=\"fas fa-comment-dots\"></i></div>\n      <h3>自由交流</h3>\n      <p>畅所欲言地分享你的想法、建议或任何想说的话，无论是技术问题、生活感悟还是其他话题，我们都欢迎深入交流</p>\n    </div>\n    <div class=\"feature-card\">\n      <div class=\"feature-icon\"><i class=\"fas fa-bell\"></i></div>\n      <h3>实时通知</h3>\n      <p>请留下有效的邮箱地址、您偏好的昵称与相关网址。您留言后，我会立即收到通知并尽快回复；同时，您也能通过邮箱接收回复提醒，确保不错过任何互动</p>\n    </div>\n    <div class=\"feature-card\">\n      <div class=\"feature-icon\"><i class=\"fas fa-edit\"></i></div>\n      <h3>富文本支持</h3>\n      <p>支持Markdown语法、表情符号、代码高亮、图片上传等多种格式，让你的留言更加生动有趣且富有表现力</p>\n    </div>\n  </div>\n\n  <!-- 快速链接 -->\n  <div class=\"quick-links\">\n    <a href=\"/\" class=\"quick-link\"><i class=\"fas fa-home\"></i> 首页</a>\n    <a href=\"/archives\" class=\"quick-link\"><i class=\"fas fa-archive\"></i> 归档</a>\n    <a href=\"/categories\" class=\"quick-link\"><i class=\"fa-solid fa-list\"></i> 分类</a>\n    <a href=\"/tags\" class=\"quick-link\"><i class=\"fas fa-tag\"></i> 标签 </a>\n    <a href=\"/atom.xml\" class=\"quick-link\"><i class=\"fas fa-rss\"></i> RSS</a>\n    <a href=\"/links\" class=\"quick-link\"><i class=\"fas fa-link\"></i> 友链 </a>\n    <a href=\"/about\" class=\"quick-link\"><i class=\"fas fa-user\"></i> 关于</a>\n    <a href=\"mailto:2690640537@qq.com\" class=\"quick-link\"><i class=\"fas fa-envelope\"></i> 邮箱</a>\n    <a href=\"https://github.com/sam7xx\" class=\"quick-link\"><i class=\"fab fa-github\"></i> GitHub</a>\n  </div>\n\n<script>\ndocument.addEventListener('DOMContentLoaded', function() {\n  // 动态获取主题颜色\n  function updateThemeColors() {\n    const root = document.documentElement;\n    const computedStyle = getComputedStyle(root);\n\n    let primaryColor = computedStyle.getPropertyValue('--color-primary').trim();\n    if (!primaryColor) {\n      primaryColor = computedStyle.getPropertyValue('--theme-color').trim() || \n                     computedStyle.getPropertyValue('--primary-color').trim() || \n                     '#3498db';\n    }\n    \n    const bgColor = computedStyle.getPropertyValue('--bg-color').trim() || \n                   computedStyle.getPropertyValue('--background-color').trim() || \n                   getComputedStyle(document.body).backgroundColor;\n    \n    const rgb = bgColor.match(/\\d+/g);\n    let brightness = 255;\n    if (rgb) {\n      brightness = (parseInt(rgb[0]) * 299 + parseInt(rgb[1]) * 587 + parseInt(rgb[2]) * 114) / 1000;\n    }\n    \n    root.style.setProperty('--theme-primary', primaryColor);\n    \n    if (brightness > 128) {\n      root.style.setProperty('--theme-bg-light', '#f0f5ff');\n      root.style.setProperty('--theme-card-bg', '#ffffff');\n      root.style.setProperty('--theme-border', '#e1e8f0');\n      root.style.setProperty('--theme-text', '#2c3e50');\n      root.style.setProperty('--theme-text-secondary', '#5a6c7d');\n      root.style.setProperty('--theme-primary-light', '#e8edff');\n    } else {\n      root.style.setProperty('--theme-bg-light', '#1a2433');\n      root.style.setProperty('--theme-card-bg', '#2c3e50');\n      root.style.setProperty('--theme-border', '#34495e');\n      root.style.setProperty('--theme-text', '#ecf0f1');\n      root.style.setProperty('--theme-text-secondary', '#bdc3c7');\n      root.style.setProperty('--theme-primary-light', '#1a252f');\n    }\n  }\n\n  updateThemeColors();\n\n  const observer = new MutationObserver(updateThemeColors);\n  observer.observe(document.documentElement, {\n    attributes: true,\n    attributeFilter: ['class', 'style', 'data-theme']\n  });\n});\n</script>","date":"2025-10-08T16:57:35.070Z","updated":"2025-10-06T19:34:17.572Z","path":"messages/index.html","_id":"cuidySwSCJjX4CKJ35KMJEKj9","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"/assets/css/APlayer.min.css\"><script src=\"/assets/js/APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><script class=\"meting-secondary-script-marker\" src=\"/assets/js/Meting.min.js\"></script><style>\n/* 强制隐藏面包屑、目录和AI摘要 */\n.article.banner.top,\n.post-ai,\n.toc,\n.wl-reaction,\n.table-of-contents {\n  display: none !important;\n}\n\n/* 确保主要内容区域占据全部宽度 */\n.main-content,\n.content-area {\n  width: 100% !important;\n  max-width: 100% !important;\n  margin: 0 auto !important;\n}\n\n/* 留言板自定义样式 - 紧凑布局 */\n.message-board {\n  max-width: 100%;\n  margin: 0 auto;\n  padding: 1rem;\n}\n\n.welcome-section {\n  text-align: center;\n  margin-bottom: 1.5rem;\n  padding: 1.5rem;\n  background: linear-gradient(135deg, var(--theme-primary-light, #e8edff) 0%, var(--theme-bg-light, #f0f5ff) 100%);\n  border-radius: 10px;\n  color: var(--theme-text, #2c3e50);\n  box-shadow: 0 3px 8px rgba(0,0,0,0.08);\n  border: 1px solid var(--theme-border, #d1d8e0);\n}\n\n.welcome-section h1 {\n  font-size: 1.8rem;\n  margin-bottom: 0.6rem;\n  font-weight: 500;\n  color: var(--theme-primary, #3498db);\n}\n\n.welcome-section p {\n  font-size: 0.95rem;\n  line-height: 1.4;\n  max-width: 500px;\n  margin: 0 auto;\n  color: var(--theme-text-secondary, #5a6c7d);\n}\n\n.features-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));\n  gap: 1rem;\n  margin: 1.2rem 0;\n}\n\n.feature-card {\n  background: var(--theme-card-bg, #ffffff);\n  padding: 1.2rem 0.8rem;\n  border-radius: 8px;\n  text-align: center;\n  box-shadow: 0 2px 6px rgba(0,0,0,0.06);\n  border: 1px solid var(--theme-border, #e1e8f0);\n  transition: all 0.2s ease;\n}\n\n.feature-card:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 4px 8px rgba(0,0,0,0.1);\n}\n\n.feature-icon {\n  font-size: 1.4rem;\n  margin-bottom: 0.6rem;\n  color: var(--theme-primary, #3498db);\n}\n\n.feature-card h3 {\n  margin-bottom: 0.5rem;\n  color: var(--theme-text, #2c3e50);\n  font-size: 1rem;\n  font-weight: 600;\n}\n\n.feature-card p {\n  color: var(--theme-text-secondary, #5a6c7d);\n  font-size: 0.85rem;\n  line-height: 1.3;\n  margin: 0;\n}\n\n.quick-links {\n  display: flex;\n  justify-content: center;\n  gap: 0.6rem;\n  margin: 1.5rem 0;\n  flex-wrap: wrap;\n}\n\n.quick-link {\n  padding: 0.5rem 1rem;\n  background: var(--theme-card-bg, #ffffff);\n  border-radius: 6px;\n  text-decoration: none;\n  color: var(--theme-text, #2c3e50);\n  transition: all 0.2s ease;\n  border: 1px solid var(--theme-border, #e1e8f0);\n  font-weight: 500;\n  font-size: 0.85rem;\n}\n\n.quick-link:hover {\n  background: var(--theme-primary, #3498db);\n  color: white;\n  transform: translateY(-1px);\n}\n\n.tips-section {\n  text-align: center;\n  margin: 1.2rem 0;\n  padding: 0.7rem 1rem;\n  background: var(--theme-bg-light, #f0f5ff);\n  border-radius: 6px;\n  border-left: 3px solid var(--theme-primary, #3498db);\n  font-size: 0.85rem;\n}\n\n.tips-section p {\n  margin: 0;\n  color: var(--theme-text-secondary, #5a6c7d);\n  line-height: 1.3;\n}\n\n.comments-section {\n  margin-top: 1.5rem;\n  padding: 1.2rem;\n  background: var(--theme-card-bg, #ffffff);\n  border-radius: 8px;\n  border: 1px solid var(--theme-border, #e1e8f0);\n}\n\n/* 浅色主题优化 */\n:root {\n  --theme-primary: #3498db;\n  --theme-bg-light: #f0f5ff;\n  --theme-card-bg: #ffffff;\n  --theme-border: #e1e8f0;\n  --theme-text: #2c3e50;\n  --theme-text-secondary: #5a6c7d;\n  --theme-primary-light: #e8edff;\n}\n\n/* 暗色模式适配 */\n@media (prefers-color-scheme: dark) {\n  :root {\n    --theme-primary: #5dade2;\n    --theme-bg-light: #1a2433;\n    --theme-card-bg: #2c3e50;\n    --theme-border: #34495e;\n    --theme-text: #ecf0f1;\n    --theme-text-secondary: #bdc3c7;\n    --theme-primary-light: #1a252f;\n  }\n}\n\n/* 响应式设计 */\n@media (max-width: 768px) {\n  .message-board {\n    padding: 0.8rem;\n  }\n\n  .welcome-section {\n    padding: 1.2rem 0.8rem;\n    margin-bottom: 1.2rem;\n  }\n\n  .welcome-section h1 {\n    font-size: 1.6rem;\n  }\n\n  .features-grid {\n    grid-template-columns: 1fr;\n    gap: 0.8rem;\n  }\n\n  .quick-links {\n    flex-direction: column;\n    align-items: center;\n    gap: 0.5rem;\n  }\n\n  .quick-link {\n    width: 100%;\n    max-width: 180px;\n    text-align: center;\n  }\n}\n\n/* 紧凑动画效果 */\n@keyframes fadeInUp {\n  from {\n    opacity: 0;\n    transform: translateY(15px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n.feature-card, .welcome-section, .quick-link, .tips-section {\n  animation: fadeInUp 0.3s ease forwards;\n  opacity: 0;\n}\n\n.feature-card:nth-child(1) { animation-delay: 0.05s; }\n.feature-card:nth-child(2) { animation-delay: 0.1s; }\n.feature-card:nth-child(3) { animation-delay: 0.15s; }\n.quick-link:nth-child(1) { animation-delay: 0.2s; }\n.quick-link:nth-child(2) { animation-delay: 0.25s; }\n.quick-link:nth-child(3) { animation-delay: 0.3s; }\n.quick-link:nth-child(4) { animation-delay: 0.35s; }\n.tips-section { animation-delay: 0.4s; }\n</style>\n<div class=\"message-board\">\n  <!-- 欢迎区域 -->\n  <div class=\"welcome-section\">\n    <h1><i class=\"fas fa-comment-dots\"></i> 留言板</h1>\n    <p>欢迎来到我的个人空间！这里是我们交流的专属区域，无论是技术探讨、生活分享、意见建议，还是简单的问候，都非常期待你的留言。每一份互动都是我持续创作和分享的动力源泉，感谢你的关注与支持！</p>\n  </div>\n  <!-- 功能特色 -->\n  <div class=\"features-grid\">\n    <div class=\"feature-card\">\n      <div class=\"feature-icon\"><i class=\"fas fa-comment-dots\"></i></div>\n      <h3>自由交流</h3>\n      <p>畅所欲言地分享你的想法、建议或任何想说的话，无论是技术问题、生活感悟还是其他话题，我们都欢迎深入交流</p>\n    </div>\n    <div class=\"feature-card\">\n      <div class=\"feature-icon\"><i class=\"fas fa-bell\"></i></div>\n      <h3>实时通知</h3>\n      <p>请留下有效的邮箱地址、您偏好的昵称与相关网址。您留言后，我会立即收到通知并尽快回复；同时，您也能通过邮箱接收回复提醒，确保不错过任何互动</p>\n    </div>\n    <div class=\"feature-card\">\n      <div class=\"feature-icon\"><i class=\"fas fa-edit\"></i></div>\n      <h3>富文本支持</h3>\n      <p>支持Markdown语法、表情符号、代码高亮、图片上传等多种格式，让你的留言更加生动有趣且富有表现力</p>\n    </div>\n  </div>\n  <!-- 快速链接 -->\n  <div class=\"quick-links\">\n    <a href=\"/\" class=\"quick-link\"><i class=\"fas fa-home\"></i> 首页</a>\n    <a href=\"/archives\" class=\"quick-link\"><i class=\"fas fa-archive\"></i> 归档</a>\n    <a href=\"/categories\" class=\"quick-link\"><i class=\"fa-solid fa-list\"></i> 分类</a>\n    <a href=\"/tags\" class=\"quick-link\"><i class=\"fas fa-tag\"></i> 标签 </a>\n    <a href=\"/atom.xml\" class=\"quick-link\"><i class=\"fas fa-rss\"></i> RSS</a>\n    <a href=\"/links\" class=\"quick-link\"><i class=\"fas fa-link\"></i> 友链 </a>\n    <a href=\"/about\" class=\"quick-link\"><i class=\"fas fa-user\"></i> 关于</a>\n    <a href=\"mailto:2690640537@qq.com\" class=\"quick-link\"><i class=\"fas fa-envelope\"></i> 邮箱</a>\n    <a href=\"https://github.com/sam7xx\" class=\"quick-link\"><i class=\"fab fa-github\"></i> GitHub</a>\n  </div>\n<script>\ndocument.addEventListener('DOMContentLoaded', function() {\n  // 动态获取主题颜色\n  function updateThemeColors() {\n    const root = document.documentElement;\n    const computedStyle = getComputedStyle(root);\n\n    let primaryColor = computedStyle.getPropertyValue('--color-primary').trim();\n    if (!primaryColor) {\n      primaryColor = computedStyle.getPropertyValue('--theme-color').trim() || \n                     computedStyle.getPropertyValue('--primary-color').trim() || \n                     '#3498db';\n    }\n    \n    const bgColor = computedStyle.getPropertyValue('--bg-color').trim() || \n                   computedStyle.getPropertyValue('--background-color').trim() || \n                   getComputedStyle(document.body).backgroundColor;\n    \n    const rgb = bgColor.match(/\\d+/g);\n    let brightness = 255;\n    if (rgb) {\n      brightness = (parseInt(rgb[0]) * 299 + parseInt(rgb[1]) * 587 + parseInt(rgb[2]) * 114) / 1000;\n    }\n    \n    root.style.setProperty('--theme-primary', primaryColor);\n    \n    if (brightness > 128) {\n      root.style.setProperty('--theme-bg-light', '#f0f5ff');\n      root.style.setProperty('--theme-card-bg', '#ffffff');\n      root.style.setProperty('--theme-border', '#e1e8f0');\n      root.style.setProperty('--theme-text', '#2c3e50');\n      root.style.setProperty('--theme-text-secondary', '#5a6c7d');\n      root.style.setProperty('--theme-primary-light', '#e8edff');\n    } else {\n      root.style.setProperty('--theme-bg-light', '#1a2433');\n      root.style.setProperty('--theme-card-bg', '#2c3e50');\n      root.style.setProperty('--theme-border', '#34495e');\n      root.style.setProperty('--theme-text', '#ecf0f1');\n      root.style.setProperty('--theme-text-secondary', '#bdc3c7');\n      root.style.setProperty('--theme-primary-light', '#1a252f');\n    }\n  }\n\n  updateThemeColors();\n\n  const observer = new MutationObserver(updateThemeColors);\n  observer.observe(document.documentElement, {\n    attributes: true,\n    attributeFilter: ['class', 'style', 'data-theme']\n  });\n});\n</script>","excerpt":"","more":"<style>\n/* 强制隐藏面包屑、目录和AI摘要 */\n.article.banner.top,\n.post-ai,\n.toc,\n.wl-reaction,\n.table-of-contents {\n  display: none !important;\n}\n\n/* 确保主要内容区域占据全部宽度 */\n.main-content,\n.content-area {\n  width: 100% !important;\n  max-width: 100% !important;\n  margin: 0 auto !important;\n}\n\n/* 留言板自定义样式 - 紧凑布局 */\n.message-board {\n  max-width: 100%;\n  margin: 0 auto;\n  padding: 1rem;\n}\n\n.welcome-section {\n  text-align: center;\n  margin-bottom: 1.5rem;\n  padding: 1.5rem;\n  background: linear-gradient(135deg, var(--theme-primary-light, #e8edff) 0%, var(--theme-bg-light, #f0f5ff) 100%);\n  border-radius: 10px;\n  color: var(--theme-text, #2c3e50);\n  box-shadow: 0 3px 8px rgba(0,0,0,0.08);\n  border: 1px solid var(--theme-border, #d1d8e0);\n}\n\n.welcome-section h1 {\n  font-size: 1.8rem;\n  margin-bottom: 0.6rem;\n  font-weight: 500;\n  color: var(--theme-primary, #3498db);\n}\n\n.welcome-section p {\n  font-size: 0.95rem;\n  line-height: 1.4;\n  max-width: 500px;\n  margin: 0 auto;\n  color: var(--theme-text-secondary, #5a6c7d);\n}\n\n.features-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));\n  gap: 1rem;\n  margin: 1.2rem 0;\n}\n\n.feature-card {\n  background: var(--theme-card-bg, #ffffff);\n  padding: 1.2rem 0.8rem;\n  border-radius: 8px;\n  text-align: center;\n  box-shadow: 0 2px 6px rgba(0,0,0,0.06);\n  border: 1px solid var(--theme-border, #e1e8f0);\n  transition: all 0.2s ease;\n}\n\n.feature-card:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 4px 8px rgba(0,0,0,0.1);\n}\n\n.feature-icon {\n  font-size: 1.4rem;\n  margin-bottom: 0.6rem;\n  color: var(--theme-primary, #3498db);\n}\n\n.feature-card h3 {\n  margin-bottom: 0.5rem;\n  color: var(--theme-text, #2c3e50);\n  font-size: 1rem;\n  font-weight: 600;\n}\n\n.feature-card p {\n  color: var(--theme-text-secondary, #5a6c7d);\n  font-size: 0.85rem;\n  line-height: 1.3;\n  margin: 0;\n}\n\n.quick-links {\n  display: flex;\n  justify-content: center;\n  gap: 0.6rem;\n  margin: 1.5rem 0;\n  flex-wrap: wrap;\n}\n\n.quick-link {\n  padding: 0.5rem 1rem;\n  background: var(--theme-card-bg, #ffffff);\n  border-radius: 6px;\n  text-decoration: none;\n  color: var(--theme-text, #2c3e50);\n  transition: all 0.2s ease;\n  border: 1px solid var(--theme-border, #e1e8f0);\n  font-weight: 500;\n  font-size: 0.85rem;\n}\n\n.quick-link:hover {\n  background: var(--theme-primary, #3498db);\n  color: white;\n  transform: translateY(-1px);\n}\n\n.tips-section {\n  text-align: center;\n  margin: 1.2rem 0;\n  padding: 0.7rem 1rem;\n  background: var(--theme-bg-light, #f0f5ff);\n  border-radius: 6px;\n  border-left: 3px solid var(--theme-primary, #3498db);\n  font-size: 0.85rem;\n}\n\n.tips-section p {\n  margin: 0;\n  color: var(--theme-text-secondary, #5a6c7d);\n  line-height: 1.3;\n}\n\n.comments-section {\n  margin-top: 1.5rem;\n  padding: 1.2rem;\n  background: var(--theme-card-bg, #ffffff);\n  border-radius: 8px;\n  border: 1px solid var(--theme-border, #e1e8f0);\n}\n\n/* 浅色主题优化 */\n:root {\n  --theme-primary: #3498db;\n  --theme-bg-light: #f0f5ff;\n  --theme-card-bg: #ffffff;\n  --theme-border: #e1e8f0;\n  --theme-text: #2c3e50;\n  --theme-text-secondary: #5a6c7d;\n  --theme-primary-light: #e8edff;\n}\n\n/* 暗色模式适配 */\n@media (prefers-color-scheme: dark) {\n  :root {\n    --theme-primary: #5dade2;\n    --theme-bg-light: #1a2433;\n    --theme-card-bg: #2c3e50;\n    --theme-border: #34495e;\n    --theme-text: #ecf0f1;\n    --theme-text-secondary: #bdc3c7;\n    --theme-primary-light: #1a252f;\n  }\n}\n\n/* 响应式设计 */\n@media (max-width: 768px) {\n  .message-board {\n    padding: 0.8rem;\n  }\n\n  .welcome-section {\n    padding: 1.2rem 0.8rem;\n    margin-bottom: 1.2rem;\n  }\n\n  .welcome-section h1 {\n    font-size: 1.6rem;\n  }\n\n  .features-grid {\n    grid-template-columns: 1fr;\n    gap: 0.8rem;\n  }\n\n  .quick-links {\n    flex-direction: column;\n    align-items: center;\n    gap: 0.5rem;\n  }\n\n  .quick-link {\n    width: 100%;\n    max-width: 180px;\n    text-align: center;\n  }\n}\n\n/* 紧凑动画效果 */\n@keyframes fadeInUp {\n  from {\n    opacity: 0;\n    transform: translateY(15px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n.feature-card, .welcome-section, .quick-link, .tips-section {\n  animation: fadeInUp 0.3s ease forwards;\n  opacity: 0;\n}\n\n.feature-card:nth-child(1) { animation-delay: 0.05s; }\n.feature-card:nth-child(2) { animation-delay: 0.1s; }\n.feature-card:nth-child(3) { animation-delay: 0.15s; }\n.quick-link:nth-child(1) { animation-delay: 0.2s; }\n.quick-link:nth-child(2) { animation-delay: 0.25s; }\n.quick-link:nth-child(3) { animation-delay: 0.3s; }\n.quick-link:nth-child(4) { animation-delay: 0.35s; }\n.tips-section { animation-delay: 0.4s; }\n</style>\n<div class=\"message-board\">\n  <!-- 欢迎区域 -->\n  <div class=\"welcome-section\">\n    <h1><i class=\"fas fa-comment-dots\"></i> 留言板</h1>\n    <p>欢迎来到我的个人空间！这里是我们交流的专属区域，无论是技术探讨、生活分享、意见建议，还是简单的问候，都非常期待你的留言。每一份互动都是我持续创作和分享的动力源泉，感谢你的关注与支持！</p>\n  </div>\n  <!-- 功能特色 -->\n  <div class=\"features-grid\">\n    <div class=\"feature-card\">\n      <div class=\"feature-icon\"><i class=\"fas fa-comment-dots\"></i></div>\n      <h3>自由交流</h3>\n      <p>畅所欲言地分享你的想法、建议或任何想说的话，无论是技术问题、生活感悟还是其他话题，我们都欢迎深入交流</p>\n    </div>\n    <div class=\"feature-card\">\n      <div class=\"feature-icon\"><i class=\"fas fa-bell\"></i></div>\n      <h3>实时通知</h3>\n      <p>请留下有效的邮箱地址、您偏好的昵称与相关网址。您留言后，我会立即收到通知并尽快回复；同时，您也能通过邮箱接收回复提醒，确保不错过任何互动</p>\n    </div>\n    <div class=\"feature-card\">\n      <div class=\"feature-icon\"><i class=\"fas fa-edit\"></i></div>\n      <h3>富文本支持</h3>\n      <p>支持Markdown语法、表情符号、代码高亮、图片上传等多种格式，让你的留言更加生动有趣且富有表现力</p>\n    </div>\n  </div>\n  <!-- 快速链接 -->\n  <div class=\"quick-links\">\n    <a href=\"/\" class=\"quick-link\"><i class=\"fas fa-home\"></i> 首页</a>\n    <a href=\"/archives\" class=\"quick-link\"><i class=\"fas fa-archive\"></i> 归档</a>\n    <a href=\"/categories\" class=\"quick-link\"><i class=\"fa-solid fa-list\"></i> 分类</a>\n    <a href=\"/tags\" class=\"quick-link\"><i class=\"fas fa-tag\"></i> 标签 </a>\n    <a href=\"/atom.xml\" class=\"quick-link\"><i class=\"fas fa-rss\"></i> RSS</a>\n    <a href=\"/links\" class=\"quick-link\"><i class=\"fas fa-link\"></i> 友链 </a>\n    <a href=\"/about\" class=\"quick-link\"><i class=\"fas fa-user\"></i> 关于</a>\n    <a href=\"mailto:2690640537@qq.com\" class=\"quick-link\"><i class=\"fas fa-envelope\"></i> 邮箱</a>\n    <a href=\"https://github.com/sam7xx\" class=\"quick-link\"><i class=\"fab fa-github\"></i> GitHub</a>\n  </div>\n<script>\ndocument.addEventListener('DOMContentLoaded', function() {\n  // 动态获取主题颜色\n  function updateThemeColors() {\n    const root = document.documentElement;\n    const computedStyle = getComputedStyle(root);\n\n    let primaryColor = computedStyle.getPropertyValue('--color-primary').trim();\n    if (!primaryColor) {\n      primaryColor = computedStyle.getPropertyValue('--theme-color').trim() || \n                     computedStyle.getPropertyValue('--primary-color').trim() || \n                     '#3498db';\n    }\n    \n    const bgColor = computedStyle.getPropertyValue('--bg-color').trim() || \n                   computedStyle.getPropertyValue('--background-color').trim() || \n                   getComputedStyle(document.body).backgroundColor;\n    \n    const rgb = bgColor.match(/\\d+/g);\n    let brightness = 255;\n    if (rgb) {\n      brightness = (parseInt(rgb[0]) * 299 + parseInt(rgb[1]) * 587 + parseInt(rgb[2]) * 114) / 1000;\n    }\n    \n    root.style.setProperty('--theme-primary', primaryColor);\n    \n    if (brightness > 128) {\n      root.style.setProperty('--theme-bg-light', '#f0f5ff');\n      root.style.setProperty('--theme-card-bg', '#ffffff');\n      root.style.setProperty('--theme-border', '#e1e8f0');\n      root.style.setProperty('--theme-text', '#2c3e50');\n      root.style.setProperty('--theme-text-secondary', '#5a6c7d');\n      root.style.setProperty('--theme-primary-light', '#e8edff');\n    } else {\n      root.style.setProperty('--theme-bg-light', '#1a2433');\n      root.style.setProperty('--theme-card-bg', '#2c3e50');\n      root.style.setProperty('--theme-border', '#34495e');\n      root.style.setProperty('--theme-text', '#ecf0f1');\n      root.style.setProperty('--theme-text-secondary', '#bdc3c7');\n      root.style.setProperty('--theme-primary-light', '#1a252f');\n    }\n  }\n\n  updateThemeColors();\n\n  const observer = new MutationObserver(updateThemeColors);\n  observer.observe(document.documentElement, {\n    attributes: true,\n    attributeFilter: ['class', 'style', 'data-theme']\n  });\n});\n</script>"}],"Post":[{"title":"博客搭建hexo & stellar安装配置","abbrlink":51727,"date":"2025-09-20T10:19:42.000Z","_content":"\n### 1. 构建工具安装准备\n\n#### 1.1 Node.js环境搭建\n\nhexo基于Node.js构建,需安装Node.js依赖环境，由于ubuntu系统仓库Node.js比较旧，需前往[Node.js](https://nodejs.cn/en/download)官网按指引安装最新稳定版本。\n\n由于本博主使用的是WSL子系统，这里选择Linux系统和nvm安装方式。\n\n首先安装nvm Node.js版本管理器，再使用nvm工具包安装指定版本Node.js，Node.js自带npm软件包管理器，顺便安装yarn JavaScript软件包管理器。\n\n具体操作如下：\n\n```sh\n# Download and install nvm:\ncurl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.40.3/install.sh | bash\n# in lieu of restarting the shell\n\\. \"$HOME/.nvm/nvm.sh\"\n# Download and install Node.js:\nnvm install 24\n# Verify the Node.js version:\nnode -v # Should print \"v24.9.0\".\n# Verify npm version:\nnpm -v # Should print \"11.6.0\".\n```\n\n#### 1.2 NPM简介\n\n**NPM（Node Package Manager）** 是 Node.js 的默认包管理工具，用于管理 JavaScript 项目的依赖库和工具。它允许开发者轻松地安装、更新、共享和发布代码包，同时支持版本控制和脚本运行。\n\n如果需要加速国内访问，可以配置淘宝镜像：\n\n`npm config set registry https://registry.npmmirror.com`\n\n以下是一些常用的 NPM 命令：\n\n```sh\nnpm init # 初始化 package.json 文件\nnpm install # 安装 package.json 中的所有依赖\nnpm install <包名> --save-dev # 安装开发依赖\nnpm uninstall <包名> # 卸载依赖\nnpm update <包名> # 更新依赖\nnpm list --depth=0 # 查看已安装的依赖\nnpm audit # 检查依赖中的安全漏洞\nnpm run <脚本名> # 运行 package.json 中定义的脚本\n```\n\n本地与全局安装\n\n```sh\nnpm install express # 本地安装 将包安装到当前项目的 node_modules 目录，仅对该项目可用。\nnpm install -g @vue/cli # 全局安装 使用 -g 参数将包安装到系统范围内，适用于 CLI 工具。\n```\n\n### 2. HEXO配置\n\n#### 2.1 hexo安装以及初始化\n\n根据[Hexo](https://hexo.io/zh-cn/)官网安装指引，全局安装`npm install -g hexo@8.0.0`\n\n```sh\nhexo init blog #初始化blog目录，目录一定为空。\ncd blog\nnpm install #安装hexo所需依赖\nhexo cl&hexo g&hexo s #清除缓存&渲染网页&启动本地端口服务\nhttp://localhost:4000/ #点击链接可用浏览器本地预览博客\n```\n\n初始化后blog文件夹结构如下.\n\n```sh\n.\n├── _config.yml #hexo配置文件\n├── package.json\n├── scaffolds #模板文件夹\n├── source #资源文件夹，即网页根目录位置\n|   ├── _drafts\n|   └── _posts\n└── themes #主题文件夹\n```\n\n#### 2.2 hexo配置  开始折腾\n\n本站使用[Stellar](https://xaoxuu.com/wiki/stellar/comments/)主题构建，Stellar 是一个内置文档系统的简约商务风 Hexo 主题，支持丰富的标签和动态数据组件，帮助您简单从容地应对各种表达需求，十分推荐内容创作者使用 Stellar 开始您全新的博客之旅。\n\n{% link <https://xaoxuu.com/wiki/stellar> \"stellar主题文档\" desc:true %}\n\n`npm i hexo-theme-stellar`安装稳定版本，安装路径位于`blog/node_modules/`文件夹内。\n\n在 `blog/_config.yml` 文件中找到并修改：\n\n`theme: stellar`\n\n将`blog/node_modules/_config.yml` 拷贝一份至`/blog`目录重命名为`_config.stellar.yml`，该配置文件优先级高于主题目录。\n\n参阅Stellar wiki选择开启需要的功能。\n\n### 3. 网站统计\n\n**网页底部文章统计**参考博主[BoBoBlog](https://blog.bxzdyg.cn/)文章\n\n- 安装插件：npm i hexo-wordcount –save\n\n- 还需要需要在主题文件footer.ejs里将 `{post_count}` 和 `{word_count}` 替换为实际数据。Stellar 主题页脚渲染时，content 是字符串，可以用 JS 替换。\n\n  建议在ayoutDiv 函数里，渲染 markdown 前加如下替换：\n\n  ```ejs footer.ejs\n    // footer\n    el += '<div class=\"text\">'\n    if (content) {\n      const postCount = site.posts.length;\n      const wordCount = typeof totalcount === 'function' ? totalcount(site) : 0;\n      let contentStr = content;\n      contentStr = contentStr.replace('{post_count}', postCount).replace('{word_count}', wordCount);\n      el += markdown(contentStr)\n    }\n  ```\n\n  然后在主题配置文件footer:content:增加如下代码，即可实现显示网站总文章字数统计。\n\n  ```yaml 主题配置文件\n  <span class=\"totalcount\">共发表 {post_count} 篇Blog · </span><span class=\"post-count\">总计 {word_count} 字</span\n  ```\n\n**网页访问统计**由于不蒜子老是挂，现在使用的是Vercount插件，不蒜子的优化版本。[Vercount: 一个比不蒜子更好的网站计数器 | EvanNotFound's Blog](https://ohevan.com/vercount-website-counter-busuanzi-alternative.html)\n\n{% tabs active:1 align:center %}\n\n<!-- tab 显示效果 -->\n\n需要修改主题配置文件，在`footer：→ content：`位置添加如下。内容\n\n![image-20251018141423327](https://u.sam7.top/NYCBsQ)\n\n<!-- tab 修改内容 -->\n\n```yml blog/_config.stellar.yml\n  content: | # 支持 Markdown 格式\n          <center>\n\n          网站由 [{author.name}](/) © 2025使用 [{theme.name}]({theme.tree}) 主题创建\n\n          <span id=\"runtime_span\"></span>\n          <script type=\"text/javascript\">\n          function show_runtime() {\n              window.setTimeout(\"show_runtime()\", 1000);\n              X = new Date(\"2025/09/06 19:00:00\");\n              Y = new Date();\n              T = (Y.getTime() - X.getTime());\n              M = 24 * 60 * 60 * 1000;\n              a = T / M;\n              A = Math.floor(a);\n              b = (a - A) * 24;\n              B = Math.floor(b);\n              c = (b - B) * 60;\n              C = Math.floor((b - B) * 60);\n              D = Math.floor((c - C) * 60);\n              runtime_span.innerHTML = \"网站已运行 \" + A + \"天\" + B + \"小时\" + C + \"分\" + D + \"秒\"\n          }\n          show_runtime();\n          </script>\n          <!--不蒜子计数器 https://ohevan.com/vercount-website-counter-busuanzi-alternative.html-->\n          <script defer src=\"https://vercount.one/js\"></script>\n          <!--添加一个访问量-->\n          总访问<span id=\"busuanzi_value_site_pv\"></span>次 · 总访客<span id=\"busuanzi_value_site_uv\"></span>人 · 本页访问<span id=\"busuanzi_value_page_pv\"></span>次\n          <span class=\"totalcount\">共发表 {post_count} 篇Blog · </span><span class=\"post-count\">总计 {word_count} 字</span>\n          </center>\n          <div style=\"display: flex;justify-content: center;align-items: center;margin: 10px;\">\n            <a target=\"_blank\" rel=\"noopener\" href=\"https://notbyai.fyi/\"><img class=\"lazy entered loaded\" src=\"https://u.sam7.top/miGrfX\" data-src=\"https://u.sam7.top/miGrfX\" alt=\"全部都是博主用心学编写的啊！不是ai啊\" style=\"width:100px;height:35px;margin-right: 10px \" id=\"notbyai\" data-ll-status=\"loaded\"></a>\n            <a target=\"_blank\" rel=\"noopener\" href=\"https://creativecommons.org/licenses/by-nc-sa/4.0/\"><img class=\"lazy entered loaded\" src=\"https://u.sam7.top/2BJDeW\" data-src=\"https://u.sam7.top/2BJDeW\" alt=\"只要保留原作者姓名并在基于原作创作的新作品适用同类型的许可协议，即可基于非商业目的对原作重新编排、改编或者再创作。\" style=\"width:100px;height:35px\" data-ll-status=\"loaded\"></a>\n          </div>\n```\n\n{% endtabs %}\n\n### 4. 评论系统\n\n#### 4.1 waline启用\n\nstellar已集成waline插件，首先主题配置文件选择启用waline，具体配置见以下代码。\n\n然后跟着主页[快速上手 | Waline](https://waline.js.org/guide/get-started/) wiki一步步搭建到vercel。\n\n[SkyReeves](https://skyreeves.github.io/)博主写的很详细，参考[hexo博客引入Waline评论模块 - SkyReeves](https://skyreeves.github.io/post/69ee63d6.html)\n\n{% folding 查看代码 %}\n\n```yaml 主题配置文件\ncomments:\n  service: waline # beaudar, utterances, giscus, twikoo, waline, artalk\n  comment_title: 快来参与讨论吧~\n  lazyload: true # true / false\n  custom_css: waline # artalk,twikoo,... 可以为没有全局启用的评论加载自定义样式\n\n  waline:\n    js: https://unpkg.com/@waline/client@v3/dist/waline.js #https://gcore.jsdelivr.net/npm/@waline/client@3.1/dist/waline.js\n    css: https://unpkg.com/@waline/client@v3/dist/waline.css #https://gcore.jsdelivr.net/npm/@waline/client@3.1/dist/waline.css\n    meta_css: https://unpkg.com/@waline/client@v3/dist/waline-meta.css \t\t        #https://gcore.jsdelivr.net/npm/@waline/client@3.1/dist/waline-meta.css\n    # Waline server address url, you should set this to your own link\n    serverURL: \n    # If false, comment count will only be displayed in post page, not in home page\n    commentCount: true\n    # Pageviews count, Note: You should not enable both `waline.pageview` and `leancloud_visitors`.\n    pageview: false\n    locale:\n      # #自定义反应标题。如果像我一样不想要反应标题，可以在这一项里留空。\n      # reactionTitle:  \n      # #反应表情的文章描述\n      # reaction0: 爱你哟\n      # reaction1: oh~~\n      # reaction2: 嘚瑟~\n      # reaction3: 无语\n\n      placeholder: \n       嗨，朋友，留个脚印再走呗。  \n\n    #反应表情组\n    reaction: \n      - https://img.skyreeves.com/emojis/blobs/ablobcatheart.png\n      - https://img.skyreeves.com/emojis/blobs/ablobcatattentionreverse.png\n      - https://img.skyreeves.com/emojis/blobs/ablobcatrainbow.png\n      - https://img.skyreeves.com/emojis/blobs/blobcatsaitama.png\n      - https://img.skyreeves.com/emojis/blobs/blobcatflip.png\n    # Custom emoji\n    emoji:\n      - https://unpkg.com/@waline/emojis@1.1.0/weibo\n      - https://unpkg.com/@waline/emojis@1.1.0/alus\n      - https://unpkg.com/@waline/emojis@1.1.0/bilibili\n      - https://unpkg.com/@waline/emojis@1.1.0/qq\n      - https://unpkg.com/@waline/emojis@1.1.0/tieba\n      - https://unpkg.com/@waline/emojis@1.1.0/tw-emoji\n      - https://unpkg.com/@waline/emojis@1.1.0/bmoji\n```\n\n{% endfolding %}\n\n\n\n#### 4.2 评论框颜色跟随\n\n启用后会发现，评论区域部分元素无法显示，需要修改`waline.styl`文件，调整颜色对比度。\n\n{% box child:tabs %}\n{% tabs %}\n<!-- tab 设置失效原因 -->\n\n为 `.wl-panel` 强制设置 `background: var(--waline-bgcolor) !important`，这样评论框会跟随主题背景色切换。重新编译并刷新页面验证效果。\n\n<!-- tab 修改后stylus文件 -->\n\n```stylus waline.styl\n.wl-panel {\n  background: var(--waline-bgcolor) !important;\n}\n\n.cmt-body {\n  .wl-panel {\n    margin: 0.5em 0 !important;\n  }\n  \n  .wl-meta-head {\n    padding: 0 !important;\n  }\n  \n  --waline-font-size: 0.9375rem;\n  \n  /* 浅色模式 - 增强工具栏对比度 */\n  --waline-white: #ffffff;\n  --waline-light-grey: #2c0e0eff; /* 加深浅灰色，提升文字可读性 */\n  --waline-dark-grey: #333333; /* 加深深灰色，增强与背景对比 */\n  \n  /* 主题色强化 - 使工具栏按钮更突出 */\n  --waline-theme-color: #1859bbff; /* 稍深的主题色，增强按钮识别度 */\n  --waline-active-color: #5d932b; /* 更鲜明的活跃色，突出点击状态 */\n  \n  /* 布局颜色 - 增强工具栏区域区分 */\n  --waline-color: #188dd1ff;\n  --waline-bgcolor: #ffffff;\n  --waline-bgcolor-light: #f5f5f5; /* 稍深的浅色背景，使工具栏区域更明显 */\n  --waline-bgcolor-hover: #e0e0e0; /* 加深悬停背景，提升交互反馈 */\n  --waline-border-color: #cccccc; /* 稍深的边框，使工具栏元素边界更清晰 */\n  --waline-disable-bgcolor: #f0f0f0;\n  --waline-disable-color: #888888; /* 禁用状态颜色加深，明确不可用状态 */\n  --waline-code-bgcolor: #adaaaaff; /* 代码工具栏背景调整 */\n  \n  /* 特殊颜色 */\n  --waline-bq-color: #f0f0f0;\n  \n  /* 头像 */\n  --waline-avatar-size: 3.25rem;\n  --waline-m-avatar-size: calc(var(--waline-avatar-size) * 9 / 13);\n  \n  /* 徽章 - 增强工具栏内徽章对比度 */\n  --waline-badge-color: #2980b9; /* 稍深的徽章色，更易识别 */\n  --waline-badge-font-size: 0.725em;\n  \n  /* 信息区域 - 工具栏辅助信息更清晰 */\n  --waline-info-bgcolor: #f5f5f5;\n  --waline-info-color: #555555; /* 信息文字加深 */\n  --waline-info-font-size: 0.725em;\n  \n  /* 渲染选择 - 强化工具栏元素边框 */\n  --waline-border: 1px solid var(--waline-border-color);\n  --waline-avatar-radius: 50%;\n  --waline-box-shadow: 0 1px 4px rgba(0,0,0,0.15); /* 稍强阴影，突出工具栏区域 */\n  \n  /* 工具栏特定元素强化 */\n  .wl-toolbar {\n    border-bottom: 1px solid #e0e0e0; /* 工具栏底部边框加深 */\n    padding: 0.5em 0;\n    background-color: #fafafa; /* 工具栏背景与主区域区分 */\n  }\n  \n  /* 工具栏按钮增强 */\n  .wl-toolbar button {\n    color: #555555 !important; /* 按钮图标颜色加深 */\n    padding: 0.3em 0.6em;\n  }\n  \n  .wl-toolbar button:hover {\n    background-color: #e8e8e8 !important; /* 悬停背景更明显 */\n    color: #222222 !important; /* 悬停时图标颜色加深 */\n  }\n  \n  /* 输入框强化 */\n  .wl-editor {\n    border: 1px solid #dddddd !important;\n    box-shadow: inset 0 1px 3px rgba(0,0,0,0.05) !important; /* 内阴影增强输入框边界感 */\n  }\n}\n\n.cmt-body.waline {\n  ondark() {\n    /* 深色模式增强对比度设置 */\n    --waline-white: #0a0a0a;\n    --waline-light-grey: #b0b0b0; /* 明显提亮的浅灰色 */\n    --waline-dark-grey: #e0e0e0; /* 接近白色的深灰色，提升文字可读性 */\n    \n    /* 布局颜色 - 更大的明暗差异 */\n    --waline-color: #f0f0f0; /* 极亮的文字颜色 */\n    --waline-bgcolor: var(--block, #121212); /* 更深的主背景 */\n    --waline-bgcolor-light: #222222; /* 明显浅于主背景的次级背景 */\n    --waline-bgcolor-hover: #2C3E50; /* 悬停状态明显区分 */\n    --waline-border-color: #383838; /* 更粗的视觉边框效果 */\n    --waline-disable-bgcolor: #333333;\n    --waline-disable-color: #999999; /* 禁用状态与可用状态明显区分 */\n    --waline-code-bgcolor: #050810; /* 代码块背景与主背景区分 */\n    \n    /* 特殊颜色 - 增强区块感 */\n    --waline-bq-color: #252525; /* 引用区块明显区分 */\n    \n    /* 主题色 - 在深色背景上更突出 */\n    --waline-theme-color: #2983beff;\n    --waline-active-color: #7dd147; /* 更鲜艳的活跃色 */\n    --waline-badge-color: #4da6ff; /* 徽章颜色更明亮 */\n    \n    /* 信息区域 - 增强区分度 */\n    --waline-info-bgcolor: #222222;\n    --waline-info-color: #cccccc; /* 信息文字更亮 */\n    \n    /* 强化边框和阴影效果 */\n    --waline-border: 1px solid var(--waline-border-color);\n    --waline-box-shadow: 0 2px 8px rgba(0,0,0,0.3); /* 更深的阴影增强层次感 */\n    \n    /* 计数元素特别强化 */\n    .wl-count {\n      padding: .375em;\n      font-weight: bold;\n      font-size: 1.25em;\n      color: #ffffff;\n      background-color: #1C1F21;\n      border-radius: 4px;\n    }\n    \n    /* 评论项之间添加分隔线增强区分 */\n    .wl-item {\n      border-bottom: 1px solid var(--waline-border-color);\n      padding: 1em 0;\n    }\n    \n    /* 输入框强化 */\n    .wl-editor {\n      background-color: #050810 !important;\n      border: 1px solid #383838 !important;\n      color: #f0f0f0 !important;\n    }\n  }\n  \n  :root[data-theme=\"dark\"] & {\n    ondark();\n  }\n  \n  :root:not([data-theme]) & {\n    @media (prefers-color-scheme: dark) {\n      ondark();\n    }\n  }\n}\n\n/* 修复浅色模式下评论标题显示白色的问题 */\n/* 1. 基础覆盖：直接指定 .cmt-title 文本颜色 */\n.header.cmt-title {\n  color: #333333 !important; /* 浅色模式默认深色文本，与白色背景强对比 */\n}\n\n/* 2. 精准适配：结合 data-theme=\"light\" 确保只作用于浅色模式 */\n:root[data-theme=\"light\"] .header.cmt-title {\n  color: #222222 !important; /* 浅色模式下强制深色标题 */\n  opacity: 1 !important; /* 避免被其他样式设置透明 */\n}\n\n/* 3. 兜底：防止标题内的 p 标签继承白色 */\n:root[data-theme=\"light\"] .header.cmt-title p {\n  color: inherit !important; /* 继承父级的深色，而非白色 */\n  margin: 0; /* 可选：修复可能的默认边距问题 */\n}\n\n/* 4. 深色模式兼容（避免影响深色模式） */\n:root[data-theme=\"dark\"] .header.cmt-title {\n  color: #ffffff !important; /* 深色模式保持白色标题，确保正常显示 */\n}\n```\n\n{% endtabs %}\n{% endbox %}\n\n### 5.  面包屑文章字数统计\n\n主题布局文件article_banner.ejs中添加如下代码，即可实现功能。\n\n{% folding 代码折叠 %}\n\n```ejs article_banner.ejs\n<%\nvar banner = {}\n\nif (page.banner) {\n  banner.url = page.banner\n} else if (theme.topic.tree[page.topic]?.banner != null) {\n  banner.url = theme.topic.tree[page.topic]?.banner\n} else if (theme.wiki.tree[page.wiki]?.banner != null) {\n  banner.url = theme.wiki.tree[page.wiki]?.banner\n}\nbanner = Object.assign(banner, page.banner_info)\n// 标题\nif (banner.title == null) {\n  banner.title = page.h1 != null ? page.h1 : page.title\n}\n// 副标题\nif (banner.subtitle == null) {\n  banner.subtitle = page.subtitle\n}\n\n// 生成日期信息（确保更新时间常显）\nfunction layoutDateInfo() {\n  const publishTime = page.date ? page.date.format('YYYY-MM-DD') : '未知时间';\n  // 无论是否更新都显示更新时间\n  const updateTime = page.updated ? page.updated.format('YYYY-MM-DD') : publishTime;\n  \n  // 使用4个非换行空格分隔（&nbsp;）\n  return `<span class=\"publish-time\">发布时间：${publishTime}</span>&nbsp;&nbsp;&nbsp;&nbsp;\n          <span class=\"update-time\">更新时间：${updateTime}</span>`;\n}\n\nfunction layoutBreadcrumb() {\n  if (page.breadcrumb === false) {\n    return `<div class=\"top\"></div>`\n  }\n  \n  // 使用hexo-wordcount计算文章元信息\n  let metaInfo = ''\n  if (page.layout == 'post' && page.content) {\n    // 调用hexo-wordcount提供的函数\n    const wordCount = wordcount(page.content);\n    const readTime = min2read(page.content);\n    // 使用4个非换行空格分隔（&nbsp;）\n    metaInfo = `\n      <div class=\"breadcrumb-meta text-sm\">\n        文章字数：${wordCount}&nbsp;&nbsp;&nbsp;&nbsp;阅读时长：${readTime}分钟\n      </div>\n    `;\n  }\n  \n  // 构建面包屑导航（三行左对齐布局）\n  let el = ''\n  el += `<div class=\"top bread-nav footnote\">`\n  el += `<div class=\"left breadcrumb-container\">`\n  \n  // 第一行：面包屑导航（左对齐）\n  el += `<div class=\"flex-row breadcrumb-path text-sm\" id=\"breadcrumb\" style=\"text-align: left;\">`\n  el += `<a class=\"cap breadcrumb\" href=\"${pretty_url(config.root)}\">${__(\"btn.home\")}</a>`\n  if (theme.wiki.tree[page.wiki]) {\n    el += partial('breadcrumb/wiki')\n  } else if (page.notebook) {\n    el += partial('breadcrumb/note')\n  } else if (page.layout == 'post') {\n    el += partial('breadcrumb/blog')\n  } else {\n    el += partial('breadcrumb/page')\n  }\n  el += `</div>`\n  \n  // 第二行：文章元信息（左对齐）\n  el += metaInfo ? `<div style=\"text-align: left; padding: 4px 0;\">${metaInfo}</div>` : ''\n  \n  // 第三行：日期信息（左对齐，更新时间常显）\n  el += `<div class=\"breadcrumb-date text-sm\" style=\"text-align: left; padding: 4px 0;\">`\n  el += layoutDateInfo()\n  el += `</div>`\n  \n  el += `</div>` // 关闭.left\n  el += `</div>` // 关闭.top\n  return el\n}\n\nfunction layoutTitle() {\n  if (banner.title?.length > 0) {\n    return `<h1 class=\"text title\"><span>${banner.title}</span></h1>`\n  } else {\n    return ''\n  }\n}\n\nfunction layoutSubtitle() {\n  if (banner.subtitle?.length > 0) {\n    return `<div class=\"text subtitle\">${banner.subtitle}</div>`\n  } else {\n    return ''\n  }\n}\n\nfunction layoutIcon() {\n  if (banner.avatar?.length > 0 || banner.icon?.length > 0) {\n    return `<img class=\"lazy avatar\" data-src=\"${banner.avatar || banner.icon}\">`\n  } else {\n    return ''\n  }\n}\n\nfunction layoutBottom() {\n  const el_icon = layoutIcon()\n  const el_title = layoutTitle()\n  const el_subtitle = layoutSubtitle()\n  let cls = ''\n  if (el_title.length > 0 && el_subtitle.length == 0) {\n    cls += ' only-title'\n  }\n  if (el_title.length > 0) {\n    return `\n    <div class=\"bottom${cls}\">\n      ${el_icon}\n      <div class=\"text-area\">\n        ${el_title}\n        ${el_subtitle}\n      </div>\n    </div>\n    `\n  } else {\n    return ``\n  }\n}\n\nfunction layoutDiv() {\n  const bottom = layoutBottom()\n  if (page.breadcrumb === false && bottom.length == 0) {\n    return ``\n  }\n  const top = layoutBreadcrumb()\n  let style = ``\n  let el = ``\n  el += `<div class=\"article banner${scrollreveal(' ')} top\">`\n  if (banner.url?.length > 0) {\n    el += `<img class=\"lazy bg\" data-src=\"${banner.url}\">`\n    if (banner.color) {\n      style += ' style=\"--text-banner:' + banner.color + '\"'\n    }\n  }\n\n  el += `\n  <div class=\"content\"${style}>\n    ${top}\n    ${bottom}\n  </div>\n  `\n  el += `</div>`\n  return el\n}\n%>\n<%- layoutDiv() %>\n```\n\n{% endfolding %}\n\n![image-20251018133145461](https://u.sam7.top/ntjjmz)\n\n### 6. 动态图标配置\n\n在主题配置文件_config.stellar.yml中增加以下CSS文件，引入font-awesome图标库。在[font-awesome v7 CDN](https://www.bootcdn.cn/font-awesome/)里面找一个CDN。\n\n``` yaml\n# 动态图标引入\ninject:\n  head:\n    - <link href=\"https://cdn.bootcdn.net/ajax/libs/font-awesome/7.0.0/css/all.css\" rel=\"stylesheet\">  # fontawesome动态图标引入\n```\n\n 图标格式张这样`<i class=\"fa-solid fa-github fa-brands fa-bounce\"></i>`，然后就可以在想要添加图标的地方使用了，[Font Awesome](https://fontawesome.com/)主页搜索相应特性的图标，大部分都是免费的。\n\n```yaml\nfooter: \n  social:\n    github:\n      icon: '<i class=\"fa-solid fa-github fa-brands fa-bounce\"></i>'\n      title: 'Github'\n      url : / \n```\n\n![image-20251008112814230](https://u.sam7.top/WjAEkb)\n\n### 7. 图床、图片配置\n\n- [ImgToLink+](https://imgtolinkx.com/)是一款免费、免登录图床软件，支持单个文件50M，返回短链。\n\n![image-20251018221547852](https://u.sam7.top/QZjdN7)\n\n- [16图床，永久免费，无需登录的图床](https://111666.best/)免费的往往很容易挂掉，用作评论区上传图床临时用可以。\n\n  ![image-20251018221644226](https://u.sam7.top/siiZmD)\n\n- Cloudflare好像也有免费的image服务。\n\n#### 7.1 Piclist Github图床配置\n\n由于typora支持picgo和piclist图床上传，所以选用了目前还在持续更新的piclist。\n\ntypora图片设置如下，插入图片时直接上传piclist图床，然后自动转义图片url。\n\n![image-20251018222011517](https://u.sam7.top/mTDhyZ)\n\n[PicList](https://piclist.cn/)主页下载安装最新版，选择Github图床搭建，参考[PicGo/PicList + Github 搭建图床 | Theo Docs](https://doc.theojs.cn/notes/build-picture-bed)\n\npiclist相关设置\n\n- piclist设置图片最大800px宽度，大于800压缩至800，小于800不处理。\n\n- 使用`https://cdn.jsdmirror.com/gh`加速Github图床。\n- 上传成功直接复制url链接\n- 开启时间戳重命名\n- 添加图片水印\n- 使用短链接\n- 图片格式转换成压缩率更高的AVIF格式\n\n#### 7.2 搭建图床短链接\n\n为什么要用短链，部分平台（尤其是社交平台、论坛、旧版编辑器）对 URL 长度或格式有严格限制，包含特殊字符（如 `?` `&` `/`）的长链接，可能被平台误判为 “恶意链接” 而拦截，且原始图床链接可能泄露敏感信息。\n\npiclist上传的图片链接也是一堆乱码，widowns文件系统目录`\\`被转义，可以按时间戳重命名图像名称，也可以搭建短链接网站。\n\n参考[xyTom/Url-Shorten-Worker](https://github.com/xyTom/Url-Shorten-Worker/) 主页wiki和[用cloudflare搭建短链接网站](https://blog.houzhongcheng.com/2025/05/30/用cloudflare搭建短链接网站.html)搭建。\n\n![image-20251018112143204](https://u.sam7.top/erBf5k)\n\n![image-20251018105813478](https://u.sam7.top/AEF2tc)\n\n#### 7.3 waline评论图床上传\n\n开启waline评论区图床上传，图片能上传成功，但是的识别不了链接。\n\n已经关掉了，PicList回传的不是json，只能选择URL、markdown格式。\n\n#### 7.4 fancybox设置\n\nstellar集成fancybox灯箱插件，可以在放大网页上面的图片，功能很多。\n\n[Stellar：表达类标签组件（33+个） - XAOXUU](https://xaoxuu.com/wiki/stellar/tag-plugins/express/#image-图片标签) stellar wiki介绍很详细。\n\nmd语法图片格式支持默认全局打开，有个问题就是点击文章海报图片也会放大。\n\n```yml 主题配置文件\nplugins:\n\n  fancybox:\n    enable: true\n    loader: /js/plugins/fancybox-loader.js\n    js: https://gcore.jsdelivr.net/npm/@fancyapps/ui@6/dist/fancybox/fancybox.umd.js\n    css: https://gcore.jsdelivr.net/npm/@fancyapps/ui@6/dist/fancybox/fancybox.css\n    # 让 md 语法图片支持放大可以这样写: .md-text img:not([class]), .md-text .image img\n    # 可以处理评论区的图片（不支持 iframe 类评论系统）例如：\n    # 使用 twikoo 评论可以写: .tk-content img:not([class*=\"emo\"])\n    # 使用 waline 评论可以写: #waline_container .vcontent img\n    selector: .timenode p>img, waline_container .vcontent img, .custom-image-container a, .md-text img:not([class]), .md-text .image img # 多个选择器用英文逗号隔开\n```\n\n### 8. 侧边栏配置\n\n#### 8.1 左侧栏页脚图标\n\nstellar主题预留有7个位置，主题配置如下，footer下面添加以下内容。\n\n```yaml 主题配置文件\n######## Footer ########\nfooter: \n  social:\n    github:\n      icon: '<i class=\"fa-solid fa-github fa-brands\" style=\"font-size:1em;\"></i>'\n      title: 'Github'\n      url : https://github.com/sam7xx \n    rss: \n      icon: '<i class=\"fa-solid fa-rss\" style=\"color: #FF5722;font-size:1em;\"></i>'\n      title: 'RSS'\n      url : /atom.xml\n    email: \n      icon: '<i class=\"fa-solid fa-envelope fa-bounce\" style=\"color: #B197FC;font-size:1em;\"></i>'\n      title: 'Email'\n      url : \"mailto://2690640537@qq.com\"\n    theme:\n      icon: '<i class=\"fa-solid fa-circle-half-stroke fa-flip\" style=\"color: #FFD600;font-size:1em;\"></i>'\n      title: '主题切换'\n      url: 'javascript:void(0);'\n    message:\n      icon: '<i class=\"fa-solid fa-message fa-bounce\" style=\"color:#FF9800;font-size:1em;\"></i>'\n      title: '留言板'\n      url: '/messages'\n    about:\n      icon: '<i class=\"fa-solid fa-user\" style=\"color:#4CAF50;font-size:1em;\"></i>'\n      title: '关于作者'\n      url: '/about'\n    friends:\n      icon: '<i class=\"fa-solid fa-link\" style=\"color:#2196F3;font-size:1em;\"></i>'\n      title: '友链'\n      url: '/friends'\n```\n\n![image-20251018133033178](https://u.sam7.top/GGHPGQ)\n\n#### 8.2 侧边栏组件\n\n参考主题wiki配置[Stellar：侧边栏组件的配置与使用（9个） - XAOXUU](https://xaoxuu.com/wiki/stellar/widgets/)\n\n可以根据需要添加或者自定义喜欢的组件。[使用Hexo和Stellar搭建个人博客网站【超详细贴心保姆级教程💖】 - BoBoBlog](https://blog.bxzdyg.cn/p/使用Hexo和Stellar搭建个人博客网站/#接入API)\n\n在 `_data/widgets.yml` 文件中添加以下内容，需要自己创建：\n\n```yaml _data/widgets.yml\n# 欢迎语\nwelcome:\n  layout: markdown\n  title: 🎉欢迎\n  content: |\n    本站托管于Cloudflare, 加载缓慢请耐心等待，欢迎大家畅所欲言。\n    <hr style=\"border: 1px solid black; background-color: black;\">\n    <span id=\"jinrishici-sentence\"></span>\n    <script src=\"https://sdk.jinrishici.com/v2/browser/jinrishici.js\" charset=\"utf-8\"></script>\n```\n\n修改主题配置文件，在想要显示的页面添加welcome组件，\n\n```yaml 主题配置文件\n  home:\n    leftbar:  welcome, recent, music\n    rightbar: tagcloud\n  # 博客列表页配置\n  index_blog:\n    base_dir: blog # 只影响自动生成的页面路径\n    menu_id: post # 未在 front-matter 中指定 menu_id 时，layout 为 post 的页面默认使用这里配置的 menu_id\n    leftbar:  welcome, recent  # for categories/tags/archives\n    rightbar: tagcloud\n    nav_tabs:  # 近期发布 分类 标签 专栏 归档 and ...\n      # '朋友文章': /friends/rss/\n  # 博客专栏列表页配置\n```\n\n### 9. 主导航栏配置\n\n#### 9.1 启用主导航栏菜单\n\n主题配置文件中设置如下，使用fontawesome图标。\n\n```yaml 主题配置文件\nmenubar:\n  columns: 5 # 一行多少个\n  items: # 可按照自己需求增加，符合以下格式即可\n    # id: 页面中高亮的 menu_id \n    # theme: 高亮时的颜色，仅 svg 中 fill=\"currentColor\" 时有效\n    # icon: 支持 svg/img 标签，可以定义在 icons.yml 文件中，也支持外部图片的 URL\n    # title: 标题\n    # url: 点击跳转到哪，支持相对路径和绝对路径\n    - id: post\n      theme: '#2196F3'\n      icon: '<i class=\"fa-solid fa-newspaper\" style=\"font-size:1.25em;\"></i>'\n      title: 博客\n      url: /blog\n    - id: note\n      theme: '#4CAF50'\n      icon: '<i class=\"fa-solid fa-pen-to-square\" style=\"font-size:1.25em;\"></i>'\n      title: 笔记\n      url: /note\n```\n\n效果展示\n\n![image-20251018225127149](https://u.sam7.top/hGbYrj)\n\n#### 9.2 主导航栏下拉菜单设置\n\n菜单栏位置不够放怎么办，那就增加一个下拉菜单吧。在 Hexo 主题（这里是 Stellar 主题）的菜单栏 “更多” 处增加下拉菜单，可按以下步骤操作：\n\n{% tabs active:1 %}\n\n<!-- tab 调整内容 -->\n\n步骤一：修改主题配置文件（`_config.yml`）找到主题配置文件中 `menubar` 部分关于 “更多”（`id: more`）的配置项。\n\n在 `items` 里，为 “更多” 添加子菜单结构。\n\n这里通过 `nested` 字段来定义 “更多” 的下拉子菜单，每个子项包含 `title`（子菜单标题）和 `url`（子菜单跳转链接）。\n\n<!-- tab 主题配置文件 -->\n\n```yaml 主题配置文件\nmenubar:\n  columns: 5\n  items:\n    # 其他菜单项...\n    - id: more\n      theme: '#CC96F3'\n      icon: '<i class=\"fa-solid fa-caret-down\" style=\"font-size:1.5em;\"></i>'\n      title: 更多\n      # 这里配置子菜单，使用 nested 字段\n      nested:\n        - title: 子菜单1\n          url: /submenu1/\n        - title: 子菜单2\n          url: /submenu2/\n        - title: 子菜单3\n          url: /submenu3/\n```\n\n{% endtabs %}\n\n{% tabs active:1 %}\n\n<!-- tab 调整内容 -->\n\n步骤二：修改主题模板文件（菜单渲染相关）\n\nHexo 主题的菜单渲染通常在 `layout` 目录下的相关模板文件 `menu.ejs`中，为 “更多” 菜单项添加下拉菜单的渲染逻辑。\n\n这段代码的作用是：当菜单项（这里是 “更多”）存在 `nested` 子菜单配置时，渲染下拉菜单结构；否则渲染普通链接。\n\n<!-- tab menu.ejs -->\n\n{% folding 查看代码 %}\n\n```html menu.ejs\n<%\nfunction layoutDiv() {\n  var el = ''\n  el += `<nav class=\"menu dis-select${where == 'main' ? ' mobile-hidden' : ''}\">`\n  \n  // 分离普通菜单项和\"更多\"菜单项\n  const moreItem = (theme.menubar.items || []).find(item => item?.id === 'more');\n  const regularItems = (theme.menubar.items || []).filter(item => \n    item && item.id != null && item.url != null && item.id !== 'more'\n  );\n  \n  // 渲染普通菜单项\n  for (let item of regularItems) {\n    el += `<a class=\"nav-item${item.id == page.menu_id ? ' active' : ''}\" title=\"${item.title}\" href=\"${pretty_url(item.url)}\"`\n    if (item.theme?.length > 0) {\n      el += ` style=\"color:${item.theme}\"`\n    }\n    el += `>`\n    if (item.icon?.length > 0) {\n      el += icon(item.icon, 'no-lazy')\n    } else {\n      el += `<span>${__(item.title)}</span>`\n    }\n    el += `</a>`\n  }\n  \n  // 渲染\"更多\"菜单项及下拉菜单\n  if (moreItem) {\n    // 检查是否有子菜单配置\n    const hasSubmenu = moreItem.nested && moreItem.nested.length > 0;\n    \n    el += `<div class=\"nav-item more-dropdown${moreItem.id == page.menu_id ? ' active' : ''}\"`;\n    if (moreItem.theme?.length > 0) {\n      el += ` style=\"color:${moreItem.theme}\"`;\n    }\n    el += `>`;\n    \n    // 更多按钮\n    el += `<a class=\"more-toggle\" title=\"${moreItem.title}\"`;\n    if (!hasSubmenu) {\n      el += ` href=\"${pretty_url(moreItem.url)}\"`;\n    }\n    el += `>`;\n    if (moreItem.icon?.length > 0) {\n      el += icon(moreItem.icon, 'no-lazy');\n    } else {\n      el += `<span>${__(moreItem.title)}</span>`;\n    }\n    el += `</a>`;\n    \n    // 下拉菜单\n    if (hasSubmenu) {\n      el += `<div class=\"more-dropdown-menu\">`;\n      for (let subItem of moreItem.nested) {\n        if (subItem && subItem.title && subItem.url) {\n          el += `<a class=\"dropdown-item\" href=\"${pretty_url(subItem.url)}\" title=\"${subItem.title}\">`;\n          el += `<span>${__(subItem.title)}</span>`;\n          el += `</a>`;\n        }\n      }\n      el += `</div>`;\n    }\n    \n    el += `</div>`;\n  }\n  \n  el += `</nav>`\n  return el\n}\n%>\n\n<%- layoutDiv() %>\n```\n\n{% endfolding %}\n\n{% endtabs %}\n\n{% tabs active:1 %}\n\n<!-- tab 调整内容 -->\n\n步骤三：添加样式\n\n如果需要对下拉菜单的样式（如显示 / 隐藏、 hover 效果等）进行自定义，可在主题的样式文件`menu.styl`中添加相关 CSS 规则。示例：\n\n<!-- tab menu.styl -->\n\n{% folding 查看代码 %}\n\n```stylus menu.styl\n// 导航区域菜单容器样式\n.nav-area .menu\n  width: 100% // 宽度占满父容器\n  display: grid // 使用网格布局\n  margin: 8px 0 // 上下外边距8px，左右0\n  grid-template-columns: repeat(hexo-config('menubar.columns'), 1fr) // 从Hexo配置读取列数\n  grid-gap: 8px // 网格项间距8px\n\n  // 导航区域菜单滚动条（隐藏）\n  &::-webkit-scrollbar\n    display: none // 隐藏滚动条本体\n  &::-webkit-scrollbar-track-piece\n    background: transparent // 滚动条轨道透明\n  &::-webkit-scrollbar-thumb\n    display: none // 隐藏滚动条滑块\n\n  // 导航区域菜单项样式\n  .nav-item\n    box-sizing: border-box // 边框盒模型（padding和border不影响宽度）\n    width: 100% // 宽度100%\n    min-height: 40px // 最小高度40px\n    border-radius: var(--border-bar) // 使用圆角变量\n    font-size: var(--fs-15) // 15px字体变量\n    font-weight: 500 // 中等粗细\n    color: var(--text-p3) // 三级文字色\n    text-align: center // 文字居中\n    background: var(--bg-a50) // 50%透明度背景\n    transition: background 0.3s ease // 背景过渡动画\n    position: relative // 相对定位\n    display: flex // Flex布局\n    flex-direction: column // 子元素垂直排列\n    align-items: center // 水平居中\n    justify-content: center // 垂直居中\n\n    // 导航项文字样式\n    span\n      text-overflow: ellipsis // 溢出显示省略号\n      word-break: keep-all // 不拆分单词\n\n    // 激活/悬停状态\n    &.active, &:hover\n      color: var(--text-p1) // 一级文字色\n      background: var(--bg-a100) // 100%透明度背景\n\n    // 激活状态底部指示条\n    &.active:after\n      content: '' // 空内容伪元素\n      position: absolute // 绝对定位\n      width: 16px // 宽度16px\n      height: 2px // 高度2px\n      left: 50% // 水平居中\n      transform: translateX(-50%) // 水平居中偏移\n      border-radius: 2px // 圆角2px\n      bottom: 2px // 距离底部2px\n      background: currentColor // 继承文字颜色\n\n// 基础菜单样式\n.menu\n  display: flex // Flex布局（横向排列）\n  list-style: none // 移除列表默认样式\n  padding: 0 // 无内边距\n  margin: 0 // 无外边距\n  gap: 1rem // 菜单项间距1rem\n\n// 通用导航项样式\n.nav-item\n  display: flex // Flex布局\n  align-items: center // 垂直居中\n  justify-content: center // 水平居中\n  text-decoration: none // 无下划线\n  position: relative // 相对定位（用于下拉菜单）\n\n// 更多菜单下拉容器\n.more-dropdown\n  position: relative // 相对定位\n  display: inline-block // 行内块布局\n  z-index: 100 // 层级100\n\n  // 更多下拉菜单样式（恢复原始宽度40px）\n  .more-dropdown-menu\n    display: none // 默认隐藏\n    position: absolute // 绝对定位\n    right: 0 // 右对齐\n    top: -80px // 上移80px\n    background-color: #fff // 亮色背景\n    min-width: 40px // 恢复原始最小宽度（适配紧凑布局）\n    max-height: 120px // 最大高度\n    box-shadow: 0 2px 12px rgba(0,0,0,0.15) // 亮色阴影\n    z-index: 9999 // 高层级避免遮挡\n    border-radius: 6px // 圆角6px\n    overflow-y: auto // 垂直滚动\n    overflow-x: hidden // 水平隐藏溢出\n    padding: 6px 0 // 上下内边距6px\n    box-sizing: border-box // 边框盒模型\n\n    // 更多下拉菜单滚动条\n    &::-webkit-scrollbar\n      width: 4px // 滚动条宽度4px\n    &::-webkit-scrollbar-thumb\n      background-color: rgba(0,0,0,0.15) // 亮色滚动条滑块\n      border-radius: 2px // 滑块圆角\n\n  // 悬停显示更多下拉菜单\n  &:hover .more-dropdown-menu\n    display: block // 显示菜单\n    animation: fadeIn 0.2s ease // 淡入动画\n\n// 下拉菜单项样式\n.dropdown-item\n  display: flex // Flex布局\n  align-items: center // 垂直居中\n  justify-content: center // 水平居中\n  width: 100% // 宽度100%\n  padding: 10px // 内边距10px\n  color: #333 // 亮色文字\n  text-decoration: none // 无下划线\n  box-sizing: border-box // 边框盒模型\n\n  // 悬停效果（亮色）\n  &:hover\n    background-color: #f5f5f5 // 亮色悬停背景\n\n// 普通下拉菜单容器\n.dropdown\n  position: relative // 相对定位\n  display: inline-block // 行内块布局\n  z-index: 100 // 层级100\n\n  // 普通下拉菜单样式（恢复原始宽度40px）\n  .dropdown-menu\n    display: none // 默认隐藏\n    position: absolute // 绝对定位\n    top: -80px // 上移80px\n    background-color: #f9f9f9 // 亮色背景\n    min-width: 40px // 恢复原始最小宽度（适配紧凑布局）\n    max-height: 120px // 最大高度\n    box-shadow: 0 2px 12px rgba(0,0,0,0.2) // 亮色阴影\n    z-index: 9999 // 高层级避免遮挡\n    overflow-y: auto // 垂直滚动\n    overflow-x: hidden // 水平隐藏溢出\n    padding: 6px 0 // 上下内边距6px\n    box-sizing: border-box // 边框盒模型\n\n    // 普通下拉菜单滚动条\n    &::-webkit-scrollbar\n      width: 4px // 滚动条宽度4px\n    &::-webkit-scrollbar-thumb\n      background-color: rgba(0,0,0,0.15) // 亮色滚动条滑块\n      border-radius: 2px // 滑块圆角\n\n  // 悬停显示普通下拉菜单\n  &:hover .dropdown-menu\n    display: block // 显示菜单\n    animation: fadeIn 0.2s ease // 淡入动画\n\n  // 普通下拉菜单项样式\n  .dropdown-menu a\n    display: flex // Flex布局\n    align-items: center // 垂直居中\n    justify-content: center // 水平居中\n    padding: 10px // 内边距10px\n    text-decoration: none // 无下划线\n    color: #333 // 亮色文字\n\n    // 悬停效果（亮色）\n    &:hover\n      background-color: #ddd // 亮色悬停背景\n\n// 暗色模式适配\n[data-theme=\"dark\"]\n  // 更多下拉菜单\n  .more-dropdown-menu\n    background-color: #2d2d2d // 暗色背景\n    box-shadow: 0 2px 12px rgba(0,0,0,0.3) // 暗色阴影\n\n  // 下拉菜单项文字及悬停\n  .dropdown-item\n    color: #f0f0f0 // 暗色文字\n    &:hover\n      background-color: #444 // 暗色悬停背景\n\n  // 普通下拉菜单\n  .dropdown-menu\n    background-color: #2d2d2d // 暗色背景\n    box-shadow: 0 2px 12px rgba(0,0,0,0.3) // 暗色阴影\n\n    // 普通下拉菜单项文字及悬停\n    a\n      color: #f0f0f0 // 暗色文字\n      &:hover\n        background-color: #444 // 暗色悬停背景\n\n  // 暗色模式滚动条滑块\n  .more-dropdown-menu::-webkit-scrollbar-thumb,\n  .dropdown-menu::-webkit-scrollbar-thumb\n    background-color: rgba(255,255,255,0.2) // 暗色滚动条滑块\n\n// 下拉菜单入场动画\n@keyframes fadeIn\n  from\n    opacity: 0 // 初始透明度0\n    transform: translateY(5px) // 初始位置下移5px\n  to\n    opacity: 1 // 结束透明度1\n    transform: translateY(0) // 恢复位置\n\n// 响应式调整（≤768px）\n@media (max-width: 768px)\n  .menu.mobile-hidden\n    display: none // 小屏幕隐藏指定菜单\n\n```\n\n{% endfolding %}\n\n{% endtabs %}\n\n步骤四：重启 Hexo 服务\n\n修改完成后，在终端中执行 `hexo clean && hexo s` 命令，清理并重新启动 Hexo 本地服务，然后在浏览器中查看效果，“更多” 处应能正常显示下拉菜单。\n\n由于搜索栏遮盖了下拉菜单，需要修改下拉菜单支持滚动模式，容器固定3行高度，上移一段距离。\n\n图标也不能正常显示，凑合用吧。\n\n![image-20251018130238736](https://u.sam7.top/Bh3YjH)\n\n#### 9.3 网站设置\n\n- 根目录配置文件中，修改以下内容。\n\n```yaml 根目录配置文件\ntitle: #博客名称\nsubtitle: '纸上得来终觉浅,绝知此事需躬行|文本2' #鼠标移至副标题区域即可显示文本2内容\ndescription: '博客描述'\nkeywords: ['','','','','',''] #关键词，方便搜索引擎抓取\nauthor: Sam #作者名字\navatar: /path/x.avif #头像\nlanguage:\n  - zh-CN\n  - en\ntimezone: 'Asia/Shanghai' #时区\n\n```\n\n- 网站标题艺术字设置\n\n  - 在主题source目录下新建`art-title.css`,新增以下内容\n\n    ```css art-title.css\n    div.main {\n      /* 中英文统一手写字体（保持风格一致） */\n      font-family: \"Ma Shan Zheng\", \"Pacifico\", cursive !important;\n      font-size: 36px !important;\n      font-weight: normal !important;\n      line-height: 1.3 !important;\n    \n      /* 红色到紫色渐变（主色调调整） */\n      background: linear-gradient(135deg, #ff6b6b, #4ecdc4, #8e44ad, #f39c12) !important;\n      background-size: 70% 70% !important; /* 适配渐变流动动画 */\n      -webkit-background-clip: text !important;\n      background-clip: text !important;\n      color: transparent !important; /* 核心：文字透明显示渐变 */\n    \n      /* 阴影增强层次感 */\n      text-shadow: 0 2px 5px rgba(0,0,0,0.15) !important;\n    \n      /* 渐变流动动画 */\n      animation: gradientShift 7s ease infinite !important;\n      display: inline-block !important;\n    }\n    \n    /* 动画关键帧 */\n    @keyframes gradientShift {\n      0% { background-position: 0% 50%; }\n      50% { background-position: 100% 50%; }\n      100% { background-position: 0% 50%; }\n    }\n    \n    /* 悬停强化效果 */\n    div.main:hover {\n      text-shadow: 0 3px 8px rgba(0,0,0,0.2) !important;\n      transform: scale(1.05) !important;\n      transition: all 0.3s ease !important;\n    }\n    ```\n\n  - 然后在根目录配置文件增加以下内容，将中英文手写字体和art-title.CSS引入head标签内。\n\n``` yaml 根目录配置文件\ninject:\n  head:\n  \t- <link rel=\"stylesheet\" href=\"/art-title.css\">  # 自定义艺术字样式引入\n    - <link rel=\"stylesheet\" href=\"https://fonts.loli.net/css2?family=Ma+Shan+Zheng&family=Pacifico&display=swap\"> #引入Pacifico字体 中英文手写\n```\n\n\n\n#### 9.4 网页小图标\n\n- 让豆包生成一个logo图标，修改为成128x128px，像素小加载快。\n\n  ![创建极简线条风标识](https://u.sam7.top/6QcmtF)\n\n- 然后在根目录配置文件增加以下内容，将Favicon图标引入head标签内。\n\n  ```yaml 根目录配置文件\n  inject:\n    head:\n    \t- <link rel=\"icon\" href=\"https://u.sam7.top/6QcmtF\" type=\"image/avif\">  # Favicon图标引入\n  ```\n\n- 效果展示\n\n  <img src=\"https://u.sam7.top/XrwW8K\" alt=\"效果展示\" style=\"zoom:200%;\" />\n\n### 10. 顶部导航栏显示异常\n\n浏览器设置浅色模式，主题切换为深色，顶部导航栏字体看起来比较奇怪，navbra.styl修改，`.navbar-blur`取消模糊效果。\n\n![image-20251018130314321](https://u.sam7.top/pGMf3Y)\n\n```stylus navbar.styl\n// 顶栏容器样式（替代newblur()的背景）\n.navbar-blur \n  margin: 0 1rem\n  border-radius: 64px\n  position: relative\n  // 新增背景样式：使用主题卡片色+轻微透明度，不依赖模糊\n  background: var(--card, rgba(255, 255, 255, 0.9))  // 主背景（优先用主题变量）\n  border: var(--card-border, 1px solid rgba(0, 0, 0, 0.05))  // 边框（可选，增强轮廓）\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05)  // 轻微阴影，区分层级\n  // 如需半透明效果可调整alpha值，如：background: rgba(255, 255, 255, 0.85)\n```\n\n### 11. 页面布局调整\n\n- 在主题样式`custom.styl`中添加`$leftbar-bottom-margin = 20px）`,调整主内容界面宽度为1080px，侧边栏宽度最大为277px，元素内部和外部距离都调整为15px。\n\n```stylus custom.styl\n$leftbar-bottom-margin = 20px  // 左侧栏底部距离（根据需求调整，单位px/rem）\n\n// 可以动态变化的属性\n:root\n  --width-main: 1080px // 主内容区域宽度（默认1080px）\n  --fsp: $fs-body // 段落字体大小（关联正文基础大小）\n  --fsh2: 'calc(%s + 11px)' % var(--fsp) // h2标题大小（基于段落字体动态计算）\n  --fsh3: 'calc(%s + 7px)' % var(--fsp) // h3标题大小（基于段落字体动态计算）\n  --fsh4: 'calc(%s + 4px)' % var(--fsp) // h4标题大小（基于段落字体动态计算）\n  \n  --side-content-width: 255px // 侧边栏内容宽度（默认255px）\n  --gap-margin: 11px // 元素外部间距（元素间距离）\n  --gap-padding: 11px // 元素内部间距（内容到边框距离）\n```\n\n- 同时还需要在layout.styl中添加如下内容，高度随内容自适应，且底部有适度留白，兼顾功能和美观。\n\n```stylus layout.styl\n// 普通屏幕布局\n.l_body .l_left\n  margin-bottom: 16px; // 只保留少量底部留白（数值按需调整）\n\n// 手机端布局\n@media screen and (max-width: $device-mobile-max)\n  .l_body\n    .l_left\n      padding-bottom: 8px; // 少量底部内边距（按需调整）\n```\n\n- 调整后页面整体效果如下\n\n<img src=\"https://u.sam7.top/ZdpH23\" alt=\"image-20251018132921523\" style=\"zoom: 67%;\" />\n\n### 12. 添加音乐播放器\n\n参考 [stellar主题使用meetingjs接入aplayer音乐播放器 - BoBoBlog](https://blog.bxzdyg.cn/p/stellar-aplayer-metingjs/)\n\n首先需要安装音乐播放器插件`npm install --save hexo-tag-aplayer`,在根目录主题配置文件里面添加以下内容，开启metingjs。\n\n```yaml _config.yaml\naplayer:\n  # 示例配置\n  cdn: https://cdn.jsdelivr.net/npm/aplayer@latest/dist/APlayer.min.js\n  style_cdn: https://cdn.jsdelivr.net/npm/aplayer@latest/dist/APlayer.min.css\n  meting: true\n  meting_cdn: https://cdn.jsdelivr.net/npm/meting@1/dist/Meting.min.js\n```\n\n在想要添加音乐播放器的位置添加以下代码块，这是一个md格式的网易云歌单，有时候会和toc有冲突，无法实现跳转。\n\n```markdown\n{% meting \"14222331844\" \"netease\" \"playlist\" \"autoplay\"  \"mutex:true\" \"listmaxheight:340px\" \"lrctype:0\" \"preload:none\" \"theme:#1cd0fd\" \"storagename:metingjs\"%} \n```\n\n![image-20251018130415394](https://u.sam7.top/MKB4bw)\n\n修改主题样式文件`aplayer.styl`，修改播放器参数，播放器颜色跟随系统主题。\n\n{% folding 查看代码 %}\n\n```stylus aplayer.styl\n.md-text\n  .aplayer\n    border-radius: $border-card\n\n/* aplayer-theme.css - 支持手动和系统主题切换的Aplayer样式 */\n\n/* ===== CSS变量定义 ===== */\n\n/* 默认亮色主题变量 */\n:root {\n  --aplayer-bg: #ffffff; /* 播放器主背景色 */\n  --aplayer-toolbar-bg: #f8f9fa; /* 工具栏/控制器背景色 */\n  --aplayer-text: #373737; /* 主要文字颜色 */\n  --aplayer-border: #e9e9e9; /* 边框颜色 */\n  --aplayer-hover-bg: #efefef; /* 鼠标悬停背景色 */\n  --aplayer-hover-text: #ff5722; /* 鼠标悬停文字颜色 */\n  --aplayer-active-bg: #e9ecef; /* 当前选中项背景色（比普通背景更深） */\n  --aplayer-active-text: #2c2c2c; /* 当前选中项文字颜色（亮色主题下保持深色） */\n  --aplayer-list-item-height: 32px; /* 列表项高度 */\n  --aplayer-list-item-padding: 0 15px; /* 列表项内边距 */\n  --aplayer-list-item-font-size: 12px; /* 列表项字体大小 */\n  --aplayer-list-light-font-size: small; /* 当前选中项字体大小 */\n  --aplayer-list-light-font-weight: bold; /* 当前选中项字体粗细 */\n  --aplayer-hover-font-size: small; /* 悬停时字体大小 */\n  --aplayer-hover-font-weight: bold; /* 悬停时字体粗细 */\n}\n\n/* 暗色主题变量 - 通过[data-theme=\"dark\"]属性应用 */\n[data-theme=\"dark\"] {\n  --aplayer-bg: #1e1e1e; /* 播放器主背景色 */\n  --aplayer-toolbar-bg: #1e1e1e; /* 工具栏/控制器背景色 */\n  --aplayer-text: #ffffffff; /* 主要文字颜色 */\n  --aplayer-border: #383d42; /* 边框颜色 */\n  --aplayer-hover-bg: #3d3d3d; /* 鼠标悬停背景色 */\n  --aplayer-hover-text: #ff5722; /* 鼠标悬停文字颜色 */\n  --aplayer-active-bg: #4a4a4a; /* 当前选中项背景色（比普通背景更深） */\n  --aplayer-active-text: #01686dff; /* 当前选中项文字颜色（暗色主题下使用更亮的白色，提高对比度） */\n}\n\n/* 系统主题检测作为备用方案 - 当没有手动设置主题时生效 */\n@media (prefers-color-scheme: dark) {\n  :root:not([data-theme]) { /* 选择没有设置data-theme属性的根元素 */\n    --aplayer-bg: #1e1e1e; /* 播放器主背景色 */\n    --aplayer-toolbar-bg: #1e1e1e; /* 工具栏/控制器背景色 */\n    --aplayer-text: #ffffffff; /* 主要文字颜色 */\n    --aplayer-border: #383d42; /* 边框颜色 */\n    --aplayer-hover-bg: #3d3d3d; /* 鼠标悬停背景色 */\n    --aplayer-hover-text: #ff5722; /* 鼠标悬停文字颜色 */\n    --aplayer-active-bg: #4a4a4a; /* 当前选中项背景色（比普通背景更深） */\n    --aplayer-active-text: #01686dff; /* 当前选中项文字颜色（暗色主题下使用更亮的白色，提高对比度） */\n  }\n}\n\n/* ===== Aplayer整体样式 ===== */\n\n.aplayer {\n  background: var(--aplayer-bg); /* 背景色使用CSS变量 */\n  color: var(--aplayer-text); /* 文字颜色使用CSS变量 */\n  font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen, Ubuntu, Cantarell, \"Open Sans\", \"Helvetica Neue\", sans-serif; /* 字体族设置 */\n  border-radius: 6px; /* 圆角边框 */\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1); /* 阴影效果 */\n  transition: all 0.3s ease; /* 过渡动画效果 */\n}\n\n/* ===== 工具栏/控制器区域样式 ===== */\n\n.aplayer .aplayer-info,\n.aplayer .aplayer-controller,\n.aplayer .aplayer-body {\n  background: var(--aplayer-toolbar-bg); /* 使用工具栏专用背景色 */\n  transition: background-color 0.3s ease; /* 背景色过渡效果 */\n}\n\n.aplayer .aplayer-info {\n  border-bottom: 1px solid var(--aplayer-border); /* 底部边框 */\n  padding: 12px 15px; /* 内边距 */\n}\n\n.aplayer .aplayer-info .aplayer-music {\n  color: var(--aplayer-text); /* 文字颜色 */\n}\n\n.aplayer .aplayer-info .aplayer-music .aplayer-title {\n  color: var(--aplayer-active-text); /* 使用更突出的颜色 */\n  font-weight: bold; /* 字体加粗 */\n}\n\n.aplayer .aplayer-controller {\n  border-top: 1px solid var(--aplayer-border); /* 顶部边框 */\n  padding: 8px 15px; /* 内边距 */\n}\n\n/* ===== 进度条样式 ===== */\n\n.aplayer .aplayer-bar {\n  background: var(--aplayer-border); /* 轨道背景色 */\n}\n\n.aplayer .aplayer-loaded {\n  background: var(--aplayer-hover-bg); /* 已加载部分背景色 */\n}\n\n.aplayer .aplayer-played {\n  background: var(--aplayer-hover-text); /* 已播放部分背景色 */\n}\n\n.aplayer .aplayer-thumb {\n  background: var(--aplayer-hover-text); /* 拖拽点背景色 */\n  box-shadow: 0 0 5px rgba(0, 0, 0, 0.2); /* 拖拽点阴影 */\n}\n\n/* ===== 时间显示样式 ===== */\n\n.aplayer .aplayer-time {\n  color: var(--aplayer-text); /* 时间文字颜色 */\n}\n\n/* ===== 音量控制样式 ===== */\n\n.aplayer .aplayer-volume-wrap .aplayer-volume-bar {\n  background: var(--aplayer-border); /* 音量轨道背景色 */\n}\n\n.aplayer .aplayer-volume-wrap .aplayer-volume {\n  background: var(--aplayer-hover-text); /* 音量滑块背景色 */\n}\n\n/* ===== 播放列表样式 ===== */\n\n.aplayer .aplayer-list {\n  border-top: 1px solid var(--aplayer-border); /* 顶部边框 */\n  max-height: 300px; /* 最大高度限制 */\n  overflow-y: auto; /* 垂直方向溢出时显示滚动条 */\n  background: var(--aplayer-bg); /* 列表背景色 */\n}\n\n.aplayer .aplayer-list ol li {\n  position: relative; /* 相对定位 */\n  height: var(--aplayer-list-item-height); /* 固定高度 */\n  line-height: var(--aplayer-list-item-height); /* 行高等于高度，实现垂直居中 */\n  padding: var(--aplayer-list-item-padding); /* 内边距 */\n  font-size: var(--aplayer-list-item-font-size); /* 字体大小 */\n  border-top: 1px solid var(--aplayer-border); /* 顶部边框 */\n  cursor: pointer; /* 鼠标指针样式 */\n  transition: all 0.2s ease; /* 过渡动画效果 */\n  overflow: hidden; /* 隐藏溢出内容 */\n  margin: 0; /* 外边距归零 */\n  color: var(--aplayer-text); /* 文字颜色 */\n  background-color: var(--aplayer-bg); /* 背景色 */\n}\n\n.aplayer .aplayer-list ol li:first-child {\n  border-top: none; /* 无边框 */\n}\n\n.aplayer .aplayer-list ol li.aplayer-list-light {\n  background: var(--aplayer-active-bg); /* 使用更深的背景色突出显示 */\n  color: var(--aplayer-active-text); /* 文字颜色使用更亮的白色，提高对比度 */\n  font-size: var(--aplayer-list-light-font-size); /* 字体大小 */\n  font-weight: var(--aplayer-list-light-font-weight); /* 字体粗细 */\n  position: relative; /* 相对定位 */\n}\n\n.aplayer .aplayer-list ol li.aplayer-list-light::before {\n  content: ''; /* 伪元素内容为空 */\n  position: absolute; /* 绝对定位 */\n  left: 0; /* 左侧对齐 */\n  top: 0; /* 顶部对齐 */\n  height: 100%; /* 高度100% */\n  width: 3px; /* 宽度3像素 */\n  background: var(--aplayer-hover-text); /* 指示条颜色 */\n}\n\n.aplayer .aplayer-list ol li:hover {\n  background: var(--aplayer-hover-bg); /* 悬停背景色 */\n  color: var(--aplayer-hover-text); /* 悬停文字颜色 */\n  font-size: var(--aplayer-hover-font-size); /* 悬停时字体大小 */\n  font-weight: var(--aplayer-hover-font-weight); /* 悬停时字体粗细 */\n}\n\n/* ===== 滚动条样式 ===== */\n\n.aplayer .aplayer-list::-webkit-scrollbar {\n  width: 6px; /* 滚动条宽度 */\n}\n\n.aplayer .aplayer-list::-webkit-scrollbar-track {\n  background: var(--aplayer-bg); /* 轨道背景色 */\n}\n\n.aplayer .aplayer-list::-webkit-scrollbar-thumb {\n  background: var(--aplayer-border); /* 滑块背景色 */\n  border-radius: 3px; /* 滑块圆角 */\n}\n\n.aplayer .aplayer-list::-webkit-scrollbar-thumb:hover {\n  background: var(--aplayer-hover-text); /* 悬停时滑块背景色 */\n}\n\n/* ===== 播放按钮样式 ===== */\n\n.aplayer .aplayer-play {\n  width: 22px; /* 宽度 */\n  height: 22px; /* 高度 */\n  border: 1px solid var(--aplayer-border); /* 边框 */\n  border-radius: 50%; /* 圆形边框 */\n  display: flex; /* 弹性布局 */\n  align-items: center; /* 垂直居中 */\n  justify-content: center; /* 水平居中 */\n  transition: all 0.2s ease; /* 过渡动画 */\n}\n\n.aplayer .aplayer-play:hover {\n  border-color: var(--aplayer-hover-text); /* 悬停时边框颜色 */\n  background: var(--aplayer-hover-bg); /* 悬停时背景色 */\n}\n\n/* ===== 歌词面板样式 ===== */\n\n.aplayer .aplayer-lrc {\n  background: var(--aplayer-toolbar-bg); /* 背景色 */\n  border-top: 1px solid var(--aplayer-border); /* 顶部边框 */\n}\n\n.aplayer .aplayer-lrc .aplayer-lrc-current {\n  color: var(--aplayer-active-text); /* 当前歌词文字颜色使用更亮的颜色 */\n  font-weight: bold; /* 字体加粗 */\n}\n\n/* ===== 迷你模式样式 ===== */\n\n.aplayer.aplayer-mini .aplayer-body {\n  background: var(--aplayer-toolbar-bg); /* 背景色 */\n}\n\n.aplayer.aplayer-mini .aplayer-info {\n  background: transparent; /* 透明背景 */\n}\n\n.aplayer.aplayer-mini .aplayer-info .aplayer-music .aplayer-title {\n  color: var(--aplayer-active-text); /* 使用更突出的颜色 */\n  font-weight: bold; /* 字体加粗 */\n}\n\n/* ===== 艺术家和专辑信息样式 ===== */\n\n.aplayer .aplayer-info .aplayer-music .aplayer-author {\n  color: var(--aplayer-text); /* 艺术家文字颜色 */\n  opacity: 1; /* 透明度稍低，作为次要信息 */\n}\n\n.aplayer .aplayer-list ol li.aplayer-list-light .aplayer-list-author {\n  color: var(--aplayer-active-text); /* 当前歌曲艺术家信息使用更亮的颜色 */\n  opacity: 1; /* 降低透明度，但仍保持可读性 */\n}\n\n```\n\n{% endfolding %}\n\n### 13. 背景动态设置\n\n#### 13.1 随机线条效果\n\n 主题文件layout.ejs文件中添加以下代码\n\n```ejs layout.ejs\n<script type=\"text/javascript\"color=\"0,0,255\" opacity='0.7' zIndex=\"-2\" count=\"99\" src=\"//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js\"></script>\n```\n\n- `color` ：线条颜色, 默认: `'0,0,0'`；三个数字分别为(R,G,B)\n\n\n- `opacity`: 线条透明度（0~1）, 默认: `0.5`\n- `count`: 线条的总数量, 默认: `150`\n- `zIndex:` 背景的z-index属性，CSS属性用于控制所在层的位置, 默认: `-1`\n\n 终端运行hexo clean 清除缓存，hexo g&hexo s渲染网页后本地预览。\n\n 手机端显示很乱，影响阅览网页，已弃用。\n\n#### 13.2 随机樱花效果\n\n参考以下文章，修改成可以替换任意图像元素效果。\n\n[Hexo添加雪花动态效果背景 | 花猪のBlog](https://cnhuazhu.top/butterfly/2021/02/24/Hexo魔改/Hexo添加雪花动态效果背景/)\n\n[Hexo添加樱花动态效果背景 | 花猪のBlog](https://cnhuazhu.top/butterfly/2021/02/19/Hexo魔改/Hexo添加樱花动态效果背景/)\n\nbase64图片太长了，占用空间大，提取base64编码转换成图片，上传图床。\n\n![result](https://u.sam7.top/2NkzEk)\n\n新建sakura.js文件\n\n{% folding 代码折叠 %}\n\n```js sakura.js\nclass Sakura {\n    constructor(x, y, s, r, fn, image) {\n        this.x = x;\n        this.y = y;\n        this.s = s;\n        this.r = r;\n        this.fn = fn;\n        this.image = image;\n    }\n\n    draw(cxt) {\n        cxt.save();\n        cxt.translate(this.x, this.y);\n        cxt.rotate(this.r);\n        const size = 40 * this.s;\n        cxt.drawImage(this.image, -size/2, -size/2, size, size);\n        cxt.restore();\n    }\n\n    update() {\n        this.x = this.fn.x(this.x, this.y);\n        this.y = this.fn.y(this.y, this.x);\n        this.r = this.fn.r(this.r);\n        \n        if (this.x > window.innerWidth || this.x < 0 || this.y > window.innerHeight || this.y < 0) {\n            this.reset();\n        }\n    }\n\n    reset() {\n        this.r = getRandom('fnr')();\n        if (Math.random() > 0.4) {\n            this.x = getRandom('x');\n            this.y = 0;\n        } else {\n            this.x = window.innerWidth;\n            this.y = getRandom('y');\n        }\n        this.s = getRandom('s');\n        this.r = getRandom('r');\n    }\n}\n\nlet stop = null;\n\n// 检测是否为移动设备\nfunction isMobileDevice() {\n    return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) || \n           window.innerWidth <= 768;\n}\n\nfunction getRandom(option) {\n    switch (option) {\n        case 'x': return Math.random() * window.innerWidth;\n        case 'y': return Math.random() * window.innerHeight;\n        case 's': return Math.random() * 0.5 + 0.3;\n        case 'r': return Math.random() * Math.PI * 2;\n        case 'fnx': return (x, y) => x + (Math.random() - 0.5) * 2 - 1;\n        case 'fny': return (y, x) => y + 1.5 + Math.random();\n        case 'fnr': return (r) => r + Math.random() * 0.03;\n        default: return 0;\n    }\n}\n\nfunction startSakura(image) {\n    if (stop) {\n        cancelAnimationFrame(stop);\n        const canvas = document.getElementById('canvas_sakura');\n        if (canvas) canvas.remove();\n    }\n\n    const canvas = document.createElement('canvas');\n    const cxt = canvas.getContext('2d');\n    const sakuras = [];\n    \n    // 移动端优化\n    const isMobile = isMobileDevice();\n    const sakuraCount = isMobile ? 15 : 25; // 移动端减少樱花数量\n    \n    canvas.height = window.innerHeight;\n    canvas.width = window.innerWidth;\n    canvas.style.cssText = 'position:fixed;left:0;top:0;pointer-events:none;z-index:9999;';\n    canvas.id = 'canvas_sakura';\n    document.body.appendChild(canvas);\n\n    // 创建樱花实例\n    for (let i = 0; i < sakuraCount; i++) {\n        sakuras.push(new Sakura(\n            getRandom('x'),\n            getRandom('y'),\n            getRandom('s'),\n            getRandom('r'),\n            {\n                x: getRandom('fnx'),\n                y: getRandom('fny'),\n                r: getRandom('fnr')\n            },\n            image\n        ));\n    }\n\n    function animate() {\n        cxt.clearRect(0, 0, canvas.width, canvas.height);\n        sakuras.forEach(sakura => {\n            sakura.update();\n            sakura.draw(cxt);\n        });\n        stop = requestAnimationFrame(animate);\n    }\n\n    stop = requestAnimationFrame(animate);\n}\n\nfunction toggleSakura(imageUrl) {\n    if (stop) {\n        cancelAnimationFrame(stop);\n        stop = null;\n        const canvas = document.getElementById('canvas_sakura');\n        if (canvas) canvas.remove();\n        return false; // 返回false表示已停止\n    } else {\n        // 移动端检测 - 如果性能可能有问题，可以在这里禁用\n        if (isMobileDevice()) {\n            const enableOnMobile = confirm(\"在移动设备上运行樱花特效可能会影响性能。是否继续？\");\n            if (!enableOnMobile) return false;\n        }\n        \n        // 加载图片并启动\n        const img = new Image();\n        img.onload = function() {\n            startSakura(img);\n        };\n        img.src = imageUrl;\n        return true; // 返回true表示已启动\n    }\n}\n\n// 窗口调整大小时重置canvas\nwindow.addEventListener('resize', () => {\n    const canvas = document.getElementById('canvas_sakura');\n    if (canvas) {\n        canvas.width = window.innerWidth;\n        canvas.height = window.innerHeight;\n    }\n});\n\n// 页面卸载时清理资源\nwindow.addEventListener('beforeunload', () => {\n    if (stop) {\n        cancelAnimationFrame(stop);\n    }\n});\n\n// 在这里添加你的图片路径并启动特效\n// 将下面的 'your-sakura-image-url.jpg' 替换为你的樱花图片URL\ntoggleSakura('https://u.sam7.top/2NkzEk');\n\n// 导出函数供外部调用\nwindow.toggleSakura = toggleSakura;\nwindow.isMobileDevice = isMobileDevice;\n\n\n```\n\n{% endfolding %}\n\n### 14. 文章路由\n\n参考博主[BoBoBlog](https://blog.bxzdyg.cn/)文章\n\n[使用Hexo和Stellar搭建个人博客网站【超详细贴心保姆级教程💖】 - BoBoBlog](https://blog.bxzdyg.cn/p/使用Hexo和Stellar搭建个人博客网站/#文章路由（选）)\n\n能够解决中文网页标题转义的现象，并且创建文章自动添加abbrlink\n\n```bash\nnpm install hexo-abbrlink --save\n```\n\n在 `blog/_config.yml` 中找到对应 `permalink` 标签，进行修改即可：\n\n```yaml _config.yaml\nurl: sam7.top\npermalink: :year:month/:title/ #:year/:month/:day/:title/\nabbrlink:\n  alg: crc16  #算法： crc16(default) and crc32\n  rep: dec    #进制： dec(default) and hex\npermalink_defaults:\n```\n\n使用了这个每使用命令新建一篇文章会在头代码上插入abbrlink:及对应的转码后的代码,\n\n这使得他会自动去匹配每个md文件的头代码中的abbrlink\n\n不同算法、进制生成的链接格式如下：\n\n| 算法  | 进制 | 生成链接示例                                 |\n| ----- | ---- | -------------------------------------------- |\n| crc16 | hex  | <https://yourname.github.io/p/66c8.html>       |\n| crc16 | dec  | <https://yourname.github.io/p/65535.html>      |\n| crc32 | hex  | <https://yourname.github.io/p/8ddf18fb.html>   |\n| crc32 | dec  | <https://yourname.github.io/p/1690090958.html> |\n\n### 15. 主题深浅色切换\n\n参考博主[BoBoBlog](https://blog.bxzdyg.cn/)，主题颜色设置为自动。\n\n```yaml 主题配置文件\nstyle:\n  prefers_theme: auto # auto / light / dark\n  smooth_scroll: true # true / false 开启时如果目录过长可能无法准确定位\n```\n\n#### 15.1 功能实现\n\n首先在 主题配置文件中`footer.social`处增加“主题切换”按钮配置，图标为半圆，点击可用于一键切换深浅色。\n\n```yaml 主题配置文件\nfooter: \n  social:\n    theme:\n      icon: '<i class=\"fa-solid fa-circle-half-stroke fa-fade\" style=\"color: #F9D923;\"></i>'\n      title: '主题切换'\n      url: 'javascript:void(0);'\n```\n\n下一步需要在前端JS中实现主题切换功能，并为页脚“主题切换”按钮绑定点击事件。\n\n在main.js末尾增加如下代码，实现以下功能，默认跟随系统颜色变化，单击按钮切换主题深浅色。\n\n{% folding 查看代码 %}\n\n```js main.js\n// 主题切换按钮逻辑\nfunction setTheme(theme) {\n  document.documentElement.setAttribute('data-theme', theme);\n  localStorage.setItem('theme', theme);\n}\nfunction toggleTheme() {\n  const current = document.documentElement.getAttribute('data-theme');\n  setTheme(current === 'dark' ? 'light' : 'dark');\n}\n// 自动读取本地存储\n(function() {\n  const saved = localStorage.getItem('theme');\n  if (saved) setTheme(saved);\n})();\n// 跟随系统颜色变化\n(function() {\n  // 优先本地存储\n  const saved = localStorage.getItem('theme');\n  if (saved) {\n    setTheme(saved);\n  } else {\n    // 跟随系统\n    const mq = window.matchMedia('(prefers-color-scheme: dark)');\n    setTheme(mq.matches ? 'dark' : 'light');\n    mq.addEventListener('change', function(e) {\n      // 仅当未手动切换时才跟随系统\n      if (!localStorage.getItem('theme')) {\n        setTheme(e.matches ? 'dark' : 'light');\n      }\n    });\n  }\n})();\n// 绑定页脚按钮点击事件\nwindow.addEventListener('DOMContentLoaded', function () {\n  // 支持多种渲染方式，自动识别按钮\n  const themeBtns = document.querySelectorAll('.fa-circle-half-stroke');\n  themeBtns.forEach(function(btn) {\n    btn.addEventListener('click', function (e) {\n      e.preventDefault();\n      toggleTheme();\n    });\n  });\n});\n```\n\n{% endfolding %}\n\n#### 15.2 主题颜色调整\n\n深浅色主题、侧边栏、卡片、代码块颜色调整，将`theme_base.styl`主题基本颜色修改成如下内容。\n\n{% folding 查看代码 %}\n\n```stylus theme_base.styl\n// 通用 hsla 函数\nx-hsla(h = var(--hue), s = var(--sat), l = var(--light), a = var(--alpha))\n  return unquote('hsla(%s %s %s / %s)' % (h s l a))\n\n// 设置不同透明度的主题色\nx-theme-alpha(a = 1)\n  return unquote('hsla(%s %s %s / %s)' % (var(--hue) var(--sat) var(--light) a))\n\n// 设置基础主题色\nx-set-theme-with-color($color)\n  --hue: hue($color)\n  --sat: saturation($color)\n  --light: lightness($color)\n  --alpha: alpha($color)\n  --theme: x-theme-alpha(1)\n  --theme-a10: x-theme-alpha(0.1)\n  --theme-a20: x-theme-alpha(0.2)\n  --theme-a30: x-theme-alpha(0.3)\n\n// 设置链接颜色\nx-set-link-with-color($color)\n  $hue = hue($color)\n  $sat = saturation($color)\n  $light = lightness($color)\n  --link: x-hsla($hue, $sat, $light, 1)\n  --link-a20: x-hsla($hue, $sat, $light, 0.2)\n\n// 设置背景色\nx-set-bg-colors($scheme)\n  $hue = $c-base-hue\n  $sat = 0%\n  $light = $scheme == 'dark' ? 0% : 100%\n  --bg-a20: x-hsla($hue, $sat, $light, 0.2)\n  --bg-a50: x-hsla($hue, $sat, $light, 0.5)\n  --bg-a60: x-hsla($hue, $sat, $light, 0.6)\n  --bg-a75: x-hsla($hue, $sat, $light, 0.75)\n  --bg-a100: x-hsla($hue, $sat, $light, 1)\n\n// 设置文本及相关色\nx-set-text-colors($scheme, $p0 = 1, $p1 = 0.8, $p2 = 0.7, $p3 = 0.5, $p4 = 0.4)\n  $hue = $c-base-hue\n  $sat = 0%\n  $light = $scheme == 'dark' ? 100% : 0%\n  \n  --text: x-hsla($hue, $sat, $light, $p0)\n  --text-reverse: x-hsla($hue, $sat, $scheme == 'dark' ? 0% : 100%, $p0)\n  --text-p1: x-hsla($hue, $sat, $light, $p1)\n  --text-p2: x-hsla($hue, $sat, $light, $p2)\n  --text-p3: x-hsla($hue, $sat, $light, $p3)\n  --text-p4: x-hsla($hue, $sat, $light, $p4)\n\n  --text-meta: x-hsla($hue, $sat, $light, 0.2)\n  --text-code: x-hsla($hue, $sat, $light, 0.9)\n\n  --text-a10: x-hsla($hue, $sat, $light, 0.1)\n  --text-a20: x-hsla($hue, $sat, $light, 0.2)\n\n  $sat = $scheme == 'dark' ? 24% : 50%\n  $light = $scheme == 'dark' ? 72% : 12%\n  $alpha = $scheme == 'dark' ? 0.08 : 0.04\n  --block: x-hsla($hue, $sat, $light, $alpha)\n  --block-border: x-hsla($hue, $sat, $light, $alpha * 1.5)\n\n// 设置图片滤镜 - 深色模式图片背景为#31383A，对比度更低\nx-set-image-filters($scheme)\n  if $scheme == 'dark'\n    --image-filter: invert(1) hue-rotate(180deg)\n    --image-brightness: 0.65  // 降低亮度，使背景接近#31383A\n    --image-contrast: 0.85    // 进一步降低对比度\n    --image-saturate: 0.9     // 稍微降低饱和度\n    --image-filter-value: invert(1) hue-rotate(180deg) brightness(0.65) contrast(0.85) saturate(0.9)\n  else\n    --image-filter: none\n    --image-brightness: 1\n    --image-contrast: 1\n    --image-saturate: 1\n    --image-filter-value: none\n\n// ---------------- apply theme ----------------\n// 设置浅色模式\ndynamic-theme-light()\n  $hue = $c-base-hue\n  --background: x-hsla($hue, 20%, 98%, 1)\n  --card: $site-background-image ? hsla(white, 0.5) : white\n\n  x-set-bg-colors('light')\n  x-set-text-colors('light')\n  x-set-image-filters('light')\n\n// 设置深色模式\ndynamic-theme-dark()\n  $hue = $c-base-hue\n  --background: x-hsla($hue, 8%, 12%, 1)\n  @media screen and (max-width: $device-mobile-max)\n    --background: black\n  --card: $site-background-image ? hsla(white, 0.25) : x-hsla($hue, 10%, 24%, 1)\n\n  x-set-bg-colors('dark')\n  x-set-text-colors('dark')\n  x-set-image-filters('dark')\n  --text-code: x-hsla(20, 75, 60, 1)\n\n:root\n  // 主题色\n  x-set-theme-with-color($c-theme)\n  // 强调色\n  --accent: $c-accent\n  // 链接\n  x-set-link-with-color($c-link)\n\n  // dynamic colors\n  dynamic-theme-light()\n  @media (prefers-color-scheme: dark)\n    dynamic-theme-dark()\n\n:root[data-theme=\"light\"]\n  dynamic-theme-light()\n\n:root[data-theme=\"dark\"]\n  dynamic-theme-dark()\n\n// ========== 图片主题变化解决方案 ==========\n\n// 深色模式下的图片滤镜应用 - 背景为#31383A，对比度更低，保护左侧栏\n:root[data-theme=\"dark\"]\n  // 应用滤镜到内容区域的图片\n  .post-content img,\n  .article-content img,\n  .entry-content img,\n  .markdown-body img,\n  .content img,\n  .post-body img,\n  [class*=\"content\"] img:not(.no-theme):not(.emoji)\n    filter: invert(1) hue-rotate(180deg) brightness(0.65) contrast(0.85) saturate(0.9)\n    transition: filter 0.3s ease\n  \n  // 保护左侧栏和其他UI元素\n  .sidebar img,\n  .widget img,\n  .navbar img,\n  .header img,\n  .footer img,\n  .avatar,\n  .logo,\n  .site-brand img,\n  .site-logo img,\n  .author-avatar img,\n  .no-theme\n    filter: none !important\n\n  // 对于需要更浅背景的图片\n  img[data-light-bg],\n  .light-bg-img\n    filter: invert(1) hue-rotate(180deg) brightness(0.8) contrast(0.9) saturate(0.95) !important\n  \n  // 对于需要保持较深背景的图片\n  img[data-dark-bg],\n  .dark-bg-img\n    filter: invert(1) hue-rotate(180deg) brightness(0.5) contrast(0.8) saturate(0.85) !important\n\n// 表情图片不随主题变化\n.emoji,\n.emoticon,\n[class*=\"emoji\"],\n[class*=\"emoticon\"],\nimg[src*=\"emoji\"],\nimg[src*=\"emoticon\"],\nimg[data-emoji]\n  filter: none !important\n\n// 方法2: 使用CSS变量（如果浏览器支持）\nimg.theme-aware:not(.emoji)\n  filter: var(--image-filter-value)\n  transition: filter 0.3s ease\n\n// 方法3: 为特定类型的图片添加主题支持\n.themed-image:not(.emoji)\n  :root[data-theme=\"dark\"] &\n    filter: invert(1) hue-rotate(180deg) brightness(0.65) contrast(0.85) saturate(0.9)\n    transition: filter 0.3s ease\n  \n  :root[data-theme=\"light\"] &\n    filter: none\n    transition: filter 0.3s ease\n\n// 确保左侧栏图片不受影响\n.sidebar,\n.widget,\n.navbar,\n.header,\n.footer\n  img\n    filter: none !important\n\n// 额外选项：如果需要完全禁用某些图片的主题变化\n.no-theme,\n[data-no-theme]\n  filter: none !important\n\n```\n\n{% endfolding %}\n\n主题配置文件中修改如下\n\n```yaml 主题配置文件\n  leftbar:\n    # 可以设置：纯色/渐变色/图片作为背景\n    background-color:  var(--block) #var(--card) var(--block)\n    background-image: #url(https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.13/image/sidebar-bg1@small.jpg)\n    blur-px: 11px\n    blur-bg: var(--bg-a33)\n    background-opacity: 1\n  paginator:\n    prev: https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.12/arrow/f049bbd4e88ec.svg\n    next: https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.12/arrow/064b95430caf4.svg\n  error_page: https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.12/404/1c830bfcd517d.svg\n  site: # 使用 background-image 后，blur 设置才有效\n    background-color:  var(--background) #var(--bg-a11) var(--background)\n    background-image:  #url(https://t.alcy.cc/fj)\n    blur-px: 14px # 增加模糊度使背景不突兀\n    blur-bg:  var(--bg-a55)\n    blur-sat: 100% # 适当降低饱和度使背景不抢眼\n```\n\n#### 15.3  其他\n\nwaline评论和aplayer播放器都有适配，由于篇幅问题，对应章节都有描述。\n\n### 16. AI摘要\n\nstellar集成tianti GPT，付费的，[洪墨AI](https://ai.zhheo.com/)这里购买添加key就好了，绑定网页。\n\n```yaml\n# AI 摘要\n  # https://github.com/qxchuckle/Post-Summary-AI\n  tianli_gpt: \n    enable: true\n    js: https://jsd.onmicrosoft.cn/gh/qxchuckle/Post-Summary-AI@6.0/chuckle-post-ai.min.js\n    field: all # all, post, wiki\n    key: S-JAVXPRUNPV8LWXO4 # tianli_gpt key\n```\n\n### 17. 字体设置\n\n[中文网字计划-提供便捷实用的全字符集中文渲染方案](https://chinese-font.netlify.app/zh-cn/)\n\n[Maple Mono NF-CN - ZeoSeven Fonts (ZSFT)](https://fonts.zeoseven.com/items/442/#embed)\n\n根目录配置文件中，最后一行加入以下指令：\n\n```yaml 根目录配置文件\ninject:\n  head:\n    - <link rel=\"stylesheet\" href=\"https://cdn.staticfile.org/lxgw-wenkai-screen-webfont/1.6.0/lxgwwenkaiscreen.css\"> #字体引入\n    - |\n      <link rel=\"preload\" as=\"style\" crossorigin href=\"https://fontsapi.zeoseven.com/442/main/result.css\" onload=\"this.rel='stylesheet'\" onerror=\"this.href='https://fontsapi-storage.zeoseven.com/442/main/result.css'\" />\n      <noscript>\n        <link rel=\"stylesheet\" href=\"https://fontsapi.zeoseven.com/442/main/result.css\" />\n      </noscript> \n```\n\n在主题配置文件中找到 style.font-family，修改以下内容：\n\n```yaml 主题配置文件\nstyle:\n  prefers_theme: auto # auto / light / dark\n  smooth_scroll: true # true / false 开启时如果目录过长可能无法准确定位\n  font-size:\n    root: 16px # 改这个会影响全局所有文字的字号\n    body: 16px # 影响正文区域的字号，如果改成 px 则不受 root 影响\n    code: 75% # 相较于其所在行的文本大小，建议用百分比\n    codeblock: 0.8125rem # 13px\n  font-family:\n    body: '\"LXGW WenKai Screen\",system-ui, \"Microsoft Yahei\", \"Segoe UI\", Arial, sans-serif'\n    code: '\"Maple Mono NF CN\", Menlo, Monaco, Consolas, system-ui, monospace, sans-serif'\n    codeblock: '\"Maple Mono NF CN\", Menlo, Monaco, Consolas, system-ui, monospace, sans-serif'\n  text-align: left\n```\n\n### 18. 域名申请\n\n- 【EU.ORG】免费域名\n\n    [Cloudflare 解析 ORG 域名 - YOLOのBLOG](https://blog.felicx.eu.org/1263441363.html)\n\n    [终身免费 ORG 顶级域名申请 - YOLOのBLOG](https://blog.felicx.eu.org/2502663362.html)\n\n    提交域名申请已经过去一个月了，还没通过审核，石沉大海了。\n\n- [Cloudns]免费二级域名\n\n  [人人有份！免费领取一个永久域名并托管到Cloudflare做双向解析 - 知乎](https://zhuanlan.zhihu.com/p/1908463674936496903)\n\n  Cloudns二级域名Cloudflare和Vercel无法解析，只能在Cloudns使用DNS记录。\n\n  Github可以重定向，域名没有时间限制，但证书只有三个月，不知道会不会续签。\n\n- [DigitalPlat]免费域名\n\n  [DigitalPlat免费二级域名注册和Cloudflare托管教程-CSDN博客](https://blog.csdn.net/loutengyuan/article/details/149096491)\n\n  [使用Cloudflate搭建自己的免费代理节点](https://blog.eimoon.com/p/使用cloudflate搭建自己的免费代理节点/)\n  \n  DigitalPlat最多可以申请两个域名，只有一年使用期限，小于180天可以续期，虽然是二级域名，但可以被cloudflare、vercel托管。\n\n- 购买域名\n\n  国内价格对比了几家都差不太多，阿里云要便宜些，top域名比较便宜第一年8块10年240块，有活动可以更优惠。\n\n### 19. RSS订阅\n\n参考博主[BoBoBlog](https://blog.bxzdyg.cn/)\n\n可用于搜索引擎和友链拉取动态`npm i hexo-generator-feed`安装插件，根目录下配置文件添加如下内容\n\n```yaml _config.yml\nblog/_config.yml\nfeed:\n  type: atom # RSS的类型(atom/rss2)\n  path: atom.xml # 文件路径,默认是atom.xml/rss2.xml\n  limit: 20 # 展示文章的数量,使用0或则false代表展示全部hub\n#  hub:\n#    content:  # 在RSS文件中是否包含内容 ,有3个值 true/false默认不填为false\n#    content_limit: # 指定内容的长度作为摘要,仅仅在上面content设置为false和没有自定义的描述出现\n#    content_limit_delim: ' ' #上面截取描述的分隔符,截取内容是以指定的这个分隔符作为截取结束的标志.在达到规定的内容长度之前最后出现的这个分隔符之前的内容，防止从中间截断\n```\n\n然后在主题配置文件中加入以下内容，添加左侧栏footer小图标：\n\n```yaml _config.stellar.yml\nfooter:\n  social:\n\trss:\n      icon: '<i class=\"fa-solid fa-rss fa-shake\"></i>'\n      url: /atom.xml\n      \nrss: /atom.xml\n```\n\n### 20. 关于、留言板\n\n在博客源文件夹source中，新建`about messages`文件夹，在相应文件夹中新建index.md，或者直接在源文件夹下面新建`about.md`和`messages.md`,markdown内容即为展示内容,使用时直接用`/about /messages`指定路径。\n\n```yaml\n      # 这里配置子菜单，使用 nested 字段\n      nested:\n        - id: archives\n          title: 归档\n          url: /archives\n        - id: categories\n          title: 分类\n          url: /categories\n        - id: tags\n          title: 标签\n          url: /tags\n        - id: messages\n          title: 留言\n          url: /messages\n        - id: rss\n          title: RSS\n          url: /atom.xml\n        - id: friends\n          title: 友链\n          url: /friends\n        - id: about\n          title: 关于\n          url: /about\n```","source":"_posts/blog/hexo&stellar主题配置.md","raw":"---\ntitle: 博客搭建hexo & stellar安装配置\nabbrlink: 51727\ntags:\n  - hexo配置\n  - stellar主题\ncategories: 博客搭建\ndate: 2025-09-20 18:19:42\n---\n\n### 1. 构建工具安装准备\n\n#### 1.1 Node.js环境搭建\n\nhexo基于Node.js构建,需安装Node.js依赖环境，由于ubuntu系统仓库Node.js比较旧，需前往[Node.js](https://nodejs.cn/en/download)官网按指引安装最新稳定版本。\n\n由于本博主使用的是WSL子系统，这里选择Linux系统和nvm安装方式。\n\n首先安装nvm Node.js版本管理器，再使用nvm工具包安装指定版本Node.js，Node.js自带npm软件包管理器，顺便安装yarn JavaScript软件包管理器。\n\n具体操作如下：\n\n```sh\n# Download and install nvm:\ncurl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.40.3/install.sh | bash\n# in lieu of restarting the shell\n\\. \"$HOME/.nvm/nvm.sh\"\n# Download and install Node.js:\nnvm install 24\n# Verify the Node.js version:\nnode -v # Should print \"v24.9.0\".\n# Verify npm version:\nnpm -v # Should print \"11.6.0\".\n```\n\n#### 1.2 NPM简介\n\n**NPM（Node Package Manager）** 是 Node.js 的默认包管理工具，用于管理 JavaScript 项目的依赖库和工具。它允许开发者轻松地安装、更新、共享和发布代码包，同时支持版本控制和脚本运行。\n\n如果需要加速国内访问，可以配置淘宝镜像：\n\n`npm config set registry https://registry.npmmirror.com`\n\n以下是一些常用的 NPM 命令：\n\n```sh\nnpm init # 初始化 package.json 文件\nnpm install # 安装 package.json 中的所有依赖\nnpm install <包名> --save-dev # 安装开发依赖\nnpm uninstall <包名> # 卸载依赖\nnpm update <包名> # 更新依赖\nnpm list --depth=0 # 查看已安装的依赖\nnpm audit # 检查依赖中的安全漏洞\nnpm run <脚本名> # 运行 package.json 中定义的脚本\n```\n\n本地与全局安装\n\n```sh\nnpm install express # 本地安装 将包安装到当前项目的 node_modules 目录，仅对该项目可用。\nnpm install -g @vue/cli # 全局安装 使用 -g 参数将包安装到系统范围内，适用于 CLI 工具。\n```\n\n### 2. HEXO配置\n\n#### 2.1 hexo安装以及初始化\n\n根据[Hexo](https://hexo.io/zh-cn/)官网安装指引，全局安装`npm install -g hexo@8.0.0`\n\n```sh\nhexo init blog #初始化blog目录，目录一定为空。\ncd blog\nnpm install #安装hexo所需依赖\nhexo cl&hexo g&hexo s #清除缓存&渲染网页&启动本地端口服务\nhttp://localhost:4000/ #点击链接可用浏览器本地预览博客\n```\n\n初始化后blog文件夹结构如下.\n\n```sh\n.\n├── _config.yml #hexo配置文件\n├── package.json\n├── scaffolds #模板文件夹\n├── source #资源文件夹，即网页根目录位置\n|   ├── _drafts\n|   └── _posts\n└── themes #主题文件夹\n```\n\n#### 2.2 hexo配置  开始折腾\n\n本站使用[Stellar](https://xaoxuu.com/wiki/stellar/comments/)主题构建，Stellar 是一个内置文档系统的简约商务风 Hexo 主题，支持丰富的标签和动态数据组件，帮助您简单从容地应对各种表达需求，十分推荐内容创作者使用 Stellar 开始您全新的博客之旅。\n\n{% link <https://xaoxuu.com/wiki/stellar> \"stellar主题文档\" desc:true %}\n\n`npm i hexo-theme-stellar`安装稳定版本，安装路径位于`blog/node_modules/`文件夹内。\n\n在 `blog/_config.yml` 文件中找到并修改：\n\n`theme: stellar`\n\n将`blog/node_modules/_config.yml` 拷贝一份至`/blog`目录重命名为`_config.stellar.yml`，该配置文件优先级高于主题目录。\n\n参阅Stellar wiki选择开启需要的功能。\n\n### 3. 网站统计\n\n**网页底部文章统计**参考博主[BoBoBlog](https://blog.bxzdyg.cn/)文章\n\n- 安装插件：npm i hexo-wordcount –save\n\n- 还需要需要在主题文件footer.ejs里将 `{post_count}` 和 `{word_count}` 替换为实际数据。Stellar 主题页脚渲染时，content 是字符串，可以用 JS 替换。\n\n  建议在ayoutDiv 函数里，渲染 markdown 前加如下替换：\n\n  ```ejs footer.ejs\n    // footer\n    el += '<div class=\"text\">'\n    if (content) {\n      const postCount = site.posts.length;\n      const wordCount = typeof totalcount === 'function' ? totalcount(site) : 0;\n      let contentStr = content;\n      contentStr = contentStr.replace('{post_count}', postCount).replace('{word_count}', wordCount);\n      el += markdown(contentStr)\n    }\n  ```\n\n  然后在主题配置文件footer:content:增加如下代码，即可实现显示网站总文章字数统计。\n\n  ```yaml 主题配置文件\n  <span class=\"totalcount\">共发表 {post_count} 篇Blog · </span><span class=\"post-count\">总计 {word_count} 字</span\n  ```\n\n**网页访问统计**由于不蒜子老是挂，现在使用的是Vercount插件，不蒜子的优化版本。[Vercount: 一个比不蒜子更好的网站计数器 | EvanNotFound's Blog](https://ohevan.com/vercount-website-counter-busuanzi-alternative.html)\n\n{% tabs active:1 align:center %}\n\n<!-- tab 显示效果 -->\n\n需要修改主题配置文件，在`footer：→ content：`位置添加如下。内容\n\n![image-20251018141423327](https://u.sam7.top/NYCBsQ)\n\n<!-- tab 修改内容 -->\n\n```yml blog/_config.stellar.yml\n  content: | # 支持 Markdown 格式\n          <center>\n\n          网站由 [{author.name}](/) © 2025使用 [{theme.name}]({theme.tree}) 主题创建\n\n          <span id=\"runtime_span\"></span>\n          <script type=\"text/javascript\">\n          function show_runtime() {\n              window.setTimeout(\"show_runtime()\", 1000);\n              X = new Date(\"2025/09/06 19:00:00\");\n              Y = new Date();\n              T = (Y.getTime() - X.getTime());\n              M = 24 * 60 * 60 * 1000;\n              a = T / M;\n              A = Math.floor(a);\n              b = (a - A) * 24;\n              B = Math.floor(b);\n              c = (b - B) * 60;\n              C = Math.floor((b - B) * 60);\n              D = Math.floor((c - C) * 60);\n              runtime_span.innerHTML = \"网站已运行 \" + A + \"天\" + B + \"小时\" + C + \"分\" + D + \"秒\"\n          }\n          show_runtime();\n          </script>\n          <!--不蒜子计数器 https://ohevan.com/vercount-website-counter-busuanzi-alternative.html-->\n          <script defer src=\"https://vercount.one/js\"></script>\n          <!--添加一个访问量-->\n          总访问<span id=\"busuanzi_value_site_pv\"></span>次 · 总访客<span id=\"busuanzi_value_site_uv\"></span>人 · 本页访问<span id=\"busuanzi_value_page_pv\"></span>次\n          <span class=\"totalcount\">共发表 {post_count} 篇Blog · </span><span class=\"post-count\">总计 {word_count} 字</span>\n          </center>\n          <div style=\"display: flex;justify-content: center;align-items: center;margin: 10px;\">\n            <a target=\"_blank\" rel=\"noopener\" href=\"https://notbyai.fyi/\"><img class=\"lazy entered loaded\" src=\"https://u.sam7.top/miGrfX\" data-src=\"https://u.sam7.top/miGrfX\" alt=\"全部都是博主用心学编写的啊！不是ai啊\" style=\"width:100px;height:35px;margin-right: 10px \" id=\"notbyai\" data-ll-status=\"loaded\"></a>\n            <a target=\"_blank\" rel=\"noopener\" href=\"https://creativecommons.org/licenses/by-nc-sa/4.0/\"><img class=\"lazy entered loaded\" src=\"https://u.sam7.top/2BJDeW\" data-src=\"https://u.sam7.top/2BJDeW\" alt=\"只要保留原作者姓名并在基于原作创作的新作品适用同类型的许可协议，即可基于非商业目的对原作重新编排、改编或者再创作。\" style=\"width:100px;height:35px\" data-ll-status=\"loaded\"></a>\n          </div>\n```\n\n{% endtabs %}\n\n### 4. 评论系统\n\n#### 4.1 waline启用\n\nstellar已集成waline插件，首先主题配置文件选择启用waline，具体配置见以下代码。\n\n然后跟着主页[快速上手 | Waline](https://waline.js.org/guide/get-started/) wiki一步步搭建到vercel。\n\n[SkyReeves](https://skyreeves.github.io/)博主写的很详细，参考[hexo博客引入Waline评论模块 - SkyReeves](https://skyreeves.github.io/post/69ee63d6.html)\n\n{% folding 查看代码 %}\n\n```yaml 主题配置文件\ncomments:\n  service: waline # beaudar, utterances, giscus, twikoo, waline, artalk\n  comment_title: 快来参与讨论吧~\n  lazyload: true # true / false\n  custom_css: waline # artalk,twikoo,... 可以为没有全局启用的评论加载自定义样式\n\n  waline:\n    js: https://unpkg.com/@waline/client@v3/dist/waline.js #https://gcore.jsdelivr.net/npm/@waline/client@3.1/dist/waline.js\n    css: https://unpkg.com/@waline/client@v3/dist/waline.css #https://gcore.jsdelivr.net/npm/@waline/client@3.1/dist/waline.css\n    meta_css: https://unpkg.com/@waline/client@v3/dist/waline-meta.css \t\t        #https://gcore.jsdelivr.net/npm/@waline/client@3.1/dist/waline-meta.css\n    # Waline server address url, you should set this to your own link\n    serverURL: \n    # If false, comment count will only be displayed in post page, not in home page\n    commentCount: true\n    # Pageviews count, Note: You should not enable both `waline.pageview` and `leancloud_visitors`.\n    pageview: false\n    locale:\n      # #自定义反应标题。如果像我一样不想要反应标题，可以在这一项里留空。\n      # reactionTitle:  \n      # #反应表情的文章描述\n      # reaction0: 爱你哟\n      # reaction1: oh~~\n      # reaction2: 嘚瑟~\n      # reaction3: 无语\n\n      placeholder: \n       嗨，朋友，留个脚印再走呗。  \n\n    #反应表情组\n    reaction: \n      - https://img.skyreeves.com/emojis/blobs/ablobcatheart.png\n      - https://img.skyreeves.com/emojis/blobs/ablobcatattentionreverse.png\n      - https://img.skyreeves.com/emojis/blobs/ablobcatrainbow.png\n      - https://img.skyreeves.com/emojis/blobs/blobcatsaitama.png\n      - https://img.skyreeves.com/emojis/blobs/blobcatflip.png\n    # Custom emoji\n    emoji:\n      - https://unpkg.com/@waline/emojis@1.1.0/weibo\n      - https://unpkg.com/@waline/emojis@1.1.0/alus\n      - https://unpkg.com/@waline/emojis@1.1.0/bilibili\n      - https://unpkg.com/@waline/emojis@1.1.0/qq\n      - https://unpkg.com/@waline/emojis@1.1.0/tieba\n      - https://unpkg.com/@waline/emojis@1.1.0/tw-emoji\n      - https://unpkg.com/@waline/emojis@1.1.0/bmoji\n```\n\n{% endfolding %}\n\n\n\n#### 4.2 评论框颜色跟随\n\n启用后会发现，评论区域部分元素无法显示，需要修改`waline.styl`文件，调整颜色对比度。\n\n{% box child:tabs %}\n{% tabs %}\n<!-- tab 设置失效原因 -->\n\n为 `.wl-panel` 强制设置 `background: var(--waline-bgcolor) !important`，这样评论框会跟随主题背景色切换。重新编译并刷新页面验证效果。\n\n<!-- tab 修改后stylus文件 -->\n\n```stylus waline.styl\n.wl-panel {\n  background: var(--waline-bgcolor) !important;\n}\n\n.cmt-body {\n  .wl-panel {\n    margin: 0.5em 0 !important;\n  }\n  \n  .wl-meta-head {\n    padding: 0 !important;\n  }\n  \n  --waline-font-size: 0.9375rem;\n  \n  /* 浅色模式 - 增强工具栏对比度 */\n  --waline-white: #ffffff;\n  --waline-light-grey: #2c0e0eff; /* 加深浅灰色，提升文字可读性 */\n  --waline-dark-grey: #333333; /* 加深深灰色，增强与背景对比 */\n  \n  /* 主题色强化 - 使工具栏按钮更突出 */\n  --waline-theme-color: #1859bbff; /* 稍深的主题色，增强按钮识别度 */\n  --waline-active-color: #5d932b; /* 更鲜明的活跃色，突出点击状态 */\n  \n  /* 布局颜色 - 增强工具栏区域区分 */\n  --waline-color: #188dd1ff;\n  --waline-bgcolor: #ffffff;\n  --waline-bgcolor-light: #f5f5f5; /* 稍深的浅色背景，使工具栏区域更明显 */\n  --waline-bgcolor-hover: #e0e0e0; /* 加深悬停背景，提升交互反馈 */\n  --waline-border-color: #cccccc; /* 稍深的边框，使工具栏元素边界更清晰 */\n  --waline-disable-bgcolor: #f0f0f0;\n  --waline-disable-color: #888888; /* 禁用状态颜色加深，明确不可用状态 */\n  --waline-code-bgcolor: #adaaaaff; /* 代码工具栏背景调整 */\n  \n  /* 特殊颜色 */\n  --waline-bq-color: #f0f0f0;\n  \n  /* 头像 */\n  --waline-avatar-size: 3.25rem;\n  --waline-m-avatar-size: calc(var(--waline-avatar-size) * 9 / 13);\n  \n  /* 徽章 - 增强工具栏内徽章对比度 */\n  --waline-badge-color: #2980b9; /* 稍深的徽章色，更易识别 */\n  --waline-badge-font-size: 0.725em;\n  \n  /* 信息区域 - 工具栏辅助信息更清晰 */\n  --waline-info-bgcolor: #f5f5f5;\n  --waline-info-color: #555555; /* 信息文字加深 */\n  --waline-info-font-size: 0.725em;\n  \n  /* 渲染选择 - 强化工具栏元素边框 */\n  --waline-border: 1px solid var(--waline-border-color);\n  --waline-avatar-radius: 50%;\n  --waline-box-shadow: 0 1px 4px rgba(0,0,0,0.15); /* 稍强阴影，突出工具栏区域 */\n  \n  /* 工具栏特定元素强化 */\n  .wl-toolbar {\n    border-bottom: 1px solid #e0e0e0; /* 工具栏底部边框加深 */\n    padding: 0.5em 0;\n    background-color: #fafafa; /* 工具栏背景与主区域区分 */\n  }\n  \n  /* 工具栏按钮增强 */\n  .wl-toolbar button {\n    color: #555555 !important; /* 按钮图标颜色加深 */\n    padding: 0.3em 0.6em;\n  }\n  \n  .wl-toolbar button:hover {\n    background-color: #e8e8e8 !important; /* 悬停背景更明显 */\n    color: #222222 !important; /* 悬停时图标颜色加深 */\n  }\n  \n  /* 输入框强化 */\n  .wl-editor {\n    border: 1px solid #dddddd !important;\n    box-shadow: inset 0 1px 3px rgba(0,0,0,0.05) !important; /* 内阴影增强输入框边界感 */\n  }\n}\n\n.cmt-body.waline {\n  ondark() {\n    /* 深色模式增强对比度设置 */\n    --waline-white: #0a0a0a;\n    --waline-light-grey: #b0b0b0; /* 明显提亮的浅灰色 */\n    --waline-dark-grey: #e0e0e0; /* 接近白色的深灰色，提升文字可读性 */\n    \n    /* 布局颜色 - 更大的明暗差异 */\n    --waline-color: #f0f0f0; /* 极亮的文字颜色 */\n    --waline-bgcolor: var(--block, #121212); /* 更深的主背景 */\n    --waline-bgcolor-light: #222222; /* 明显浅于主背景的次级背景 */\n    --waline-bgcolor-hover: #2C3E50; /* 悬停状态明显区分 */\n    --waline-border-color: #383838; /* 更粗的视觉边框效果 */\n    --waline-disable-bgcolor: #333333;\n    --waline-disable-color: #999999; /* 禁用状态与可用状态明显区分 */\n    --waline-code-bgcolor: #050810; /* 代码块背景与主背景区分 */\n    \n    /* 特殊颜色 - 增强区块感 */\n    --waline-bq-color: #252525; /* 引用区块明显区分 */\n    \n    /* 主题色 - 在深色背景上更突出 */\n    --waline-theme-color: #2983beff;\n    --waline-active-color: #7dd147; /* 更鲜艳的活跃色 */\n    --waline-badge-color: #4da6ff; /* 徽章颜色更明亮 */\n    \n    /* 信息区域 - 增强区分度 */\n    --waline-info-bgcolor: #222222;\n    --waline-info-color: #cccccc; /* 信息文字更亮 */\n    \n    /* 强化边框和阴影效果 */\n    --waline-border: 1px solid var(--waline-border-color);\n    --waline-box-shadow: 0 2px 8px rgba(0,0,0,0.3); /* 更深的阴影增强层次感 */\n    \n    /* 计数元素特别强化 */\n    .wl-count {\n      padding: .375em;\n      font-weight: bold;\n      font-size: 1.25em;\n      color: #ffffff;\n      background-color: #1C1F21;\n      border-radius: 4px;\n    }\n    \n    /* 评论项之间添加分隔线增强区分 */\n    .wl-item {\n      border-bottom: 1px solid var(--waline-border-color);\n      padding: 1em 0;\n    }\n    \n    /* 输入框强化 */\n    .wl-editor {\n      background-color: #050810 !important;\n      border: 1px solid #383838 !important;\n      color: #f0f0f0 !important;\n    }\n  }\n  \n  :root[data-theme=\"dark\"] & {\n    ondark();\n  }\n  \n  :root:not([data-theme]) & {\n    @media (prefers-color-scheme: dark) {\n      ondark();\n    }\n  }\n}\n\n/* 修复浅色模式下评论标题显示白色的问题 */\n/* 1. 基础覆盖：直接指定 .cmt-title 文本颜色 */\n.header.cmt-title {\n  color: #333333 !important; /* 浅色模式默认深色文本，与白色背景强对比 */\n}\n\n/* 2. 精准适配：结合 data-theme=\"light\" 确保只作用于浅色模式 */\n:root[data-theme=\"light\"] .header.cmt-title {\n  color: #222222 !important; /* 浅色模式下强制深色标题 */\n  opacity: 1 !important; /* 避免被其他样式设置透明 */\n}\n\n/* 3. 兜底：防止标题内的 p 标签继承白色 */\n:root[data-theme=\"light\"] .header.cmt-title p {\n  color: inherit !important; /* 继承父级的深色，而非白色 */\n  margin: 0; /* 可选：修复可能的默认边距问题 */\n}\n\n/* 4. 深色模式兼容（避免影响深色模式） */\n:root[data-theme=\"dark\"] .header.cmt-title {\n  color: #ffffff !important; /* 深色模式保持白色标题，确保正常显示 */\n}\n```\n\n{% endtabs %}\n{% endbox %}\n\n### 5.  面包屑文章字数统计\n\n主题布局文件article_banner.ejs中添加如下代码，即可实现功能。\n\n{% folding 代码折叠 %}\n\n```ejs article_banner.ejs\n<%\nvar banner = {}\n\nif (page.banner) {\n  banner.url = page.banner\n} else if (theme.topic.tree[page.topic]?.banner != null) {\n  banner.url = theme.topic.tree[page.topic]?.banner\n} else if (theme.wiki.tree[page.wiki]?.banner != null) {\n  banner.url = theme.wiki.tree[page.wiki]?.banner\n}\nbanner = Object.assign(banner, page.banner_info)\n// 标题\nif (banner.title == null) {\n  banner.title = page.h1 != null ? page.h1 : page.title\n}\n// 副标题\nif (banner.subtitle == null) {\n  banner.subtitle = page.subtitle\n}\n\n// 生成日期信息（确保更新时间常显）\nfunction layoutDateInfo() {\n  const publishTime = page.date ? page.date.format('YYYY-MM-DD') : '未知时间';\n  // 无论是否更新都显示更新时间\n  const updateTime = page.updated ? page.updated.format('YYYY-MM-DD') : publishTime;\n  \n  // 使用4个非换行空格分隔（&nbsp;）\n  return `<span class=\"publish-time\">发布时间：${publishTime}</span>&nbsp;&nbsp;&nbsp;&nbsp;\n          <span class=\"update-time\">更新时间：${updateTime}</span>`;\n}\n\nfunction layoutBreadcrumb() {\n  if (page.breadcrumb === false) {\n    return `<div class=\"top\"></div>`\n  }\n  \n  // 使用hexo-wordcount计算文章元信息\n  let metaInfo = ''\n  if (page.layout == 'post' && page.content) {\n    // 调用hexo-wordcount提供的函数\n    const wordCount = wordcount(page.content);\n    const readTime = min2read(page.content);\n    // 使用4个非换行空格分隔（&nbsp;）\n    metaInfo = `\n      <div class=\"breadcrumb-meta text-sm\">\n        文章字数：${wordCount}&nbsp;&nbsp;&nbsp;&nbsp;阅读时长：${readTime}分钟\n      </div>\n    `;\n  }\n  \n  // 构建面包屑导航（三行左对齐布局）\n  let el = ''\n  el += `<div class=\"top bread-nav footnote\">`\n  el += `<div class=\"left breadcrumb-container\">`\n  \n  // 第一行：面包屑导航（左对齐）\n  el += `<div class=\"flex-row breadcrumb-path text-sm\" id=\"breadcrumb\" style=\"text-align: left;\">`\n  el += `<a class=\"cap breadcrumb\" href=\"${pretty_url(config.root)}\">${__(\"btn.home\")}</a>`\n  if (theme.wiki.tree[page.wiki]) {\n    el += partial('breadcrumb/wiki')\n  } else if (page.notebook) {\n    el += partial('breadcrumb/note')\n  } else if (page.layout == 'post') {\n    el += partial('breadcrumb/blog')\n  } else {\n    el += partial('breadcrumb/page')\n  }\n  el += `</div>`\n  \n  // 第二行：文章元信息（左对齐）\n  el += metaInfo ? `<div style=\"text-align: left; padding: 4px 0;\">${metaInfo}</div>` : ''\n  \n  // 第三行：日期信息（左对齐，更新时间常显）\n  el += `<div class=\"breadcrumb-date text-sm\" style=\"text-align: left; padding: 4px 0;\">`\n  el += layoutDateInfo()\n  el += `</div>`\n  \n  el += `</div>` // 关闭.left\n  el += `</div>` // 关闭.top\n  return el\n}\n\nfunction layoutTitle() {\n  if (banner.title?.length > 0) {\n    return `<h1 class=\"text title\"><span>${banner.title}</span></h1>`\n  } else {\n    return ''\n  }\n}\n\nfunction layoutSubtitle() {\n  if (banner.subtitle?.length > 0) {\n    return `<div class=\"text subtitle\">${banner.subtitle}</div>`\n  } else {\n    return ''\n  }\n}\n\nfunction layoutIcon() {\n  if (banner.avatar?.length > 0 || banner.icon?.length > 0) {\n    return `<img class=\"lazy avatar\" data-src=\"${banner.avatar || banner.icon}\">`\n  } else {\n    return ''\n  }\n}\n\nfunction layoutBottom() {\n  const el_icon = layoutIcon()\n  const el_title = layoutTitle()\n  const el_subtitle = layoutSubtitle()\n  let cls = ''\n  if (el_title.length > 0 && el_subtitle.length == 0) {\n    cls += ' only-title'\n  }\n  if (el_title.length > 0) {\n    return `\n    <div class=\"bottom${cls}\">\n      ${el_icon}\n      <div class=\"text-area\">\n        ${el_title}\n        ${el_subtitle}\n      </div>\n    </div>\n    `\n  } else {\n    return ``\n  }\n}\n\nfunction layoutDiv() {\n  const bottom = layoutBottom()\n  if (page.breadcrumb === false && bottom.length == 0) {\n    return ``\n  }\n  const top = layoutBreadcrumb()\n  let style = ``\n  let el = ``\n  el += `<div class=\"article banner${scrollreveal(' ')} top\">`\n  if (banner.url?.length > 0) {\n    el += `<img class=\"lazy bg\" data-src=\"${banner.url}\">`\n    if (banner.color) {\n      style += ' style=\"--text-banner:' + banner.color + '\"'\n    }\n  }\n\n  el += `\n  <div class=\"content\"${style}>\n    ${top}\n    ${bottom}\n  </div>\n  `\n  el += `</div>`\n  return el\n}\n%>\n<%- layoutDiv() %>\n```\n\n{% endfolding %}\n\n![image-20251018133145461](https://u.sam7.top/ntjjmz)\n\n### 6. 动态图标配置\n\n在主题配置文件_config.stellar.yml中增加以下CSS文件，引入font-awesome图标库。在[font-awesome v7 CDN](https://www.bootcdn.cn/font-awesome/)里面找一个CDN。\n\n``` yaml\n# 动态图标引入\ninject:\n  head:\n    - <link href=\"https://cdn.bootcdn.net/ajax/libs/font-awesome/7.0.0/css/all.css\" rel=\"stylesheet\">  # fontawesome动态图标引入\n```\n\n 图标格式张这样`<i class=\"fa-solid fa-github fa-brands fa-bounce\"></i>`，然后就可以在想要添加图标的地方使用了，[Font Awesome](https://fontawesome.com/)主页搜索相应特性的图标，大部分都是免费的。\n\n```yaml\nfooter: \n  social:\n    github:\n      icon: '<i class=\"fa-solid fa-github fa-brands fa-bounce\"></i>'\n      title: 'Github'\n      url : / \n```\n\n![image-20251008112814230](https://u.sam7.top/WjAEkb)\n\n### 7. 图床、图片配置\n\n- [ImgToLink+](https://imgtolinkx.com/)是一款免费、免登录图床软件，支持单个文件50M，返回短链。\n\n![image-20251018221547852](https://u.sam7.top/QZjdN7)\n\n- [16图床，永久免费，无需登录的图床](https://111666.best/)免费的往往很容易挂掉，用作评论区上传图床临时用可以。\n\n  ![image-20251018221644226](https://u.sam7.top/siiZmD)\n\n- Cloudflare好像也有免费的image服务。\n\n#### 7.1 Piclist Github图床配置\n\n由于typora支持picgo和piclist图床上传，所以选用了目前还在持续更新的piclist。\n\ntypora图片设置如下，插入图片时直接上传piclist图床，然后自动转义图片url。\n\n![image-20251018222011517](https://u.sam7.top/mTDhyZ)\n\n[PicList](https://piclist.cn/)主页下载安装最新版，选择Github图床搭建，参考[PicGo/PicList + Github 搭建图床 | Theo Docs](https://doc.theojs.cn/notes/build-picture-bed)\n\npiclist相关设置\n\n- piclist设置图片最大800px宽度，大于800压缩至800，小于800不处理。\n\n- 使用`https://cdn.jsdmirror.com/gh`加速Github图床。\n- 上传成功直接复制url链接\n- 开启时间戳重命名\n- 添加图片水印\n- 使用短链接\n- 图片格式转换成压缩率更高的AVIF格式\n\n#### 7.2 搭建图床短链接\n\n为什么要用短链，部分平台（尤其是社交平台、论坛、旧版编辑器）对 URL 长度或格式有严格限制，包含特殊字符（如 `?` `&` `/`）的长链接，可能被平台误判为 “恶意链接” 而拦截，且原始图床链接可能泄露敏感信息。\n\npiclist上传的图片链接也是一堆乱码，widowns文件系统目录`\\`被转义，可以按时间戳重命名图像名称，也可以搭建短链接网站。\n\n参考[xyTom/Url-Shorten-Worker](https://github.com/xyTom/Url-Shorten-Worker/) 主页wiki和[用cloudflare搭建短链接网站](https://blog.houzhongcheng.com/2025/05/30/用cloudflare搭建短链接网站.html)搭建。\n\n![image-20251018112143204](https://u.sam7.top/erBf5k)\n\n![image-20251018105813478](https://u.sam7.top/AEF2tc)\n\n#### 7.3 waline评论图床上传\n\n开启waline评论区图床上传，图片能上传成功，但是的识别不了链接。\n\n已经关掉了，PicList回传的不是json，只能选择URL、markdown格式。\n\n#### 7.4 fancybox设置\n\nstellar集成fancybox灯箱插件，可以在放大网页上面的图片，功能很多。\n\n[Stellar：表达类标签组件（33+个） - XAOXUU](https://xaoxuu.com/wiki/stellar/tag-plugins/express/#image-图片标签) stellar wiki介绍很详细。\n\nmd语法图片格式支持默认全局打开，有个问题就是点击文章海报图片也会放大。\n\n```yml 主题配置文件\nplugins:\n\n  fancybox:\n    enable: true\n    loader: /js/plugins/fancybox-loader.js\n    js: https://gcore.jsdelivr.net/npm/@fancyapps/ui@6/dist/fancybox/fancybox.umd.js\n    css: https://gcore.jsdelivr.net/npm/@fancyapps/ui@6/dist/fancybox/fancybox.css\n    # 让 md 语法图片支持放大可以这样写: .md-text img:not([class]), .md-text .image img\n    # 可以处理评论区的图片（不支持 iframe 类评论系统）例如：\n    # 使用 twikoo 评论可以写: .tk-content img:not([class*=\"emo\"])\n    # 使用 waline 评论可以写: #waline_container .vcontent img\n    selector: .timenode p>img, waline_container .vcontent img, .custom-image-container a, .md-text img:not([class]), .md-text .image img # 多个选择器用英文逗号隔开\n```\n\n### 8. 侧边栏配置\n\n#### 8.1 左侧栏页脚图标\n\nstellar主题预留有7个位置，主题配置如下，footer下面添加以下内容。\n\n```yaml 主题配置文件\n######## Footer ########\nfooter: \n  social:\n    github:\n      icon: '<i class=\"fa-solid fa-github fa-brands\" style=\"font-size:1em;\"></i>'\n      title: 'Github'\n      url : https://github.com/sam7xx \n    rss: \n      icon: '<i class=\"fa-solid fa-rss\" style=\"color: #FF5722;font-size:1em;\"></i>'\n      title: 'RSS'\n      url : /atom.xml\n    email: \n      icon: '<i class=\"fa-solid fa-envelope fa-bounce\" style=\"color: #B197FC;font-size:1em;\"></i>'\n      title: 'Email'\n      url : \"mailto://2690640537@qq.com\"\n    theme:\n      icon: '<i class=\"fa-solid fa-circle-half-stroke fa-flip\" style=\"color: #FFD600;font-size:1em;\"></i>'\n      title: '主题切换'\n      url: 'javascript:void(0);'\n    message:\n      icon: '<i class=\"fa-solid fa-message fa-bounce\" style=\"color:#FF9800;font-size:1em;\"></i>'\n      title: '留言板'\n      url: '/messages'\n    about:\n      icon: '<i class=\"fa-solid fa-user\" style=\"color:#4CAF50;font-size:1em;\"></i>'\n      title: '关于作者'\n      url: '/about'\n    friends:\n      icon: '<i class=\"fa-solid fa-link\" style=\"color:#2196F3;font-size:1em;\"></i>'\n      title: '友链'\n      url: '/friends'\n```\n\n![image-20251018133033178](https://u.sam7.top/GGHPGQ)\n\n#### 8.2 侧边栏组件\n\n参考主题wiki配置[Stellar：侧边栏组件的配置与使用（9个） - XAOXUU](https://xaoxuu.com/wiki/stellar/widgets/)\n\n可以根据需要添加或者自定义喜欢的组件。[使用Hexo和Stellar搭建个人博客网站【超详细贴心保姆级教程💖】 - BoBoBlog](https://blog.bxzdyg.cn/p/使用Hexo和Stellar搭建个人博客网站/#接入API)\n\n在 `_data/widgets.yml` 文件中添加以下内容，需要自己创建：\n\n```yaml _data/widgets.yml\n# 欢迎语\nwelcome:\n  layout: markdown\n  title: 🎉欢迎\n  content: |\n    本站托管于Cloudflare, 加载缓慢请耐心等待，欢迎大家畅所欲言。\n    <hr style=\"border: 1px solid black; background-color: black;\">\n    <span id=\"jinrishici-sentence\"></span>\n    <script src=\"https://sdk.jinrishici.com/v2/browser/jinrishici.js\" charset=\"utf-8\"></script>\n```\n\n修改主题配置文件，在想要显示的页面添加welcome组件，\n\n```yaml 主题配置文件\n  home:\n    leftbar:  welcome, recent, music\n    rightbar: tagcloud\n  # 博客列表页配置\n  index_blog:\n    base_dir: blog # 只影响自动生成的页面路径\n    menu_id: post # 未在 front-matter 中指定 menu_id 时，layout 为 post 的页面默认使用这里配置的 menu_id\n    leftbar:  welcome, recent  # for categories/tags/archives\n    rightbar: tagcloud\n    nav_tabs:  # 近期发布 分类 标签 专栏 归档 and ...\n      # '朋友文章': /friends/rss/\n  # 博客专栏列表页配置\n```\n\n### 9. 主导航栏配置\n\n#### 9.1 启用主导航栏菜单\n\n主题配置文件中设置如下，使用fontawesome图标。\n\n```yaml 主题配置文件\nmenubar:\n  columns: 5 # 一行多少个\n  items: # 可按照自己需求增加，符合以下格式即可\n    # id: 页面中高亮的 menu_id \n    # theme: 高亮时的颜色，仅 svg 中 fill=\"currentColor\" 时有效\n    # icon: 支持 svg/img 标签，可以定义在 icons.yml 文件中，也支持外部图片的 URL\n    # title: 标题\n    # url: 点击跳转到哪，支持相对路径和绝对路径\n    - id: post\n      theme: '#2196F3'\n      icon: '<i class=\"fa-solid fa-newspaper\" style=\"font-size:1.25em;\"></i>'\n      title: 博客\n      url: /blog\n    - id: note\n      theme: '#4CAF50'\n      icon: '<i class=\"fa-solid fa-pen-to-square\" style=\"font-size:1.25em;\"></i>'\n      title: 笔记\n      url: /note\n```\n\n效果展示\n\n![image-20251018225127149](https://u.sam7.top/hGbYrj)\n\n#### 9.2 主导航栏下拉菜单设置\n\n菜单栏位置不够放怎么办，那就增加一个下拉菜单吧。在 Hexo 主题（这里是 Stellar 主题）的菜单栏 “更多” 处增加下拉菜单，可按以下步骤操作：\n\n{% tabs active:1 %}\n\n<!-- tab 调整内容 -->\n\n步骤一：修改主题配置文件（`_config.yml`）找到主题配置文件中 `menubar` 部分关于 “更多”（`id: more`）的配置项。\n\n在 `items` 里，为 “更多” 添加子菜单结构。\n\n这里通过 `nested` 字段来定义 “更多” 的下拉子菜单，每个子项包含 `title`（子菜单标题）和 `url`（子菜单跳转链接）。\n\n<!-- tab 主题配置文件 -->\n\n```yaml 主题配置文件\nmenubar:\n  columns: 5\n  items:\n    # 其他菜单项...\n    - id: more\n      theme: '#CC96F3'\n      icon: '<i class=\"fa-solid fa-caret-down\" style=\"font-size:1.5em;\"></i>'\n      title: 更多\n      # 这里配置子菜单，使用 nested 字段\n      nested:\n        - title: 子菜单1\n          url: /submenu1/\n        - title: 子菜单2\n          url: /submenu2/\n        - title: 子菜单3\n          url: /submenu3/\n```\n\n{% endtabs %}\n\n{% tabs active:1 %}\n\n<!-- tab 调整内容 -->\n\n步骤二：修改主题模板文件（菜单渲染相关）\n\nHexo 主题的菜单渲染通常在 `layout` 目录下的相关模板文件 `menu.ejs`中，为 “更多” 菜单项添加下拉菜单的渲染逻辑。\n\n这段代码的作用是：当菜单项（这里是 “更多”）存在 `nested` 子菜单配置时，渲染下拉菜单结构；否则渲染普通链接。\n\n<!-- tab menu.ejs -->\n\n{% folding 查看代码 %}\n\n```html menu.ejs\n<%\nfunction layoutDiv() {\n  var el = ''\n  el += `<nav class=\"menu dis-select${where == 'main' ? ' mobile-hidden' : ''}\">`\n  \n  // 分离普通菜单项和\"更多\"菜单项\n  const moreItem = (theme.menubar.items || []).find(item => item?.id === 'more');\n  const regularItems = (theme.menubar.items || []).filter(item => \n    item && item.id != null && item.url != null && item.id !== 'more'\n  );\n  \n  // 渲染普通菜单项\n  for (let item of regularItems) {\n    el += `<a class=\"nav-item${item.id == page.menu_id ? ' active' : ''}\" title=\"${item.title}\" href=\"${pretty_url(item.url)}\"`\n    if (item.theme?.length > 0) {\n      el += ` style=\"color:${item.theme}\"`\n    }\n    el += `>`\n    if (item.icon?.length > 0) {\n      el += icon(item.icon, 'no-lazy')\n    } else {\n      el += `<span>${__(item.title)}</span>`\n    }\n    el += `</a>`\n  }\n  \n  // 渲染\"更多\"菜单项及下拉菜单\n  if (moreItem) {\n    // 检查是否有子菜单配置\n    const hasSubmenu = moreItem.nested && moreItem.nested.length > 0;\n    \n    el += `<div class=\"nav-item more-dropdown${moreItem.id == page.menu_id ? ' active' : ''}\"`;\n    if (moreItem.theme?.length > 0) {\n      el += ` style=\"color:${moreItem.theme}\"`;\n    }\n    el += `>`;\n    \n    // 更多按钮\n    el += `<a class=\"more-toggle\" title=\"${moreItem.title}\"`;\n    if (!hasSubmenu) {\n      el += ` href=\"${pretty_url(moreItem.url)}\"`;\n    }\n    el += `>`;\n    if (moreItem.icon?.length > 0) {\n      el += icon(moreItem.icon, 'no-lazy');\n    } else {\n      el += `<span>${__(moreItem.title)}</span>`;\n    }\n    el += `</a>`;\n    \n    // 下拉菜单\n    if (hasSubmenu) {\n      el += `<div class=\"more-dropdown-menu\">`;\n      for (let subItem of moreItem.nested) {\n        if (subItem && subItem.title && subItem.url) {\n          el += `<a class=\"dropdown-item\" href=\"${pretty_url(subItem.url)}\" title=\"${subItem.title}\">`;\n          el += `<span>${__(subItem.title)}</span>`;\n          el += `</a>`;\n        }\n      }\n      el += `</div>`;\n    }\n    \n    el += `</div>`;\n  }\n  \n  el += `</nav>`\n  return el\n}\n%>\n\n<%- layoutDiv() %>\n```\n\n{% endfolding %}\n\n{% endtabs %}\n\n{% tabs active:1 %}\n\n<!-- tab 调整内容 -->\n\n步骤三：添加样式\n\n如果需要对下拉菜单的样式（如显示 / 隐藏、 hover 效果等）进行自定义，可在主题的样式文件`menu.styl`中添加相关 CSS 规则。示例：\n\n<!-- tab menu.styl -->\n\n{% folding 查看代码 %}\n\n```stylus menu.styl\n// 导航区域菜单容器样式\n.nav-area .menu\n  width: 100% // 宽度占满父容器\n  display: grid // 使用网格布局\n  margin: 8px 0 // 上下外边距8px，左右0\n  grid-template-columns: repeat(hexo-config('menubar.columns'), 1fr) // 从Hexo配置读取列数\n  grid-gap: 8px // 网格项间距8px\n\n  // 导航区域菜单滚动条（隐藏）\n  &::-webkit-scrollbar\n    display: none // 隐藏滚动条本体\n  &::-webkit-scrollbar-track-piece\n    background: transparent // 滚动条轨道透明\n  &::-webkit-scrollbar-thumb\n    display: none // 隐藏滚动条滑块\n\n  // 导航区域菜单项样式\n  .nav-item\n    box-sizing: border-box // 边框盒模型（padding和border不影响宽度）\n    width: 100% // 宽度100%\n    min-height: 40px // 最小高度40px\n    border-radius: var(--border-bar) // 使用圆角变量\n    font-size: var(--fs-15) // 15px字体变量\n    font-weight: 500 // 中等粗细\n    color: var(--text-p3) // 三级文字色\n    text-align: center // 文字居中\n    background: var(--bg-a50) // 50%透明度背景\n    transition: background 0.3s ease // 背景过渡动画\n    position: relative // 相对定位\n    display: flex // Flex布局\n    flex-direction: column // 子元素垂直排列\n    align-items: center // 水平居中\n    justify-content: center // 垂直居中\n\n    // 导航项文字样式\n    span\n      text-overflow: ellipsis // 溢出显示省略号\n      word-break: keep-all // 不拆分单词\n\n    // 激活/悬停状态\n    &.active, &:hover\n      color: var(--text-p1) // 一级文字色\n      background: var(--bg-a100) // 100%透明度背景\n\n    // 激活状态底部指示条\n    &.active:after\n      content: '' // 空内容伪元素\n      position: absolute // 绝对定位\n      width: 16px // 宽度16px\n      height: 2px // 高度2px\n      left: 50% // 水平居中\n      transform: translateX(-50%) // 水平居中偏移\n      border-radius: 2px // 圆角2px\n      bottom: 2px // 距离底部2px\n      background: currentColor // 继承文字颜色\n\n// 基础菜单样式\n.menu\n  display: flex // Flex布局（横向排列）\n  list-style: none // 移除列表默认样式\n  padding: 0 // 无内边距\n  margin: 0 // 无外边距\n  gap: 1rem // 菜单项间距1rem\n\n// 通用导航项样式\n.nav-item\n  display: flex // Flex布局\n  align-items: center // 垂直居中\n  justify-content: center // 水平居中\n  text-decoration: none // 无下划线\n  position: relative // 相对定位（用于下拉菜单）\n\n// 更多菜单下拉容器\n.more-dropdown\n  position: relative // 相对定位\n  display: inline-block // 行内块布局\n  z-index: 100 // 层级100\n\n  // 更多下拉菜单样式（恢复原始宽度40px）\n  .more-dropdown-menu\n    display: none // 默认隐藏\n    position: absolute // 绝对定位\n    right: 0 // 右对齐\n    top: -80px // 上移80px\n    background-color: #fff // 亮色背景\n    min-width: 40px // 恢复原始最小宽度（适配紧凑布局）\n    max-height: 120px // 最大高度\n    box-shadow: 0 2px 12px rgba(0,0,0,0.15) // 亮色阴影\n    z-index: 9999 // 高层级避免遮挡\n    border-radius: 6px // 圆角6px\n    overflow-y: auto // 垂直滚动\n    overflow-x: hidden // 水平隐藏溢出\n    padding: 6px 0 // 上下内边距6px\n    box-sizing: border-box // 边框盒模型\n\n    // 更多下拉菜单滚动条\n    &::-webkit-scrollbar\n      width: 4px // 滚动条宽度4px\n    &::-webkit-scrollbar-thumb\n      background-color: rgba(0,0,0,0.15) // 亮色滚动条滑块\n      border-radius: 2px // 滑块圆角\n\n  // 悬停显示更多下拉菜单\n  &:hover .more-dropdown-menu\n    display: block // 显示菜单\n    animation: fadeIn 0.2s ease // 淡入动画\n\n// 下拉菜单项样式\n.dropdown-item\n  display: flex // Flex布局\n  align-items: center // 垂直居中\n  justify-content: center // 水平居中\n  width: 100% // 宽度100%\n  padding: 10px // 内边距10px\n  color: #333 // 亮色文字\n  text-decoration: none // 无下划线\n  box-sizing: border-box // 边框盒模型\n\n  // 悬停效果（亮色）\n  &:hover\n    background-color: #f5f5f5 // 亮色悬停背景\n\n// 普通下拉菜单容器\n.dropdown\n  position: relative // 相对定位\n  display: inline-block // 行内块布局\n  z-index: 100 // 层级100\n\n  // 普通下拉菜单样式（恢复原始宽度40px）\n  .dropdown-menu\n    display: none // 默认隐藏\n    position: absolute // 绝对定位\n    top: -80px // 上移80px\n    background-color: #f9f9f9 // 亮色背景\n    min-width: 40px // 恢复原始最小宽度（适配紧凑布局）\n    max-height: 120px // 最大高度\n    box-shadow: 0 2px 12px rgba(0,0,0,0.2) // 亮色阴影\n    z-index: 9999 // 高层级避免遮挡\n    overflow-y: auto // 垂直滚动\n    overflow-x: hidden // 水平隐藏溢出\n    padding: 6px 0 // 上下内边距6px\n    box-sizing: border-box // 边框盒模型\n\n    // 普通下拉菜单滚动条\n    &::-webkit-scrollbar\n      width: 4px // 滚动条宽度4px\n    &::-webkit-scrollbar-thumb\n      background-color: rgba(0,0,0,0.15) // 亮色滚动条滑块\n      border-radius: 2px // 滑块圆角\n\n  // 悬停显示普通下拉菜单\n  &:hover .dropdown-menu\n    display: block // 显示菜单\n    animation: fadeIn 0.2s ease // 淡入动画\n\n  // 普通下拉菜单项样式\n  .dropdown-menu a\n    display: flex // Flex布局\n    align-items: center // 垂直居中\n    justify-content: center // 水平居中\n    padding: 10px // 内边距10px\n    text-decoration: none // 无下划线\n    color: #333 // 亮色文字\n\n    // 悬停效果（亮色）\n    &:hover\n      background-color: #ddd // 亮色悬停背景\n\n// 暗色模式适配\n[data-theme=\"dark\"]\n  // 更多下拉菜单\n  .more-dropdown-menu\n    background-color: #2d2d2d // 暗色背景\n    box-shadow: 0 2px 12px rgba(0,0,0,0.3) // 暗色阴影\n\n  // 下拉菜单项文字及悬停\n  .dropdown-item\n    color: #f0f0f0 // 暗色文字\n    &:hover\n      background-color: #444 // 暗色悬停背景\n\n  // 普通下拉菜单\n  .dropdown-menu\n    background-color: #2d2d2d // 暗色背景\n    box-shadow: 0 2px 12px rgba(0,0,0,0.3) // 暗色阴影\n\n    // 普通下拉菜单项文字及悬停\n    a\n      color: #f0f0f0 // 暗色文字\n      &:hover\n        background-color: #444 // 暗色悬停背景\n\n  // 暗色模式滚动条滑块\n  .more-dropdown-menu::-webkit-scrollbar-thumb,\n  .dropdown-menu::-webkit-scrollbar-thumb\n    background-color: rgba(255,255,255,0.2) // 暗色滚动条滑块\n\n// 下拉菜单入场动画\n@keyframes fadeIn\n  from\n    opacity: 0 // 初始透明度0\n    transform: translateY(5px) // 初始位置下移5px\n  to\n    opacity: 1 // 结束透明度1\n    transform: translateY(0) // 恢复位置\n\n// 响应式调整（≤768px）\n@media (max-width: 768px)\n  .menu.mobile-hidden\n    display: none // 小屏幕隐藏指定菜单\n\n```\n\n{% endfolding %}\n\n{% endtabs %}\n\n步骤四：重启 Hexo 服务\n\n修改完成后，在终端中执行 `hexo clean && hexo s` 命令，清理并重新启动 Hexo 本地服务，然后在浏览器中查看效果，“更多” 处应能正常显示下拉菜单。\n\n由于搜索栏遮盖了下拉菜单，需要修改下拉菜单支持滚动模式，容器固定3行高度，上移一段距离。\n\n图标也不能正常显示，凑合用吧。\n\n![image-20251018130238736](https://u.sam7.top/Bh3YjH)\n\n#### 9.3 网站设置\n\n- 根目录配置文件中，修改以下内容。\n\n```yaml 根目录配置文件\ntitle: #博客名称\nsubtitle: '纸上得来终觉浅,绝知此事需躬行|文本2' #鼠标移至副标题区域即可显示文本2内容\ndescription: '博客描述'\nkeywords: ['','','','','',''] #关键词，方便搜索引擎抓取\nauthor: Sam #作者名字\navatar: /path/x.avif #头像\nlanguage:\n  - zh-CN\n  - en\ntimezone: 'Asia/Shanghai' #时区\n\n```\n\n- 网站标题艺术字设置\n\n  - 在主题source目录下新建`art-title.css`,新增以下内容\n\n    ```css art-title.css\n    div.main {\n      /* 中英文统一手写字体（保持风格一致） */\n      font-family: \"Ma Shan Zheng\", \"Pacifico\", cursive !important;\n      font-size: 36px !important;\n      font-weight: normal !important;\n      line-height: 1.3 !important;\n    \n      /* 红色到紫色渐变（主色调调整） */\n      background: linear-gradient(135deg, #ff6b6b, #4ecdc4, #8e44ad, #f39c12) !important;\n      background-size: 70% 70% !important; /* 适配渐变流动动画 */\n      -webkit-background-clip: text !important;\n      background-clip: text !important;\n      color: transparent !important; /* 核心：文字透明显示渐变 */\n    \n      /* 阴影增强层次感 */\n      text-shadow: 0 2px 5px rgba(0,0,0,0.15) !important;\n    \n      /* 渐变流动动画 */\n      animation: gradientShift 7s ease infinite !important;\n      display: inline-block !important;\n    }\n    \n    /* 动画关键帧 */\n    @keyframes gradientShift {\n      0% { background-position: 0% 50%; }\n      50% { background-position: 100% 50%; }\n      100% { background-position: 0% 50%; }\n    }\n    \n    /* 悬停强化效果 */\n    div.main:hover {\n      text-shadow: 0 3px 8px rgba(0,0,0,0.2) !important;\n      transform: scale(1.05) !important;\n      transition: all 0.3s ease !important;\n    }\n    ```\n\n  - 然后在根目录配置文件增加以下内容，将中英文手写字体和art-title.CSS引入head标签内。\n\n``` yaml 根目录配置文件\ninject:\n  head:\n  \t- <link rel=\"stylesheet\" href=\"/art-title.css\">  # 自定义艺术字样式引入\n    - <link rel=\"stylesheet\" href=\"https://fonts.loli.net/css2?family=Ma+Shan+Zheng&family=Pacifico&display=swap\"> #引入Pacifico字体 中英文手写\n```\n\n\n\n#### 9.4 网页小图标\n\n- 让豆包生成一个logo图标，修改为成128x128px，像素小加载快。\n\n  ![创建极简线条风标识](https://u.sam7.top/6QcmtF)\n\n- 然后在根目录配置文件增加以下内容，将Favicon图标引入head标签内。\n\n  ```yaml 根目录配置文件\n  inject:\n    head:\n    \t- <link rel=\"icon\" href=\"https://u.sam7.top/6QcmtF\" type=\"image/avif\">  # Favicon图标引入\n  ```\n\n- 效果展示\n\n  <img src=\"https://u.sam7.top/XrwW8K\" alt=\"效果展示\" style=\"zoom:200%;\" />\n\n### 10. 顶部导航栏显示异常\n\n浏览器设置浅色模式，主题切换为深色，顶部导航栏字体看起来比较奇怪，navbra.styl修改，`.navbar-blur`取消模糊效果。\n\n![image-20251018130314321](https://u.sam7.top/pGMf3Y)\n\n```stylus navbar.styl\n// 顶栏容器样式（替代newblur()的背景）\n.navbar-blur \n  margin: 0 1rem\n  border-radius: 64px\n  position: relative\n  // 新增背景样式：使用主题卡片色+轻微透明度，不依赖模糊\n  background: var(--card, rgba(255, 255, 255, 0.9))  // 主背景（优先用主题变量）\n  border: var(--card-border, 1px solid rgba(0, 0, 0, 0.05))  // 边框（可选，增强轮廓）\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05)  // 轻微阴影，区分层级\n  // 如需半透明效果可调整alpha值，如：background: rgba(255, 255, 255, 0.85)\n```\n\n### 11. 页面布局调整\n\n- 在主题样式`custom.styl`中添加`$leftbar-bottom-margin = 20px）`,调整主内容界面宽度为1080px，侧边栏宽度最大为277px，元素内部和外部距离都调整为15px。\n\n```stylus custom.styl\n$leftbar-bottom-margin = 20px  // 左侧栏底部距离（根据需求调整，单位px/rem）\n\n// 可以动态变化的属性\n:root\n  --width-main: 1080px // 主内容区域宽度（默认1080px）\n  --fsp: $fs-body // 段落字体大小（关联正文基础大小）\n  --fsh2: 'calc(%s + 11px)' % var(--fsp) // h2标题大小（基于段落字体动态计算）\n  --fsh3: 'calc(%s + 7px)' % var(--fsp) // h3标题大小（基于段落字体动态计算）\n  --fsh4: 'calc(%s + 4px)' % var(--fsp) // h4标题大小（基于段落字体动态计算）\n  \n  --side-content-width: 255px // 侧边栏内容宽度（默认255px）\n  --gap-margin: 11px // 元素外部间距（元素间距离）\n  --gap-padding: 11px // 元素内部间距（内容到边框距离）\n```\n\n- 同时还需要在layout.styl中添加如下内容，高度随内容自适应，且底部有适度留白，兼顾功能和美观。\n\n```stylus layout.styl\n// 普通屏幕布局\n.l_body .l_left\n  margin-bottom: 16px; // 只保留少量底部留白（数值按需调整）\n\n// 手机端布局\n@media screen and (max-width: $device-mobile-max)\n  .l_body\n    .l_left\n      padding-bottom: 8px; // 少量底部内边距（按需调整）\n```\n\n- 调整后页面整体效果如下\n\n<img src=\"https://u.sam7.top/ZdpH23\" alt=\"image-20251018132921523\" style=\"zoom: 67%;\" />\n\n### 12. 添加音乐播放器\n\n参考 [stellar主题使用meetingjs接入aplayer音乐播放器 - BoBoBlog](https://blog.bxzdyg.cn/p/stellar-aplayer-metingjs/)\n\n首先需要安装音乐播放器插件`npm install --save hexo-tag-aplayer`,在根目录主题配置文件里面添加以下内容，开启metingjs。\n\n```yaml _config.yaml\naplayer:\n  # 示例配置\n  cdn: https://cdn.jsdelivr.net/npm/aplayer@latest/dist/APlayer.min.js\n  style_cdn: https://cdn.jsdelivr.net/npm/aplayer@latest/dist/APlayer.min.css\n  meting: true\n  meting_cdn: https://cdn.jsdelivr.net/npm/meting@1/dist/Meting.min.js\n```\n\n在想要添加音乐播放器的位置添加以下代码块，这是一个md格式的网易云歌单，有时候会和toc有冲突，无法实现跳转。\n\n```markdown\n{% meting \"14222331844\" \"netease\" \"playlist\" \"autoplay\"  \"mutex:true\" \"listmaxheight:340px\" \"lrctype:0\" \"preload:none\" \"theme:#1cd0fd\" \"storagename:metingjs\"%} \n```\n\n![image-20251018130415394](https://u.sam7.top/MKB4bw)\n\n修改主题样式文件`aplayer.styl`，修改播放器参数，播放器颜色跟随系统主题。\n\n{% folding 查看代码 %}\n\n```stylus aplayer.styl\n.md-text\n  .aplayer\n    border-radius: $border-card\n\n/* aplayer-theme.css - 支持手动和系统主题切换的Aplayer样式 */\n\n/* ===== CSS变量定义 ===== */\n\n/* 默认亮色主题变量 */\n:root {\n  --aplayer-bg: #ffffff; /* 播放器主背景色 */\n  --aplayer-toolbar-bg: #f8f9fa; /* 工具栏/控制器背景色 */\n  --aplayer-text: #373737; /* 主要文字颜色 */\n  --aplayer-border: #e9e9e9; /* 边框颜色 */\n  --aplayer-hover-bg: #efefef; /* 鼠标悬停背景色 */\n  --aplayer-hover-text: #ff5722; /* 鼠标悬停文字颜色 */\n  --aplayer-active-bg: #e9ecef; /* 当前选中项背景色（比普通背景更深） */\n  --aplayer-active-text: #2c2c2c; /* 当前选中项文字颜色（亮色主题下保持深色） */\n  --aplayer-list-item-height: 32px; /* 列表项高度 */\n  --aplayer-list-item-padding: 0 15px; /* 列表项内边距 */\n  --aplayer-list-item-font-size: 12px; /* 列表项字体大小 */\n  --aplayer-list-light-font-size: small; /* 当前选中项字体大小 */\n  --aplayer-list-light-font-weight: bold; /* 当前选中项字体粗细 */\n  --aplayer-hover-font-size: small; /* 悬停时字体大小 */\n  --aplayer-hover-font-weight: bold; /* 悬停时字体粗细 */\n}\n\n/* 暗色主题变量 - 通过[data-theme=\"dark\"]属性应用 */\n[data-theme=\"dark\"] {\n  --aplayer-bg: #1e1e1e; /* 播放器主背景色 */\n  --aplayer-toolbar-bg: #1e1e1e; /* 工具栏/控制器背景色 */\n  --aplayer-text: #ffffffff; /* 主要文字颜色 */\n  --aplayer-border: #383d42; /* 边框颜色 */\n  --aplayer-hover-bg: #3d3d3d; /* 鼠标悬停背景色 */\n  --aplayer-hover-text: #ff5722; /* 鼠标悬停文字颜色 */\n  --aplayer-active-bg: #4a4a4a; /* 当前选中项背景色（比普通背景更深） */\n  --aplayer-active-text: #01686dff; /* 当前选中项文字颜色（暗色主题下使用更亮的白色，提高对比度） */\n}\n\n/* 系统主题检测作为备用方案 - 当没有手动设置主题时生效 */\n@media (prefers-color-scheme: dark) {\n  :root:not([data-theme]) { /* 选择没有设置data-theme属性的根元素 */\n    --aplayer-bg: #1e1e1e; /* 播放器主背景色 */\n    --aplayer-toolbar-bg: #1e1e1e; /* 工具栏/控制器背景色 */\n    --aplayer-text: #ffffffff; /* 主要文字颜色 */\n    --aplayer-border: #383d42; /* 边框颜色 */\n    --aplayer-hover-bg: #3d3d3d; /* 鼠标悬停背景色 */\n    --aplayer-hover-text: #ff5722; /* 鼠标悬停文字颜色 */\n    --aplayer-active-bg: #4a4a4a; /* 当前选中项背景色（比普通背景更深） */\n    --aplayer-active-text: #01686dff; /* 当前选中项文字颜色（暗色主题下使用更亮的白色，提高对比度） */\n  }\n}\n\n/* ===== Aplayer整体样式 ===== */\n\n.aplayer {\n  background: var(--aplayer-bg); /* 背景色使用CSS变量 */\n  color: var(--aplayer-text); /* 文字颜色使用CSS变量 */\n  font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen, Ubuntu, Cantarell, \"Open Sans\", \"Helvetica Neue\", sans-serif; /* 字体族设置 */\n  border-radius: 6px; /* 圆角边框 */\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1); /* 阴影效果 */\n  transition: all 0.3s ease; /* 过渡动画效果 */\n}\n\n/* ===== 工具栏/控制器区域样式 ===== */\n\n.aplayer .aplayer-info,\n.aplayer .aplayer-controller,\n.aplayer .aplayer-body {\n  background: var(--aplayer-toolbar-bg); /* 使用工具栏专用背景色 */\n  transition: background-color 0.3s ease; /* 背景色过渡效果 */\n}\n\n.aplayer .aplayer-info {\n  border-bottom: 1px solid var(--aplayer-border); /* 底部边框 */\n  padding: 12px 15px; /* 内边距 */\n}\n\n.aplayer .aplayer-info .aplayer-music {\n  color: var(--aplayer-text); /* 文字颜色 */\n}\n\n.aplayer .aplayer-info .aplayer-music .aplayer-title {\n  color: var(--aplayer-active-text); /* 使用更突出的颜色 */\n  font-weight: bold; /* 字体加粗 */\n}\n\n.aplayer .aplayer-controller {\n  border-top: 1px solid var(--aplayer-border); /* 顶部边框 */\n  padding: 8px 15px; /* 内边距 */\n}\n\n/* ===== 进度条样式 ===== */\n\n.aplayer .aplayer-bar {\n  background: var(--aplayer-border); /* 轨道背景色 */\n}\n\n.aplayer .aplayer-loaded {\n  background: var(--aplayer-hover-bg); /* 已加载部分背景色 */\n}\n\n.aplayer .aplayer-played {\n  background: var(--aplayer-hover-text); /* 已播放部分背景色 */\n}\n\n.aplayer .aplayer-thumb {\n  background: var(--aplayer-hover-text); /* 拖拽点背景色 */\n  box-shadow: 0 0 5px rgba(0, 0, 0, 0.2); /* 拖拽点阴影 */\n}\n\n/* ===== 时间显示样式 ===== */\n\n.aplayer .aplayer-time {\n  color: var(--aplayer-text); /* 时间文字颜色 */\n}\n\n/* ===== 音量控制样式 ===== */\n\n.aplayer .aplayer-volume-wrap .aplayer-volume-bar {\n  background: var(--aplayer-border); /* 音量轨道背景色 */\n}\n\n.aplayer .aplayer-volume-wrap .aplayer-volume {\n  background: var(--aplayer-hover-text); /* 音量滑块背景色 */\n}\n\n/* ===== 播放列表样式 ===== */\n\n.aplayer .aplayer-list {\n  border-top: 1px solid var(--aplayer-border); /* 顶部边框 */\n  max-height: 300px; /* 最大高度限制 */\n  overflow-y: auto; /* 垂直方向溢出时显示滚动条 */\n  background: var(--aplayer-bg); /* 列表背景色 */\n}\n\n.aplayer .aplayer-list ol li {\n  position: relative; /* 相对定位 */\n  height: var(--aplayer-list-item-height); /* 固定高度 */\n  line-height: var(--aplayer-list-item-height); /* 行高等于高度，实现垂直居中 */\n  padding: var(--aplayer-list-item-padding); /* 内边距 */\n  font-size: var(--aplayer-list-item-font-size); /* 字体大小 */\n  border-top: 1px solid var(--aplayer-border); /* 顶部边框 */\n  cursor: pointer; /* 鼠标指针样式 */\n  transition: all 0.2s ease; /* 过渡动画效果 */\n  overflow: hidden; /* 隐藏溢出内容 */\n  margin: 0; /* 外边距归零 */\n  color: var(--aplayer-text); /* 文字颜色 */\n  background-color: var(--aplayer-bg); /* 背景色 */\n}\n\n.aplayer .aplayer-list ol li:first-child {\n  border-top: none; /* 无边框 */\n}\n\n.aplayer .aplayer-list ol li.aplayer-list-light {\n  background: var(--aplayer-active-bg); /* 使用更深的背景色突出显示 */\n  color: var(--aplayer-active-text); /* 文字颜色使用更亮的白色，提高对比度 */\n  font-size: var(--aplayer-list-light-font-size); /* 字体大小 */\n  font-weight: var(--aplayer-list-light-font-weight); /* 字体粗细 */\n  position: relative; /* 相对定位 */\n}\n\n.aplayer .aplayer-list ol li.aplayer-list-light::before {\n  content: ''; /* 伪元素内容为空 */\n  position: absolute; /* 绝对定位 */\n  left: 0; /* 左侧对齐 */\n  top: 0; /* 顶部对齐 */\n  height: 100%; /* 高度100% */\n  width: 3px; /* 宽度3像素 */\n  background: var(--aplayer-hover-text); /* 指示条颜色 */\n}\n\n.aplayer .aplayer-list ol li:hover {\n  background: var(--aplayer-hover-bg); /* 悬停背景色 */\n  color: var(--aplayer-hover-text); /* 悬停文字颜色 */\n  font-size: var(--aplayer-hover-font-size); /* 悬停时字体大小 */\n  font-weight: var(--aplayer-hover-font-weight); /* 悬停时字体粗细 */\n}\n\n/* ===== 滚动条样式 ===== */\n\n.aplayer .aplayer-list::-webkit-scrollbar {\n  width: 6px; /* 滚动条宽度 */\n}\n\n.aplayer .aplayer-list::-webkit-scrollbar-track {\n  background: var(--aplayer-bg); /* 轨道背景色 */\n}\n\n.aplayer .aplayer-list::-webkit-scrollbar-thumb {\n  background: var(--aplayer-border); /* 滑块背景色 */\n  border-radius: 3px; /* 滑块圆角 */\n}\n\n.aplayer .aplayer-list::-webkit-scrollbar-thumb:hover {\n  background: var(--aplayer-hover-text); /* 悬停时滑块背景色 */\n}\n\n/* ===== 播放按钮样式 ===== */\n\n.aplayer .aplayer-play {\n  width: 22px; /* 宽度 */\n  height: 22px; /* 高度 */\n  border: 1px solid var(--aplayer-border); /* 边框 */\n  border-radius: 50%; /* 圆形边框 */\n  display: flex; /* 弹性布局 */\n  align-items: center; /* 垂直居中 */\n  justify-content: center; /* 水平居中 */\n  transition: all 0.2s ease; /* 过渡动画 */\n}\n\n.aplayer .aplayer-play:hover {\n  border-color: var(--aplayer-hover-text); /* 悬停时边框颜色 */\n  background: var(--aplayer-hover-bg); /* 悬停时背景色 */\n}\n\n/* ===== 歌词面板样式 ===== */\n\n.aplayer .aplayer-lrc {\n  background: var(--aplayer-toolbar-bg); /* 背景色 */\n  border-top: 1px solid var(--aplayer-border); /* 顶部边框 */\n}\n\n.aplayer .aplayer-lrc .aplayer-lrc-current {\n  color: var(--aplayer-active-text); /* 当前歌词文字颜色使用更亮的颜色 */\n  font-weight: bold; /* 字体加粗 */\n}\n\n/* ===== 迷你模式样式 ===== */\n\n.aplayer.aplayer-mini .aplayer-body {\n  background: var(--aplayer-toolbar-bg); /* 背景色 */\n}\n\n.aplayer.aplayer-mini .aplayer-info {\n  background: transparent; /* 透明背景 */\n}\n\n.aplayer.aplayer-mini .aplayer-info .aplayer-music .aplayer-title {\n  color: var(--aplayer-active-text); /* 使用更突出的颜色 */\n  font-weight: bold; /* 字体加粗 */\n}\n\n/* ===== 艺术家和专辑信息样式 ===== */\n\n.aplayer .aplayer-info .aplayer-music .aplayer-author {\n  color: var(--aplayer-text); /* 艺术家文字颜色 */\n  opacity: 1; /* 透明度稍低，作为次要信息 */\n}\n\n.aplayer .aplayer-list ol li.aplayer-list-light .aplayer-list-author {\n  color: var(--aplayer-active-text); /* 当前歌曲艺术家信息使用更亮的颜色 */\n  opacity: 1; /* 降低透明度，但仍保持可读性 */\n}\n\n```\n\n{% endfolding %}\n\n### 13. 背景动态设置\n\n#### 13.1 随机线条效果\n\n 主题文件layout.ejs文件中添加以下代码\n\n```ejs layout.ejs\n<script type=\"text/javascript\"color=\"0,0,255\" opacity='0.7' zIndex=\"-2\" count=\"99\" src=\"//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js\"></script>\n```\n\n- `color` ：线条颜色, 默认: `'0,0,0'`；三个数字分别为(R,G,B)\n\n\n- `opacity`: 线条透明度（0~1）, 默认: `0.5`\n- `count`: 线条的总数量, 默认: `150`\n- `zIndex:` 背景的z-index属性，CSS属性用于控制所在层的位置, 默认: `-1`\n\n 终端运行hexo clean 清除缓存，hexo g&hexo s渲染网页后本地预览。\n\n 手机端显示很乱，影响阅览网页，已弃用。\n\n#### 13.2 随机樱花效果\n\n参考以下文章，修改成可以替换任意图像元素效果。\n\n[Hexo添加雪花动态效果背景 | 花猪のBlog](https://cnhuazhu.top/butterfly/2021/02/24/Hexo魔改/Hexo添加雪花动态效果背景/)\n\n[Hexo添加樱花动态效果背景 | 花猪のBlog](https://cnhuazhu.top/butterfly/2021/02/19/Hexo魔改/Hexo添加樱花动态效果背景/)\n\nbase64图片太长了，占用空间大，提取base64编码转换成图片，上传图床。\n\n![result](https://u.sam7.top/2NkzEk)\n\n新建sakura.js文件\n\n{% folding 代码折叠 %}\n\n```js sakura.js\nclass Sakura {\n    constructor(x, y, s, r, fn, image) {\n        this.x = x;\n        this.y = y;\n        this.s = s;\n        this.r = r;\n        this.fn = fn;\n        this.image = image;\n    }\n\n    draw(cxt) {\n        cxt.save();\n        cxt.translate(this.x, this.y);\n        cxt.rotate(this.r);\n        const size = 40 * this.s;\n        cxt.drawImage(this.image, -size/2, -size/2, size, size);\n        cxt.restore();\n    }\n\n    update() {\n        this.x = this.fn.x(this.x, this.y);\n        this.y = this.fn.y(this.y, this.x);\n        this.r = this.fn.r(this.r);\n        \n        if (this.x > window.innerWidth || this.x < 0 || this.y > window.innerHeight || this.y < 0) {\n            this.reset();\n        }\n    }\n\n    reset() {\n        this.r = getRandom('fnr')();\n        if (Math.random() > 0.4) {\n            this.x = getRandom('x');\n            this.y = 0;\n        } else {\n            this.x = window.innerWidth;\n            this.y = getRandom('y');\n        }\n        this.s = getRandom('s');\n        this.r = getRandom('r');\n    }\n}\n\nlet stop = null;\n\n// 检测是否为移动设备\nfunction isMobileDevice() {\n    return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) || \n           window.innerWidth <= 768;\n}\n\nfunction getRandom(option) {\n    switch (option) {\n        case 'x': return Math.random() * window.innerWidth;\n        case 'y': return Math.random() * window.innerHeight;\n        case 's': return Math.random() * 0.5 + 0.3;\n        case 'r': return Math.random() * Math.PI * 2;\n        case 'fnx': return (x, y) => x + (Math.random() - 0.5) * 2 - 1;\n        case 'fny': return (y, x) => y + 1.5 + Math.random();\n        case 'fnr': return (r) => r + Math.random() * 0.03;\n        default: return 0;\n    }\n}\n\nfunction startSakura(image) {\n    if (stop) {\n        cancelAnimationFrame(stop);\n        const canvas = document.getElementById('canvas_sakura');\n        if (canvas) canvas.remove();\n    }\n\n    const canvas = document.createElement('canvas');\n    const cxt = canvas.getContext('2d');\n    const sakuras = [];\n    \n    // 移动端优化\n    const isMobile = isMobileDevice();\n    const sakuraCount = isMobile ? 15 : 25; // 移动端减少樱花数量\n    \n    canvas.height = window.innerHeight;\n    canvas.width = window.innerWidth;\n    canvas.style.cssText = 'position:fixed;left:0;top:0;pointer-events:none;z-index:9999;';\n    canvas.id = 'canvas_sakura';\n    document.body.appendChild(canvas);\n\n    // 创建樱花实例\n    for (let i = 0; i < sakuraCount; i++) {\n        sakuras.push(new Sakura(\n            getRandom('x'),\n            getRandom('y'),\n            getRandom('s'),\n            getRandom('r'),\n            {\n                x: getRandom('fnx'),\n                y: getRandom('fny'),\n                r: getRandom('fnr')\n            },\n            image\n        ));\n    }\n\n    function animate() {\n        cxt.clearRect(0, 0, canvas.width, canvas.height);\n        sakuras.forEach(sakura => {\n            sakura.update();\n            sakura.draw(cxt);\n        });\n        stop = requestAnimationFrame(animate);\n    }\n\n    stop = requestAnimationFrame(animate);\n}\n\nfunction toggleSakura(imageUrl) {\n    if (stop) {\n        cancelAnimationFrame(stop);\n        stop = null;\n        const canvas = document.getElementById('canvas_sakura');\n        if (canvas) canvas.remove();\n        return false; // 返回false表示已停止\n    } else {\n        // 移动端检测 - 如果性能可能有问题，可以在这里禁用\n        if (isMobileDevice()) {\n            const enableOnMobile = confirm(\"在移动设备上运行樱花特效可能会影响性能。是否继续？\");\n            if (!enableOnMobile) return false;\n        }\n        \n        // 加载图片并启动\n        const img = new Image();\n        img.onload = function() {\n            startSakura(img);\n        };\n        img.src = imageUrl;\n        return true; // 返回true表示已启动\n    }\n}\n\n// 窗口调整大小时重置canvas\nwindow.addEventListener('resize', () => {\n    const canvas = document.getElementById('canvas_sakura');\n    if (canvas) {\n        canvas.width = window.innerWidth;\n        canvas.height = window.innerHeight;\n    }\n});\n\n// 页面卸载时清理资源\nwindow.addEventListener('beforeunload', () => {\n    if (stop) {\n        cancelAnimationFrame(stop);\n    }\n});\n\n// 在这里添加你的图片路径并启动特效\n// 将下面的 'your-sakura-image-url.jpg' 替换为你的樱花图片URL\ntoggleSakura('https://u.sam7.top/2NkzEk');\n\n// 导出函数供外部调用\nwindow.toggleSakura = toggleSakura;\nwindow.isMobileDevice = isMobileDevice;\n\n\n```\n\n{% endfolding %}\n\n### 14. 文章路由\n\n参考博主[BoBoBlog](https://blog.bxzdyg.cn/)文章\n\n[使用Hexo和Stellar搭建个人博客网站【超详细贴心保姆级教程💖】 - BoBoBlog](https://blog.bxzdyg.cn/p/使用Hexo和Stellar搭建个人博客网站/#文章路由（选）)\n\n能够解决中文网页标题转义的现象，并且创建文章自动添加abbrlink\n\n```bash\nnpm install hexo-abbrlink --save\n```\n\n在 `blog/_config.yml` 中找到对应 `permalink` 标签，进行修改即可：\n\n```yaml _config.yaml\nurl: sam7.top\npermalink: :year:month/:title/ #:year/:month/:day/:title/\nabbrlink:\n  alg: crc16  #算法： crc16(default) and crc32\n  rep: dec    #进制： dec(default) and hex\npermalink_defaults:\n```\n\n使用了这个每使用命令新建一篇文章会在头代码上插入abbrlink:及对应的转码后的代码,\n\n这使得他会自动去匹配每个md文件的头代码中的abbrlink\n\n不同算法、进制生成的链接格式如下：\n\n| 算法  | 进制 | 生成链接示例                                 |\n| ----- | ---- | -------------------------------------------- |\n| crc16 | hex  | <https://yourname.github.io/p/66c8.html>       |\n| crc16 | dec  | <https://yourname.github.io/p/65535.html>      |\n| crc32 | hex  | <https://yourname.github.io/p/8ddf18fb.html>   |\n| crc32 | dec  | <https://yourname.github.io/p/1690090958.html> |\n\n### 15. 主题深浅色切换\n\n参考博主[BoBoBlog](https://blog.bxzdyg.cn/)，主题颜色设置为自动。\n\n```yaml 主题配置文件\nstyle:\n  prefers_theme: auto # auto / light / dark\n  smooth_scroll: true # true / false 开启时如果目录过长可能无法准确定位\n```\n\n#### 15.1 功能实现\n\n首先在 主题配置文件中`footer.social`处增加“主题切换”按钮配置，图标为半圆，点击可用于一键切换深浅色。\n\n```yaml 主题配置文件\nfooter: \n  social:\n    theme:\n      icon: '<i class=\"fa-solid fa-circle-half-stroke fa-fade\" style=\"color: #F9D923;\"></i>'\n      title: '主题切换'\n      url: 'javascript:void(0);'\n```\n\n下一步需要在前端JS中实现主题切换功能，并为页脚“主题切换”按钮绑定点击事件。\n\n在main.js末尾增加如下代码，实现以下功能，默认跟随系统颜色变化，单击按钮切换主题深浅色。\n\n{% folding 查看代码 %}\n\n```js main.js\n// 主题切换按钮逻辑\nfunction setTheme(theme) {\n  document.documentElement.setAttribute('data-theme', theme);\n  localStorage.setItem('theme', theme);\n}\nfunction toggleTheme() {\n  const current = document.documentElement.getAttribute('data-theme');\n  setTheme(current === 'dark' ? 'light' : 'dark');\n}\n// 自动读取本地存储\n(function() {\n  const saved = localStorage.getItem('theme');\n  if (saved) setTheme(saved);\n})();\n// 跟随系统颜色变化\n(function() {\n  // 优先本地存储\n  const saved = localStorage.getItem('theme');\n  if (saved) {\n    setTheme(saved);\n  } else {\n    // 跟随系统\n    const mq = window.matchMedia('(prefers-color-scheme: dark)');\n    setTheme(mq.matches ? 'dark' : 'light');\n    mq.addEventListener('change', function(e) {\n      // 仅当未手动切换时才跟随系统\n      if (!localStorage.getItem('theme')) {\n        setTheme(e.matches ? 'dark' : 'light');\n      }\n    });\n  }\n})();\n// 绑定页脚按钮点击事件\nwindow.addEventListener('DOMContentLoaded', function () {\n  // 支持多种渲染方式，自动识别按钮\n  const themeBtns = document.querySelectorAll('.fa-circle-half-stroke');\n  themeBtns.forEach(function(btn) {\n    btn.addEventListener('click', function (e) {\n      e.preventDefault();\n      toggleTheme();\n    });\n  });\n});\n```\n\n{% endfolding %}\n\n#### 15.2 主题颜色调整\n\n深浅色主题、侧边栏、卡片、代码块颜色调整，将`theme_base.styl`主题基本颜色修改成如下内容。\n\n{% folding 查看代码 %}\n\n```stylus theme_base.styl\n// 通用 hsla 函数\nx-hsla(h = var(--hue), s = var(--sat), l = var(--light), a = var(--alpha))\n  return unquote('hsla(%s %s %s / %s)' % (h s l a))\n\n// 设置不同透明度的主题色\nx-theme-alpha(a = 1)\n  return unquote('hsla(%s %s %s / %s)' % (var(--hue) var(--sat) var(--light) a))\n\n// 设置基础主题色\nx-set-theme-with-color($color)\n  --hue: hue($color)\n  --sat: saturation($color)\n  --light: lightness($color)\n  --alpha: alpha($color)\n  --theme: x-theme-alpha(1)\n  --theme-a10: x-theme-alpha(0.1)\n  --theme-a20: x-theme-alpha(0.2)\n  --theme-a30: x-theme-alpha(0.3)\n\n// 设置链接颜色\nx-set-link-with-color($color)\n  $hue = hue($color)\n  $sat = saturation($color)\n  $light = lightness($color)\n  --link: x-hsla($hue, $sat, $light, 1)\n  --link-a20: x-hsla($hue, $sat, $light, 0.2)\n\n// 设置背景色\nx-set-bg-colors($scheme)\n  $hue = $c-base-hue\n  $sat = 0%\n  $light = $scheme == 'dark' ? 0% : 100%\n  --bg-a20: x-hsla($hue, $sat, $light, 0.2)\n  --bg-a50: x-hsla($hue, $sat, $light, 0.5)\n  --bg-a60: x-hsla($hue, $sat, $light, 0.6)\n  --bg-a75: x-hsla($hue, $sat, $light, 0.75)\n  --bg-a100: x-hsla($hue, $sat, $light, 1)\n\n// 设置文本及相关色\nx-set-text-colors($scheme, $p0 = 1, $p1 = 0.8, $p2 = 0.7, $p3 = 0.5, $p4 = 0.4)\n  $hue = $c-base-hue\n  $sat = 0%\n  $light = $scheme == 'dark' ? 100% : 0%\n  \n  --text: x-hsla($hue, $sat, $light, $p0)\n  --text-reverse: x-hsla($hue, $sat, $scheme == 'dark' ? 0% : 100%, $p0)\n  --text-p1: x-hsla($hue, $sat, $light, $p1)\n  --text-p2: x-hsla($hue, $sat, $light, $p2)\n  --text-p3: x-hsla($hue, $sat, $light, $p3)\n  --text-p4: x-hsla($hue, $sat, $light, $p4)\n\n  --text-meta: x-hsla($hue, $sat, $light, 0.2)\n  --text-code: x-hsla($hue, $sat, $light, 0.9)\n\n  --text-a10: x-hsla($hue, $sat, $light, 0.1)\n  --text-a20: x-hsla($hue, $sat, $light, 0.2)\n\n  $sat = $scheme == 'dark' ? 24% : 50%\n  $light = $scheme == 'dark' ? 72% : 12%\n  $alpha = $scheme == 'dark' ? 0.08 : 0.04\n  --block: x-hsla($hue, $sat, $light, $alpha)\n  --block-border: x-hsla($hue, $sat, $light, $alpha * 1.5)\n\n// 设置图片滤镜 - 深色模式图片背景为#31383A，对比度更低\nx-set-image-filters($scheme)\n  if $scheme == 'dark'\n    --image-filter: invert(1) hue-rotate(180deg)\n    --image-brightness: 0.65  // 降低亮度，使背景接近#31383A\n    --image-contrast: 0.85    // 进一步降低对比度\n    --image-saturate: 0.9     // 稍微降低饱和度\n    --image-filter-value: invert(1) hue-rotate(180deg) brightness(0.65) contrast(0.85) saturate(0.9)\n  else\n    --image-filter: none\n    --image-brightness: 1\n    --image-contrast: 1\n    --image-saturate: 1\n    --image-filter-value: none\n\n// ---------------- apply theme ----------------\n// 设置浅色模式\ndynamic-theme-light()\n  $hue = $c-base-hue\n  --background: x-hsla($hue, 20%, 98%, 1)\n  --card: $site-background-image ? hsla(white, 0.5) : white\n\n  x-set-bg-colors('light')\n  x-set-text-colors('light')\n  x-set-image-filters('light')\n\n// 设置深色模式\ndynamic-theme-dark()\n  $hue = $c-base-hue\n  --background: x-hsla($hue, 8%, 12%, 1)\n  @media screen and (max-width: $device-mobile-max)\n    --background: black\n  --card: $site-background-image ? hsla(white, 0.25) : x-hsla($hue, 10%, 24%, 1)\n\n  x-set-bg-colors('dark')\n  x-set-text-colors('dark')\n  x-set-image-filters('dark')\n  --text-code: x-hsla(20, 75, 60, 1)\n\n:root\n  // 主题色\n  x-set-theme-with-color($c-theme)\n  // 强调色\n  --accent: $c-accent\n  // 链接\n  x-set-link-with-color($c-link)\n\n  // dynamic colors\n  dynamic-theme-light()\n  @media (prefers-color-scheme: dark)\n    dynamic-theme-dark()\n\n:root[data-theme=\"light\"]\n  dynamic-theme-light()\n\n:root[data-theme=\"dark\"]\n  dynamic-theme-dark()\n\n// ========== 图片主题变化解决方案 ==========\n\n// 深色模式下的图片滤镜应用 - 背景为#31383A，对比度更低，保护左侧栏\n:root[data-theme=\"dark\"]\n  // 应用滤镜到内容区域的图片\n  .post-content img,\n  .article-content img,\n  .entry-content img,\n  .markdown-body img,\n  .content img,\n  .post-body img,\n  [class*=\"content\"] img:not(.no-theme):not(.emoji)\n    filter: invert(1) hue-rotate(180deg) brightness(0.65) contrast(0.85) saturate(0.9)\n    transition: filter 0.3s ease\n  \n  // 保护左侧栏和其他UI元素\n  .sidebar img,\n  .widget img,\n  .navbar img,\n  .header img,\n  .footer img,\n  .avatar,\n  .logo,\n  .site-brand img,\n  .site-logo img,\n  .author-avatar img,\n  .no-theme\n    filter: none !important\n\n  // 对于需要更浅背景的图片\n  img[data-light-bg],\n  .light-bg-img\n    filter: invert(1) hue-rotate(180deg) brightness(0.8) contrast(0.9) saturate(0.95) !important\n  \n  // 对于需要保持较深背景的图片\n  img[data-dark-bg],\n  .dark-bg-img\n    filter: invert(1) hue-rotate(180deg) brightness(0.5) contrast(0.8) saturate(0.85) !important\n\n// 表情图片不随主题变化\n.emoji,\n.emoticon,\n[class*=\"emoji\"],\n[class*=\"emoticon\"],\nimg[src*=\"emoji\"],\nimg[src*=\"emoticon\"],\nimg[data-emoji]\n  filter: none !important\n\n// 方法2: 使用CSS变量（如果浏览器支持）\nimg.theme-aware:not(.emoji)\n  filter: var(--image-filter-value)\n  transition: filter 0.3s ease\n\n// 方法3: 为特定类型的图片添加主题支持\n.themed-image:not(.emoji)\n  :root[data-theme=\"dark\"] &\n    filter: invert(1) hue-rotate(180deg) brightness(0.65) contrast(0.85) saturate(0.9)\n    transition: filter 0.3s ease\n  \n  :root[data-theme=\"light\"] &\n    filter: none\n    transition: filter 0.3s ease\n\n// 确保左侧栏图片不受影响\n.sidebar,\n.widget,\n.navbar,\n.header,\n.footer\n  img\n    filter: none !important\n\n// 额外选项：如果需要完全禁用某些图片的主题变化\n.no-theme,\n[data-no-theme]\n  filter: none !important\n\n```\n\n{% endfolding %}\n\n主题配置文件中修改如下\n\n```yaml 主题配置文件\n  leftbar:\n    # 可以设置：纯色/渐变色/图片作为背景\n    background-color:  var(--block) #var(--card) var(--block)\n    background-image: #url(https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.13/image/sidebar-bg1@small.jpg)\n    blur-px: 11px\n    blur-bg: var(--bg-a33)\n    background-opacity: 1\n  paginator:\n    prev: https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.12/arrow/f049bbd4e88ec.svg\n    next: https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.12/arrow/064b95430caf4.svg\n  error_page: https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.12/404/1c830bfcd517d.svg\n  site: # 使用 background-image 后，blur 设置才有效\n    background-color:  var(--background) #var(--bg-a11) var(--background)\n    background-image:  #url(https://t.alcy.cc/fj)\n    blur-px: 14px # 增加模糊度使背景不突兀\n    blur-bg:  var(--bg-a55)\n    blur-sat: 100% # 适当降低饱和度使背景不抢眼\n```\n\n#### 15.3  其他\n\nwaline评论和aplayer播放器都有适配，由于篇幅问题，对应章节都有描述。\n\n### 16. AI摘要\n\nstellar集成tianti GPT，付费的，[洪墨AI](https://ai.zhheo.com/)这里购买添加key就好了，绑定网页。\n\n```yaml\n# AI 摘要\n  # https://github.com/qxchuckle/Post-Summary-AI\n  tianli_gpt: \n    enable: true\n    js: https://jsd.onmicrosoft.cn/gh/qxchuckle/Post-Summary-AI@6.0/chuckle-post-ai.min.js\n    field: all # all, post, wiki\n    key: S-JAVXPRUNPV8LWXO4 # tianli_gpt key\n```\n\n### 17. 字体设置\n\n[中文网字计划-提供便捷实用的全字符集中文渲染方案](https://chinese-font.netlify.app/zh-cn/)\n\n[Maple Mono NF-CN - ZeoSeven Fonts (ZSFT)](https://fonts.zeoseven.com/items/442/#embed)\n\n根目录配置文件中，最后一行加入以下指令：\n\n```yaml 根目录配置文件\ninject:\n  head:\n    - <link rel=\"stylesheet\" href=\"https://cdn.staticfile.org/lxgw-wenkai-screen-webfont/1.6.0/lxgwwenkaiscreen.css\"> #字体引入\n    - |\n      <link rel=\"preload\" as=\"style\" crossorigin href=\"https://fontsapi.zeoseven.com/442/main/result.css\" onload=\"this.rel='stylesheet'\" onerror=\"this.href='https://fontsapi-storage.zeoseven.com/442/main/result.css'\" />\n      <noscript>\n        <link rel=\"stylesheet\" href=\"https://fontsapi.zeoseven.com/442/main/result.css\" />\n      </noscript> \n```\n\n在主题配置文件中找到 style.font-family，修改以下内容：\n\n```yaml 主题配置文件\nstyle:\n  prefers_theme: auto # auto / light / dark\n  smooth_scroll: true # true / false 开启时如果目录过长可能无法准确定位\n  font-size:\n    root: 16px # 改这个会影响全局所有文字的字号\n    body: 16px # 影响正文区域的字号，如果改成 px 则不受 root 影响\n    code: 75% # 相较于其所在行的文本大小，建议用百分比\n    codeblock: 0.8125rem # 13px\n  font-family:\n    body: '\"LXGW WenKai Screen\",system-ui, \"Microsoft Yahei\", \"Segoe UI\", Arial, sans-serif'\n    code: '\"Maple Mono NF CN\", Menlo, Monaco, Consolas, system-ui, monospace, sans-serif'\n    codeblock: '\"Maple Mono NF CN\", Menlo, Monaco, Consolas, system-ui, monospace, sans-serif'\n  text-align: left\n```\n\n### 18. 域名申请\n\n- 【EU.ORG】免费域名\n\n    [Cloudflare 解析 ORG 域名 - YOLOのBLOG](https://blog.felicx.eu.org/1263441363.html)\n\n    [终身免费 ORG 顶级域名申请 - YOLOのBLOG](https://blog.felicx.eu.org/2502663362.html)\n\n    提交域名申请已经过去一个月了，还没通过审核，石沉大海了。\n\n- [Cloudns]免费二级域名\n\n  [人人有份！免费领取一个永久域名并托管到Cloudflare做双向解析 - 知乎](https://zhuanlan.zhihu.com/p/1908463674936496903)\n\n  Cloudns二级域名Cloudflare和Vercel无法解析，只能在Cloudns使用DNS记录。\n\n  Github可以重定向，域名没有时间限制，但证书只有三个月，不知道会不会续签。\n\n- [DigitalPlat]免费域名\n\n  [DigitalPlat免费二级域名注册和Cloudflare托管教程-CSDN博客](https://blog.csdn.net/loutengyuan/article/details/149096491)\n\n  [使用Cloudflate搭建自己的免费代理节点](https://blog.eimoon.com/p/使用cloudflate搭建自己的免费代理节点/)\n  \n  DigitalPlat最多可以申请两个域名，只有一年使用期限，小于180天可以续期，虽然是二级域名，但可以被cloudflare、vercel托管。\n\n- 购买域名\n\n  国内价格对比了几家都差不太多，阿里云要便宜些，top域名比较便宜第一年8块10年240块，有活动可以更优惠。\n\n### 19. RSS订阅\n\n参考博主[BoBoBlog](https://blog.bxzdyg.cn/)\n\n可用于搜索引擎和友链拉取动态`npm i hexo-generator-feed`安装插件，根目录下配置文件添加如下内容\n\n```yaml _config.yml\nblog/_config.yml\nfeed:\n  type: atom # RSS的类型(atom/rss2)\n  path: atom.xml # 文件路径,默认是atom.xml/rss2.xml\n  limit: 20 # 展示文章的数量,使用0或则false代表展示全部hub\n#  hub:\n#    content:  # 在RSS文件中是否包含内容 ,有3个值 true/false默认不填为false\n#    content_limit: # 指定内容的长度作为摘要,仅仅在上面content设置为false和没有自定义的描述出现\n#    content_limit_delim: ' ' #上面截取描述的分隔符,截取内容是以指定的这个分隔符作为截取结束的标志.在达到规定的内容长度之前最后出现的这个分隔符之前的内容，防止从中间截断\n```\n\n然后在主题配置文件中加入以下内容，添加左侧栏footer小图标：\n\n```yaml _config.stellar.yml\nfooter:\n  social:\n\trss:\n      icon: '<i class=\"fa-solid fa-rss fa-shake\"></i>'\n      url: /atom.xml\n      \nrss: /atom.xml\n```\n\n### 20. 关于、留言板\n\n在博客源文件夹source中，新建`about messages`文件夹，在相应文件夹中新建index.md，或者直接在源文件夹下面新建`about.md`和`messages.md`,markdown内容即为展示内容,使用时直接用`/about /messages`指定路径。\n\n```yaml\n      # 这里配置子菜单，使用 nested 字段\n      nested:\n        - id: archives\n          title: 归档\n          url: /archives\n        - id: categories\n          title: 分类\n          url: /categories\n        - id: tags\n          title: 标签\n          url: /tags\n        - id: messages\n          title: 留言\n          url: /messages\n        - id: rss\n          title: RSS\n          url: /atom.xml\n        - id: friends\n          title: 友链\n          url: /friends\n        - id: about\n          title: 关于\n          url: /about\n```","slug":"blog/hexo&stellar主题配置","published":1,"updated":"2025-10-20T14:08:35.400Z","comments":1,"layout":"post","photos":[],"_id":"cuidfn7SUzrQkDgc30ncVG6pn","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"/assets/css/APlayer.min.css\"><script src=\"/assets/js/APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><script class=\"meting-secondary-script-marker\" src=\"/assets/js/Meting.min.js\"></script><h3 id=\"1-构建工具安装准备\">1. 构建工具安装准备</h3>\n<h4 id=\"1-1-Node-js环境搭建\">1.1 Node.js环境搭建</h4>\n<p>hexo基于Node.js构建,需安装Node.js依赖环境，由于ubuntu系统仓库Node.js比较旧，需前往<a href=\"https://nodejs.cn/en/download\">Node.js</a>官网按指引安装最新稳定版本。</p>\n<p>由于本博主使用的是WSL子系统，这里选择Linux系统和nvm安装方式。</p>\n<p>首先安装nvm Node.js版本管理器，再使用nvm工具包安装指定版本Node.js，Node.js自带npm软件包管理器，顺便安装yarn JavaScript软件包管理器。</p>\n<p>具体操作如下：</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Download and install nvm:</span></span><br><span class=\"line\">curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.40.3/install.sh | bash</span><br><span class=\"line\"><span class=\"comment\"># in lieu of restarting the shell</span></span><br><span class=\"line\">\\. <span class=\"string\">&quot;<span class=\"variable\">$HOME</span>/.nvm/nvm.sh&quot;</span></span><br><span class=\"line\"><span class=\"comment\"># Download and install Node.js:</span></span><br><span class=\"line\">nvm install 24</span><br><span class=\"line\"><span class=\"comment\"># Verify the Node.js version:</span></span><br><span class=\"line\">node -v <span class=\"comment\"># Should print &quot;v24.9.0&quot;.</span></span><br><span class=\"line\"><span class=\"comment\"># Verify npm version:</span></span><br><span class=\"line\">npm -v <span class=\"comment\"># Should print &quot;11.6.0&quot;.</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"1-2-NPM简介\">1.2 NPM简介</h4>\n<p><strong>NPM（Node Package Manager）</strong> 是 Node.js 的默认包管理工具，用于管理 JavaScript 项目的依赖库和工具。它允许开发者轻松地安装、更新、共享和发布代码包，同时支持版本控制和脚本运行。</p>\n<p>如果需要加速国内访问，可以配置淘宝镜像：</p>\n<p><code>npm config set registry https://registry.npmmirror.com</code></p>\n<p>以下是一些常用的 NPM 命令：</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm init <span class=\"comment\"># 初始化 package.json 文件</span></span><br><span class=\"line\">npm install <span class=\"comment\"># 安装 package.json 中的所有依赖</span></span><br><span class=\"line\">npm install &lt;包名&gt; --save-dev <span class=\"comment\"># 安装开发依赖</span></span><br><span class=\"line\">npm uninstall &lt;包名&gt; <span class=\"comment\"># 卸载依赖</span></span><br><span class=\"line\">npm update &lt;包名&gt; <span class=\"comment\"># 更新依赖</span></span><br><span class=\"line\">npm list --depth=0 <span class=\"comment\"># 查看已安装的依赖</span></span><br><span class=\"line\">npm audit <span class=\"comment\"># 检查依赖中的安全漏洞</span></span><br><span class=\"line\">npm run &lt;脚本名&gt; <span class=\"comment\"># 运行 package.json 中定义的脚本</span></span><br></pre></td></tr></table></figure>\n<p>本地与全局安装</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install express <span class=\"comment\"># 本地安装 将包安装到当前项目的 node_modules 目录，仅对该项目可用。</span></span><br><span class=\"line\">npm install -g @vue/cli <span class=\"comment\"># 全局安装 使用 -g 参数将包安装到系统范围内，适用于 CLI 工具。</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"2-HEXO配置\">2. HEXO配置</h3>\n<h4 id=\"2-1-hexo安装以及初始化\">2.1 hexo安装以及初始化</h4>\n<p>根据<a href=\"https://hexo.io/zh-cn/\">Hexo</a>官网安装指引，全局安装<code>npm install -g hexo@8.0.0</code></p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo init blog <span class=\"comment\">#初始化blog目录，目录一定为空。</span></span><br><span class=\"line\"><span class=\"built_in\">cd</span> blog</span><br><span class=\"line\">npm install <span class=\"comment\">#安装hexo所需依赖</span></span><br><span class=\"line\">hexo cl&amp;hexo g&amp;hexo s <span class=\"comment\">#清除缓存&amp;渲染网页&amp;启动本地端口服务</span></span><br><span class=\"line\">http://localhost:4000/ <span class=\"comment\">#点击链接可用浏览器本地预览博客</span></span><br></pre></td></tr></table></figure>\n<p>初始化后blog文件夹结构如下.</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">.</span><br><span class=\"line\">├── _config.yml <span class=\"comment\">#hexo配置文件</span></span><br><span class=\"line\">├── package.json</span><br><span class=\"line\">├── scaffolds <span class=\"comment\">#模板文件夹</span></span><br><span class=\"line\">├── <span class=\"built_in\">source</span> <span class=\"comment\">#资源文件夹，即网页根目录位置</span></span><br><span class=\"line\">|   ├── _drafts</span><br><span class=\"line\">|   └── _posts</span><br><span class=\"line\">└── themes <span class=\"comment\">#主题文件夹</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"2-2-hexo配置-开始折腾\">2.2 hexo配置  开始折腾</h4>\n<p>本站使用<a href=\"https://xaoxuu.com/wiki/stellar/comments/\">Stellar</a>主题构建，Stellar 是一个内置文档系统的简约商务风 Hexo 主题，支持丰富的标签和动态数据组件，帮助您简单从容地应对各种表达需求，十分推荐内容创作者使用 Stellar 开始您全新的博客之旅。</p>\n<div class=\"tag-plugin link dis-select\"><a class=\"link-card rich\" title=\"stellar主题文档\" href=\"<https://xaoxuu.com/wiki/stellar>\" target=\"_blank\" rel=\"external nofollow noopener noreferrer\" cardlink autofill=\"icon,desc\"><div class=\"top\"><div class=\"lazy img\" data-bg=\"https://cdn.jsdmirror.com/gh/cdn-x/placeholder@1.0.12/link/8f277b4ee0ecd.svg\"></div><span class=\"cap link footnote\">https://sam7.top/%3Chttps:/xaoxuu.com/wiki/stellar%3E</span></div><div class=\"bottom\"><span class=\"title\">stellar主题文档</span><span class=\"cap desc footnote\"></span></div></a></div>\n<p><code>npm i hexo-theme-stellar</code>安装稳定版本，安装路径位于<code>blog/node_modules/</code>文件夹内。</p>\n<p>在 <code>blog/_config.yml</code> 文件中找到并修改：</p>\n<p><code>theme: stellar</code></p>\n<p>将<code>blog/node_modules/_config.yml</code> 拷贝一份至<code>/blog</code>目录重命名为<code>_config.stellar.yml</code>，该配置文件优先级高于主题目录。</p>\n<p>参阅Stellar wiki选择开启需要的功能。</p>\n<h3 id=\"3-网站统计\">3. 网站统计</h3>\n<p><strong>网页底部文章统计</strong>参考博主<a href=\"https://blog.bxzdyg.cn/\">BoBoBlog</a>文章</p>\n<ul>\n<li>\n<p>安装插件：npm i hexo-wordcount –save</p>\n</li>\n<li>\n<p>还需要需要在主题文件footer.ejs里将 <code>&#123;post_count&#125;</code> 和 <code>&#123;word_count&#125;</code> 替换为实际数据。Stellar 主题页脚渲染时，content 是字符串，可以用 JS 替换。</p>\n<p>建议在ayoutDiv 函数里，渲染 markdown 前加如下替换：</p>\n<figure class=\"highlight plaintext\"><figcaption><span>footer.ejs</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// footer</span><br><span class=\"line\">el += &#x27;&lt;div class=&quot;text&quot;&gt;&#x27;</span><br><span class=\"line\">if (content) &#123;</span><br><span class=\"line\">  const postCount = site.posts.length;</span><br><span class=\"line\">  const wordCount = typeof totalcount === &#x27;function&#x27; ? totalcount(site) : 0;</span><br><span class=\"line\">  let contentStr = content;</span><br><span class=\"line\">  contentStr = contentStr.replace(&#x27;&#123;post_count&#125;&#x27;, postCount).replace(&#x27;&#123;word_count&#125;&#x27;, wordCount);</span><br><span class=\"line\">  el += markdown(contentStr)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>然后在主题配置文件footer:content:增加如下代码，即可实现显示网站总文章字数统计。</p>\n<figure class=\"highlight yaml\"><figcaption><span>主题配置文件</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">&lt;span</span> <span class=\"string\">class=&quot;totalcount&quot;&gt;共发表</span> &#123;<span class=\"string\">post_count</span>&#125; <span class=\"string\">篇Blog</span> <span class=\"string\">·</span> <span class=\"string\">&lt;/span&gt;&lt;span</span> <span class=\"string\">class=&quot;post-count&quot;&gt;总计</span> &#123;<span class=\"string\">word_count</span>&#125; <span class=\"string\">字&lt;/span</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p><strong>网页访问统计</strong>由于不蒜子老是挂，现在使用的是Vercount插件，不蒜子的优化版本。<a href=\"https://ohevan.com/vercount-website-counter-busuanzi-alternative.html\">Vercount: 一个比不蒜子更好的网站计数器 | EvanNotFound’s Blog</a></p>\n<div class=\"tag-plugin tabs\" align=\"center\"id=\"tab_1\"><div class=\"nav-tabs\"><div class=\"tab active\"><a href=\"#tab_1-1\">显示效果</a></div><div class=\"tab\"><a href=\"#tab_1-2\">修改内容</a></div></div><div class=\"tab-content\"><div class=\"tab-pane active\" id=\"tab_1-1\"><p>需要修改主题配置文件，在<code>footer：→ content：</code>位置添加如下。内容</p>\n<p><img src=\"https://u.sam7.top/NYCBsQ\" alt=\"image-20251018141423327\"></p></div><div class=\"tab-pane\" id=\"tab_1-2\"><figure class=\"highlight yml\"><figcaption><span>blog/_config.stellar.yml</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">content:</span> <span class=\"string\">|</span> <span class=\"comment\"># 支持 Markdown 格式</span></span><br><span class=\"line\">        <span class=\"string\">&lt;center&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"string\">网站由</span> [&#123;<span class=\"string\">author.name</span>&#125;]<span class=\"string\">(/)</span> <span class=\"string\">©</span> <span class=\"number\">2025</span><span class=\"string\">使用</span> [&#123;<span class=\"string\">theme.name</span>&#125;]<span class=\"string\">(&#123;theme.tree&#125;)</span> <span class=\"string\">主题创建</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"string\">&lt;span</span> <span class=\"string\">id=&quot;runtime_span&quot;&gt;&lt;/span&gt;</span></span><br><span class=\"line\">        <span class=\"string\">&lt;script</span> <span class=\"string\">type=&quot;text/javascript&quot;&gt;</span></span><br><span class=\"line\">        <span class=\"string\">function</span> <span class=\"string\">show_runtime()</span> &#123;</span><br><span class=\"line\">            <span class=\"string\">window.setTimeout(&quot;show_runtime()&quot;</span>, <span class=\"number\">1000</span><span class=\"string\">);</span></span><br><span class=\"line\">            <span class=\"string\">X</span> <span class=\"string\">=</span> <span class=\"string\">new</span> <span class=\"string\">Date(&quot;2025/09/06</span> <span class=\"number\">19</span><span class=\"string\">:00:00&quot;);</span></span><br><span class=\"line\">            <span class=\"string\">Y</span> <span class=\"string\">=</span> <span class=\"string\">new</span> <span class=\"string\">Date();</span></span><br><span class=\"line\">            <span class=\"string\">T</span> <span class=\"string\">=</span> <span class=\"string\">(Y.getTime()</span> <span class=\"bullet\">-</span> <span class=\"string\">X.getTime());</span></span><br><span class=\"line\">            <span class=\"string\">M</span> <span class=\"string\">=</span> <span class=\"number\">24</span> <span class=\"string\">*</span> <span class=\"number\">60</span> <span class=\"string\">*</span> <span class=\"number\">60</span> <span class=\"string\">*</span> <span class=\"number\">1000</span><span class=\"string\">;</span></span><br><span class=\"line\">            <span class=\"string\">a</span> <span class=\"string\">=</span> <span class=\"string\">T</span> <span class=\"string\">/</span> <span class=\"string\">M;</span></span><br><span class=\"line\">            <span class=\"string\">A</span> <span class=\"string\">=</span> <span class=\"string\">Math.floor(a);</span></span><br><span class=\"line\">            <span class=\"string\">b</span> <span class=\"string\">=</span> <span class=\"string\">(a</span> <span class=\"bullet\">-</span> <span class=\"string\">A)</span> <span class=\"string\">*</span> <span class=\"number\">24</span><span class=\"string\">;</span></span><br><span class=\"line\">            <span class=\"string\">B</span> <span class=\"string\">=</span> <span class=\"string\">Math.floor(b);</span></span><br><span class=\"line\">            <span class=\"string\">c</span> <span class=\"string\">=</span> <span class=\"string\">(b</span> <span class=\"bullet\">-</span> <span class=\"string\">B)</span> <span class=\"string\">*</span> <span class=\"number\">60</span><span class=\"string\">;</span></span><br><span class=\"line\">            <span class=\"string\">C</span> <span class=\"string\">=</span> <span class=\"string\">Math.floor((b</span> <span class=\"bullet\">-</span> <span class=\"string\">B)</span> <span class=\"string\">*</span> <span class=\"number\">60</span><span class=\"string\">);</span></span><br><span class=\"line\">            <span class=\"string\">D</span> <span class=\"string\">=</span> <span class=\"string\">Math.floor((c</span> <span class=\"bullet\">-</span> <span class=\"string\">C)</span> <span class=\"string\">*</span> <span class=\"number\">60</span><span class=\"string\">);</span></span><br><span class=\"line\">            <span class=\"string\">runtime_span.innerHTML</span> <span class=\"string\">=</span> <span class=\"string\">&quot;网站已运行 &quot;</span> <span class=\"string\">+</span> <span class=\"string\">A</span> <span class=\"string\">+</span> <span class=\"string\">&quot;天&quot;</span> <span class=\"string\">+</span> <span class=\"string\">B</span> <span class=\"string\">+</span> <span class=\"string\">&quot;小时&quot;</span> <span class=\"string\">+</span> <span class=\"string\">C</span> <span class=\"string\">+</span> <span class=\"string\">&quot;分&quot;</span> <span class=\"string\">+</span> <span class=\"string\">D</span> <span class=\"string\">+</span> <span class=\"string\">&quot;秒&quot;</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"string\">show_runtime();</span></span><br><span class=\"line\">        <span class=\"string\">&lt;/script&gt;</span></span><br><span class=\"line\">        <span class=\"string\">&lt;!--不蒜子计数器</span> <span class=\"string\">https://ohevan.com/vercount-website-counter-busuanzi-alternative.html--&gt;</span></span><br><span class=\"line\">        <span class=\"string\">&lt;script</span> <span class=\"string\">defer</span> <span class=\"string\">src=&quot;https://vercount.one/js&quot;&gt;&lt;/script&gt;</span></span><br><span class=\"line\">        <span class=\"string\">&lt;!--添加一个访问量--&gt;</span></span><br><span class=\"line\">        <span class=\"string\">总访问&lt;span</span> <span class=\"string\">id=&quot;busuanzi_value_site_pv&quot;&gt;&lt;/span&gt;次</span> <span class=\"string\">·</span> <span class=\"string\">总访客&lt;span</span> <span class=\"string\">id=&quot;busuanzi_value_site_uv&quot;&gt;&lt;/span&gt;人</span> <span class=\"string\">·</span> <span class=\"string\">本页访问&lt;span</span> <span class=\"string\">id=&quot;busuanzi_value_page_pv&quot;&gt;&lt;/span&gt;次</span></span><br><span class=\"line\">        <span class=\"string\">&lt;span</span> <span class=\"string\">class=&quot;totalcount&quot;&gt;共发表</span> &#123;<span class=\"string\">post_count</span>&#125; <span class=\"string\">篇Blog</span> <span class=\"string\">·</span> <span class=\"string\">&lt;/span&gt;&lt;span</span> <span class=\"string\">class=&quot;post-count&quot;&gt;总计</span> &#123;<span class=\"string\">word_count</span>&#125; <span class=\"string\">字&lt;/span&gt;</span></span><br><span class=\"line\">        <span class=\"string\">&lt;/center&gt;</span></span><br><span class=\"line\">        <span class=\"string\">&lt;div</span> <span class=\"string\">style=&quot;display:</span> <span class=\"string\">flex;justify-content:</span> <span class=\"string\">center;align-items:</span> <span class=\"string\">center;margin:</span> <span class=\"string\">10px;&quot;&gt;</span></span><br><span class=\"line\">          <span class=\"string\">&lt;a</span> <span class=\"string\">target=&quot;_blank&quot;</span> <span class=\"string\">rel=&quot;noopener&quot;</span> <span class=\"string\">href=&quot;https://notbyai.fyi/&quot;&gt;&lt;img</span> <span class=\"string\">class=&quot;lazy</span> <span class=\"string\">entered</span> <span class=\"string\">loaded&quot;</span> <span class=\"string\">src=&quot;https://u.sam7.top/miGrfX&quot;</span> <span class=\"string\">data-src=&quot;https://u.sam7.top/miGrfX&quot;</span> <span class=\"string\">alt=&quot;全部都是博主用心学编写的啊！不是ai啊&quot;</span> <span class=\"string\">style=&quot;width:100px;height:35px;margin-right:</span> <span class=\"string\">10px</span> <span class=\"string\">&quot; id=&quot;</span><span class=\"string\">notbyai&quot;</span> <span class=\"string\">data-ll-status=&quot;loaded&quot;&gt;&lt;/a&gt;</span></span><br><span class=\"line\">          <span class=\"string\">&lt;a</span> <span class=\"string\">target=&quot;_blank&quot;</span> <span class=\"string\">rel=&quot;noopener&quot;</span> <span class=\"string\">href=&quot;https://creativecommons.org/licenses/by-nc-sa/4.0/&quot;&gt;&lt;img</span> <span class=\"string\">class=&quot;lazy</span> <span class=\"string\">entered</span> <span class=\"string\">loaded&quot;</span> <span class=\"string\">src=&quot;https://u.sam7.top/2BJDeW&quot;</span> <span class=\"string\">data-src=&quot;https://u.sam7.top/2BJDeW&quot;</span> <span class=\"string\">alt=&quot;只要保留原作者姓名并在基于原作创作的新作品适用同类型的许可协议，即可基于非商业目的对原作重新编排、改编或者再创作。&quot;</span> <span class=\"string\">style=&quot;width:100px;height:35px&quot;</span> <span class=\"string\">data-ll-status=&quot;loaded&quot;&gt;&lt;/a&gt;</span></span><br><span class=\"line\">        <span class=\"string\">&lt;/div&gt;</span></span><br></pre></td></tr></table></figure></div></div></div>\n<h3 id=\"4-评论系统\">4. 评论系统</h3>\n<h4 id=\"4-1-waline启用\">4.1 waline启用</h4>\n<p>stellar已集成waline插件，首先主题配置文件选择启用waline，具体配置见以下代码。</p>\n<p>然后跟着主页<a href=\"https://waline.js.org/guide/get-started/\">快速上手 | Waline</a> wiki一步步搭建到vercel。</p>\n<p><a href=\"https://skyreeves.github.io/\">SkyReeves</a>博主写的很详细，参考<a href=\"https://skyreeves.github.io/post/69ee63d6.html\">hexo博客引入Waline评论模块 - SkyReeves</a></p>\n<details class=\"tag-plugin colorful folding\" ><summary><p>查看代码</p>\n</summary><div class=\"body\"><figure class=\"highlight yaml\"><figcaption><span>主题配置文件</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">comments:</span></span><br><span class=\"line\">  <span class=\"attr\">service:</span> <span class=\"string\">waline</span> <span class=\"comment\"># beaudar, utterances, giscus, twikoo, waline, artalk</span></span><br><span class=\"line\">  <span class=\"attr\">comment_title:</span> <span class=\"string\">快来参与讨论吧~</span></span><br><span class=\"line\">  <span class=\"attr\">lazyload:</span> <span class=\"literal\">true</span> <span class=\"comment\"># true / false</span></span><br><span class=\"line\">  <span class=\"attr\">custom_css:</span> <span class=\"string\">waline</span> <span class=\"comment\"># artalk,twikoo,... 可以为没有全局启用的评论加载自定义样式</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"attr\">waline:</span></span><br><span class=\"line\">    <span class=\"attr\">js:</span> <span class=\"string\">https://unpkg.com/@waline/client@v3/dist/waline.js</span> <span class=\"comment\">#https://gcore.jsdelivr.net/npm/@waline/client@3.1/dist/waline.js</span></span><br><span class=\"line\">    <span class=\"attr\">css:</span> <span class=\"string\">https://unpkg.com/@waline/client@v3/dist/waline.css</span> <span class=\"comment\">#https://gcore.jsdelivr.net/npm/@waline/client@3.1/dist/waline.css</span></span><br><span class=\"line\">    <span class=\"attr\">meta_css:</span> <span class=\"string\">https://unpkg.com/@waline/client@v3/dist/waline-meta.css</span> \t\t        <span class=\"comment\">#https://gcore.jsdelivr.net/npm/@waline/client@3.1/dist/waline-meta.css</span></span><br><span class=\"line\">    <span class=\"comment\"># Waline server address url, you should set this to your own link</span></span><br><span class=\"line\">    <span class=\"attr\">serverURL:</span> </span><br><span class=\"line\">    <span class=\"comment\"># If false, comment count will only be displayed in post page, not in home page</span></span><br><span class=\"line\">    <span class=\"attr\">commentCount:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">    <span class=\"comment\"># Pageviews count, <span class=\"doctag\">Note:</span> You should not enable both `waline.pageview` and `leancloud_visitors`.</span></span><br><span class=\"line\">    <span class=\"attr\">pageview:</span> <span class=\"literal\">false</span></span><br><span class=\"line\">    <span class=\"attr\">locale:</span></span><br><span class=\"line\">      <span class=\"comment\"># #自定义反应标题。如果像我一样不想要反应标题，可以在这一项里留空。</span></span><br><span class=\"line\">      <span class=\"comment\"># reactionTitle:  </span></span><br><span class=\"line\">      <span class=\"comment\"># #反应表情的文章描述</span></span><br><span class=\"line\">      <span class=\"comment\"># reaction0: 爱你哟</span></span><br><span class=\"line\">      <span class=\"comment\"># reaction1: oh~~</span></span><br><span class=\"line\">      <span class=\"comment\"># reaction2: 嘚瑟~</span></span><br><span class=\"line\">      <span class=\"comment\"># reaction3: 无语</span></span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"attr\">placeholder:</span> </span><br><span class=\"line\">       <span class=\"string\">嗨，朋友，留个脚印再走呗。</span>  </span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">#反应表情组</span></span><br><span class=\"line\">    <span class=\"attr\">reaction:</span> </span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">https://img.skyreeves.com/emojis/blobs/ablobcatheart.png</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">https://img.skyreeves.com/emojis/blobs/ablobcatattentionreverse.png</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">https://img.skyreeves.com/emojis/blobs/ablobcatrainbow.png</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">https://img.skyreeves.com/emojis/blobs/blobcatsaitama.png</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">https://img.skyreeves.com/emojis/blobs/blobcatflip.png</span></span><br><span class=\"line\">    <span class=\"comment\"># Custom emoji</span></span><br><span class=\"line\">    <span class=\"attr\">emoji:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">https://unpkg.com/@waline/emojis@1.1.0/weibo</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">https://unpkg.com/@waline/emojis@1.1.0/alus</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">https://unpkg.com/@waline/emojis@1.1.0/bilibili</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">https://unpkg.com/@waline/emojis@1.1.0/qq</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">https://unpkg.com/@waline/emojis@1.1.0/tieba</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">https://unpkg.com/@waline/emojis@1.1.0/tw-emoji</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">https://unpkg.com/@waline/emojis@1.1.0/bmoji</span></span><br></pre></td></tr></table></figure> </div></details>\n<h4 id=\"4-2-评论框颜色跟随\">4.2 评论框颜色跟随</h4>\n<p>启用后会发现，评论区域部分元素无法显示，需要修改<code>waline.styl</code>文件，调整颜色对比度。</p>\n<div class=\"tag-plugin colorful note\" child=\"tabs\"><div class=\"body\"><div class=\"tag-plugin tabs\"id=\"tab_2\"><div class=\"nav-tabs\"><div class=\"tab active\"><a href=\"#tab_2-1\">设置失效原因</a></div><div class=\"tab\"><a href=\"#tab_2-2\">修改后stylus文件</a></div></div><div class=\"tab-content\"><div class=\"tab-pane active\" id=\"tab_2-1\"><p>为 <code>.wl-panel</code> 强制设置 <code>background: var(--waline-bgcolor) !important</code>，这样评论框会跟随主题背景色切换。重新编译并刷新页面验证效果。</p></div><div class=\"tab-pane\" id=\"tab_2-2\"><figure class=\"highlight stylus\"><figcaption><span>waline.styl</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-class\">.wl-panel</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">background</span>: <span class=\"built_in\">var</span>(--waline-bgcolor) <span class=\"meta\">!important</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.cmt-body</span> &#123;</span><br><span class=\"line\">  <span class=\"selector-class\">.wl-panel</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">margin</span>: <span class=\"number\">0.5em</span> <span class=\"number\">0</span> <span class=\"meta\">!important</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"selector-class\">.wl-meta-head</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">padding</span>: <span class=\"number\">0</span> <span class=\"meta\">!important</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"attr\">--waline-font-size</span>: <span class=\"number\">0.9375rem</span>;</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"comment\">/* 浅色模式 - 增强工具栏对比度 */</span></span><br><span class=\"line\">  <span class=\"attr\">--waline-white</span>: <span class=\"number\">#ffffff</span>;</span><br><span class=\"line\">  <span class=\"attr\">--waline-light-grey</span>: <span class=\"number\">#2c0e0eff</span>; <span class=\"comment\">/* 加深浅灰色，提升文字可读性 */</span></span><br><span class=\"line\">  <span class=\"attr\">--waline-dark-grey</span>: <span class=\"number\">#333333</span>; <span class=\"comment\">/* 加深深灰色，增强与背景对比 */</span></span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"comment\">/* 主题色强化 - 使工具栏按钮更突出 */</span></span><br><span class=\"line\">  <span class=\"attr\">--waline-theme-color</span>: <span class=\"number\">#1859bbff</span>; <span class=\"comment\">/* 稍深的主题色，增强按钮识别度 */</span></span><br><span class=\"line\">  <span class=\"attr\">--waline-active-color</span>: <span class=\"number\">#5d932b</span>; <span class=\"comment\">/* 更鲜明的活跃色，突出点击状态 */</span></span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"comment\">/* 布局颜色 - 增强工具栏区域区分 */</span></span><br><span class=\"line\">  <span class=\"attr\">--waline-color</span>: <span class=\"number\">#188dd1ff</span>;</span><br><span class=\"line\">  <span class=\"attr\">--waline-bgcolor</span>: <span class=\"number\">#ffffff</span>;</span><br><span class=\"line\">  <span class=\"attr\">--waline-bgcolor-light</span>: <span class=\"number\">#f5f5f5</span>; <span class=\"comment\">/* 稍深的浅色背景，使工具栏区域更明显 */</span></span><br><span class=\"line\">  <span class=\"attr\">--waline-bgcolor-hover</span>: <span class=\"number\">#e0e0e0</span>; <span class=\"comment\">/* 加深悬停背景，提升交互反馈 */</span></span><br><span class=\"line\">  <span class=\"attr\">--waline-border-color</span>: <span class=\"number\">#cccccc</span>; <span class=\"comment\">/* 稍深的边框，使工具栏元素边界更清晰 */</span></span><br><span class=\"line\">  <span class=\"attr\">--waline-disable-bgcolor</span>: <span class=\"number\">#f0f0f0</span>;</span><br><span class=\"line\">  <span class=\"attr\">--waline-disable-color</span>: <span class=\"number\">#888888</span>; <span class=\"comment\">/* 禁用状态颜色加深，明确不可用状态 */</span></span><br><span class=\"line\">  <span class=\"attr\">--waline-code-bgcolor</span>: <span class=\"number\">#adaaaaff</span>; <span class=\"comment\">/* 代码工具栏背景调整 */</span></span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"comment\">/* 特殊颜色 */</span></span><br><span class=\"line\">  <span class=\"attr\">--waline-bq-color</span>: <span class=\"number\">#f0f0f0</span>;</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"comment\">/* 头像 */</span></span><br><span class=\"line\">  <span class=\"attr\">--waline-avatar-size</span>: <span class=\"number\">3.25rem</span>;</span><br><span class=\"line\">  <span class=\"attr\">--waline-m-avatar-size</span>: <span class=\"built_in\">calc</span>(<span class=\"selector-tag\">var</span>(<span class=\"attr\">--waline-avatar-size</span>) * <span class=\"number\">9</span> / <span class=\"number\">13</span>);</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"comment\">/* 徽章 - 增强工具栏内徽章对比度 */</span></span><br><span class=\"line\">  <span class=\"attr\">--waline-badge-color</span>: <span class=\"number\">#2980b9</span>; <span class=\"comment\">/* 稍深的徽章色，更易识别 */</span></span><br><span class=\"line\">  <span class=\"attr\">--waline-badge-font-size</span>: <span class=\"number\">0.725em</span>;</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"comment\">/* 信息区域 - 工具栏辅助信息更清晰 */</span></span><br><span class=\"line\">  <span class=\"attr\">--waline-info-bgcolor</span>: <span class=\"number\">#f5f5f5</span>;</span><br><span class=\"line\">  <span class=\"attr\">--waline-info-color</span>: <span class=\"number\">#555555</span>; <span class=\"comment\">/* 信息文字加深 */</span></span><br><span class=\"line\">  <span class=\"attr\">--waline-info-font-size</span>: <span class=\"number\">0.725em</span>;</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"comment\">/* 渲染选择 - 强化工具栏元素边框 */</span></span><br><span class=\"line\">  <span class=\"attr\">--waline-border</span>: <span class=\"number\">1px</span> solid <span class=\"selector-tag\">var</span>(<span class=\"attr\">--waline-border-color</span>);</span><br><span class=\"line\">  <span class=\"attr\">--waline-avatar-radius</span>: <span class=\"number\">50%</span>;</span><br><span class=\"line\">  <span class=\"attr\">--waline-box-shadow</span>: <span class=\"number\">0</span> <span class=\"number\">1px</span> <span class=\"number\">4px</span> <span class=\"built_in\">rgba</span>(<span class=\"number\">0</span>,<span class=\"number\">0</span>,<span class=\"number\">0</span>,<span class=\"number\">0.15</span>); <span class=\"comment\">/* 稍强阴影，突出工具栏区域 */</span></span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"comment\">/* 工具栏特定元素强化 */</span></span><br><span class=\"line\">  <span class=\"selector-class\">.wl-toolbar</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">border-bottom</span>: <span class=\"number\">1px</span> solid <span class=\"number\">#e0e0e0</span>; <span class=\"comment\">/* 工具栏底部边框加深 */</span></span><br><span class=\"line\">    <span class=\"attribute\">padding</span>: <span class=\"number\">0.5em</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"attribute\">background-color</span>: <span class=\"number\">#fafafa</span>; <span class=\"comment\">/* 工具栏背景与主区域区分 */</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"comment\">/* 工具栏按钮增强 */</span></span><br><span class=\"line\">  <span class=\"selector-class\">.wl-toolbar</span> <span class=\"selector-tag\">button</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">color</span>: <span class=\"number\">#555555</span> <span class=\"meta\">!important</span>; <span class=\"comment\">/* 按钮图标颜色加深 */</span></span><br><span class=\"line\">    <span class=\"attribute\">padding</span>: <span class=\"number\">0.3em</span> <span class=\"number\">0.6em</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"selector-class\">.wl-toolbar</span> <span class=\"selector-tag\">button</span><span class=\"selector-pseudo\">:hover</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">background-color</span>: <span class=\"number\">#e8e8e8</span> <span class=\"meta\">!important</span>; <span class=\"comment\">/* 悬停背景更明显 */</span></span><br><span class=\"line\">    <span class=\"attribute\">color</span>: <span class=\"number\">#222222</span> <span class=\"meta\">!important</span>; <span class=\"comment\">/* 悬停时图标颜色加深 */</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"comment\">/* 输入框强化 */</span></span><br><span class=\"line\">  <span class=\"selector-class\">.wl-editor</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">border</span>: <span class=\"number\">1px</span> solid <span class=\"number\">#dddddd</span> <span class=\"meta\">!important</span>;</span><br><span class=\"line\">    <span class=\"attribute\">box-shadow</span>: inset <span class=\"number\">0</span> <span class=\"number\">1px</span> <span class=\"number\">3px</span> <span class=\"built_in\">rgba</span>(<span class=\"number\">0</span>,<span class=\"number\">0</span>,<span class=\"number\">0</span>,<span class=\"number\">0.05</span>) <span class=\"meta\">!important</span>; <span class=\"comment\">/* 内阴影增强输入框边界感 */</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.cmt-body</span><span class=\"selector-class\">.waline</span> &#123;</span><br><span class=\"line\">  <span class=\"built_in\">ondark</span>() &#123;</span><br><span class=\"line\">    <span class=\"comment\">/* 深色模式增强对比度设置 */</span></span><br><span class=\"line\">    <span class=\"attr\">--waline-white</span>: <span class=\"number\">#0a0a0a</span>;</span><br><span class=\"line\">    <span class=\"attr\">--waline-light-grey</span>: <span class=\"number\">#b0b0b0</span>; <span class=\"comment\">/* 明显提亮的浅灰色 */</span></span><br><span class=\"line\">    <span class=\"attr\">--waline-dark-grey</span>: <span class=\"number\">#e0e0e0</span>; <span class=\"comment\">/* 接近白色的深灰色，提升文字可读性 */</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">/* 布局颜色 - 更大的明暗差异 */</span></span><br><span class=\"line\">    <span class=\"attr\">--waline-color</span>: <span class=\"number\">#f0f0f0</span>; <span class=\"comment\">/* 极亮的文字颜色 */</span></span><br><span class=\"line\">    <span class=\"attr\">--waline-bgcolor</span>: <span class=\"selector-tag\">var</span>(<span class=\"attr\">--block</span>, <span class=\"number\">#121212</span>); <span class=\"comment\">/* 更深的主背景 */</span></span><br><span class=\"line\">    <span class=\"attr\">--waline-bgcolor-light</span>: <span class=\"number\">#222222</span>; <span class=\"comment\">/* 明显浅于主背景的次级背景 */</span></span><br><span class=\"line\">    <span class=\"attr\">--waline-bgcolor-hover</span>: <span class=\"number\">#2C3E50</span>; <span class=\"comment\">/* 悬停状态明显区分 */</span></span><br><span class=\"line\">    <span class=\"attr\">--waline-border-color</span>: <span class=\"number\">#383838</span>; <span class=\"comment\">/* 更粗的视觉边框效果 */</span></span><br><span class=\"line\">    <span class=\"attr\">--waline-disable-bgcolor</span>: <span class=\"number\">#333333</span>;</span><br><span class=\"line\">    <span class=\"attr\">--waline-disable-color</span>: <span class=\"number\">#999999</span>; <span class=\"comment\">/* 禁用状态与可用状态明显区分 */</span></span><br><span class=\"line\">    <span class=\"attr\">--waline-code-bgcolor</span>: <span class=\"number\">#050810</span>; <span class=\"comment\">/* 代码块背景与主背景区分 */</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">/* 特殊颜色 - 增强区块感 */</span></span><br><span class=\"line\">    <span class=\"attr\">--waline-bq-color</span>: <span class=\"number\">#252525</span>; <span class=\"comment\">/* 引用区块明显区分 */</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">/* 主题色 - 在深色背景上更突出 */</span></span><br><span class=\"line\">    <span class=\"attr\">--waline-theme-color</span>: <span class=\"number\">#2983beff</span>;</span><br><span class=\"line\">    <span class=\"attr\">--waline-active-color</span>: <span class=\"number\">#7dd147</span>; <span class=\"comment\">/* 更鲜艳的活跃色 */</span></span><br><span class=\"line\">    <span class=\"attr\">--waline-badge-color</span>: <span class=\"number\">#4da6ff</span>; <span class=\"comment\">/* 徽章颜色更明亮 */</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">/* 信息区域 - 增强区分度 */</span></span><br><span class=\"line\">    <span class=\"attr\">--waline-info-bgcolor</span>: <span class=\"number\">#222222</span>;</span><br><span class=\"line\">    <span class=\"attr\">--waline-info-color</span>: <span class=\"number\">#cccccc</span>; <span class=\"comment\">/* 信息文字更亮 */</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">/* 强化边框和阴影效果 */</span></span><br><span class=\"line\">    <span class=\"attr\">--waline-border</span>: <span class=\"number\">1px</span> solid <span class=\"selector-tag\">var</span>(<span class=\"attr\">--waline-border-color</span>);</span><br><span class=\"line\">    <span class=\"attr\">--waline-box-shadow</span>: <span class=\"number\">0</span> <span class=\"number\">2px</span> <span class=\"number\">8px</span> <span class=\"built_in\">rgba</span>(<span class=\"number\">0</span>,<span class=\"number\">0</span>,<span class=\"number\">0</span>,<span class=\"number\">0.3</span>); <span class=\"comment\">/* 更深的阴影增强层次感 */</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">/* 计数元素特别强化 */</span></span><br><span class=\"line\">    <span class=\"selector-class\">.wl-count</span> &#123;</span><br><span class=\"line\">      <span class=\"attribute\">padding</span>: .<span class=\"number\">375em</span>;</span><br><span class=\"line\">      <span class=\"attribute\">font-weight</span>: bold;</span><br><span class=\"line\">      <span class=\"attribute\">font-size</span>: <span class=\"number\">1.25em</span>;</span><br><span class=\"line\">      <span class=\"attribute\">color</span>: <span class=\"number\">#ffffff</span>;</span><br><span class=\"line\">      <span class=\"attribute\">background-color</span>: <span class=\"number\">#1C1F21</span>;</span><br><span class=\"line\">      <span class=\"attribute\">border-radius</span>: <span class=\"number\">4px</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">/* 评论项之间添加分隔线增强区分 */</span></span><br><span class=\"line\">    <span class=\"selector-class\">.wl-item</span> &#123;</span><br><span class=\"line\">      <span class=\"attribute\">border-bottom</span>: <span class=\"number\">1px</span> solid <span class=\"built_in\">var</span>(--waline-border-color);</span><br><span class=\"line\">      <span class=\"attribute\">padding</span>: <span class=\"number\">1em</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">/* 输入框强化 */</span></span><br><span class=\"line\">    <span class=\"selector-class\">.wl-editor</span> &#123;</span><br><span class=\"line\">      <span class=\"attribute\">background-color</span>: <span class=\"number\">#050810</span> <span class=\"meta\">!important</span>;</span><br><span class=\"line\">      <span class=\"attribute\">border</span>: <span class=\"number\">1px</span> solid <span class=\"number\">#383838</span> <span class=\"meta\">!important</span>;</span><br><span class=\"line\">      <span class=\"attribute\">color</span>: <span class=\"number\">#f0f0f0</span> <span class=\"meta\">!important</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"selector-pseudo\">:root</span><span class=\"selector-attr\">[data-theme=<span class=\"string\">&quot;dark&quot;</span>]</span> &amp; &#123;</span><br><span class=\"line\">    <span class=\"built_in\">ondark</span>();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"selector-pseudo\">:root</span><span class=\"selector-pseudo\">:not</span>(<span class=\"selector-attr\">[data-theme]</span>) &amp; &#123;</span><br><span class=\"line\">    <span class=\"keyword\">@media</span> (<span class=\"attribute\">prefers-color-scheme</span>: dark) &#123;</span><br><span class=\"line\">      <span class=\"built_in\">ondark</span>();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* 修复浅色模式下评论标题显示白色的问题 */</span></span><br><span class=\"line\"><span class=\"comment\">/* 1. 基础覆盖：直接指定 .cmt-title 文本颜色 */</span></span><br><span class=\"line\"><span class=\"selector-class\">.header</span><span class=\"selector-class\">.cmt-title</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: <span class=\"number\">#333333</span> <span class=\"meta\">!important</span>; <span class=\"comment\">/* 浅色模式默认深色文本，与白色背景强对比 */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* 2. 精准适配：结合 data-theme=&quot;light&quot; 确保只作用于浅色模式 */</span></span><br><span class=\"line\"><span class=\"selector-pseudo\">:root</span><span class=\"selector-attr\">[data-theme=<span class=\"string\">&quot;light&quot;</span>]</span> <span class=\"selector-class\">.header</span><span class=\"selector-class\">.cmt-title</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: <span class=\"number\">#222222</span> <span class=\"meta\">!important</span>; <span class=\"comment\">/* 浅色模式下强制深色标题 */</span></span><br><span class=\"line\">  <span class=\"attribute\">opacity</span>: <span class=\"number\">1</span> <span class=\"meta\">!important</span>; <span class=\"comment\">/* 避免被其他样式设置透明 */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* 3. 兜底：防止标题内的 p 标签继承白色 */</span></span><br><span class=\"line\"><span class=\"selector-pseudo\">:root</span><span class=\"selector-attr\">[data-theme=<span class=\"string\">&quot;light&quot;</span>]</span> <span class=\"selector-class\">.header</span><span class=\"selector-class\">.cmt-title</span> <span class=\"selector-tag\">p</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: inherit <span class=\"meta\">!important</span>; <span class=\"comment\">/* 继承父级的深色，而非白色 */</span></span><br><span class=\"line\">  <span class=\"attribute\">margin</span>: <span class=\"number\">0</span>; <span class=\"comment\">/* 可选：修复可能的默认边距问题 */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* 4. 深色模式兼容（避免影响深色模式） */</span></span><br><span class=\"line\"><span class=\"selector-pseudo\">:root</span><span class=\"selector-attr\">[data-theme=<span class=\"string\">&quot;dark&quot;</span>]</span> <span class=\"selector-class\">.header</span><span class=\"selector-class\">.cmt-title</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: <span class=\"number\">#ffffff</span> <span class=\"meta\">!important</span>; <span class=\"comment\">/* 深色模式保持白色标题，确保正常显示 */</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></div></div></div></div></div>\n<h3 id=\"5-面包屑文章字数统计\">5.  面包屑文章字数统计</h3>\n<p>主题布局文件article_banner.ejs中添加如下代码，即可实现功能。</p>\n<details class=\"tag-plugin colorful folding\" ><summary><p>代码折叠</p>\n</summary><div class=\"body\"><figure class=\"highlight plaintext\"><figcaption><span>article_banner.ejs</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;%</span><br><span class=\"line\">var banner = &#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">if (page.banner) &#123;</span><br><span class=\"line\">  banner.url = page.banner</span><br><span class=\"line\">&#125; else if (theme.topic.tree[page.topic]?.banner != null) &#123;</span><br><span class=\"line\">  banner.url = theme.topic.tree[page.topic]?.banner</span><br><span class=\"line\">&#125; else if (theme.wiki.tree[page.wiki]?.banner != null) &#123;</span><br><span class=\"line\">  banner.url = theme.wiki.tree[page.wiki]?.banner</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">banner = Object.assign(banner, page.banner_info)</span><br><span class=\"line\">// 标题</span><br><span class=\"line\">if (banner.title == null) &#123;</span><br><span class=\"line\">  banner.title = page.h1 != null ? page.h1 : page.title</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">// 副标题</span><br><span class=\"line\">if (banner.subtitle == null) &#123;</span><br><span class=\"line\">  banner.subtitle = page.subtitle</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">// 生成日期信息（确保更新时间常显）</span><br><span class=\"line\">function layoutDateInfo() &#123;</span><br><span class=\"line\">  const publishTime = page.date ? page.date.format(&#x27;YYYY-MM-DD&#x27;) : &#x27;未知时间&#x27;;</span><br><span class=\"line\">  // 无论是否更新都显示更新时间</span><br><span class=\"line\">  const updateTime = page.updated ? page.updated.format(&#x27;YYYY-MM-DD&#x27;) : publishTime;</span><br><span class=\"line\">  </span><br><span class=\"line\">  // 使用4个非换行空格分隔（&amp;nbsp;）</span><br><span class=\"line\">  return `&lt;span class=&quot;publish-time&quot;&gt;发布时间：$&#123;publishTime&#125;&lt;/span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;</span><br><span class=\"line\">          &lt;span class=&quot;update-time&quot;&gt;更新时间：$&#123;updateTime&#125;&lt;/span&gt;`;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">function layoutBreadcrumb() &#123;</span><br><span class=\"line\">  if (page.breadcrumb === false) &#123;</span><br><span class=\"line\">    return `&lt;div class=&quot;top&quot;&gt;&lt;/div&gt;`</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  </span><br><span class=\"line\">  // 使用hexo-wordcount计算文章元信息</span><br><span class=\"line\">  let metaInfo = &#x27;&#x27;</span><br><span class=\"line\">  if (page.layout == &#x27;post&#x27; &amp;&amp; page.content) &#123;</span><br><span class=\"line\">    // 调用hexo-wordcount提供的函数</span><br><span class=\"line\">    const wordCount = wordcount(page.content);</span><br><span class=\"line\">    const readTime = min2read(page.content);</span><br><span class=\"line\">    // 使用4个非换行空格分隔（&amp;nbsp;）</span><br><span class=\"line\">    metaInfo = `</span><br><span class=\"line\">      &lt;div class=&quot;breadcrumb-meta text-sm&quot;&gt;</span><br><span class=\"line\">        文章字数：$&#123;wordCount&#125;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;阅读时长：$&#123;readTime&#125;分钟</span><br><span class=\"line\">      &lt;/div&gt;</span><br><span class=\"line\">    `;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  </span><br><span class=\"line\">  // 构建面包屑导航（三行左对齐布局）</span><br><span class=\"line\">  let el = &#x27;&#x27;</span><br><span class=\"line\">  el += `&lt;div class=&quot;top bread-nav footnote&quot;&gt;`</span><br><span class=\"line\">  el += `&lt;div class=&quot;left breadcrumb-container&quot;&gt;`</span><br><span class=\"line\">  </span><br><span class=\"line\">  // 第一行：面包屑导航（左对齐）</span><br><span class=\"line\">  el += `&lt;div class=&quot;flex-row breadcrumb-path text-sm&quot; id=&quot;breadcrumb&quot; style=&quot;text-align: left;&quot;&gt;`</span><br><span class=\"line\">  el += `&lt;a class=&quot;cap breadcrumb&quot; href=&quot;$&#123;pretty_url(config.root)&#125;&quot;&gt;$&#123;__(&quot;btn.home&quot;)&#125;&lt;/a&gt;`</span><br><span class=\"line\">  if (theme.wiki.tree[page.wiki]) &#123;</span><br><span class=\"line\">    el += partial(&#x27;breadcrumb/wiki&#x27;)</span><br><span class=\"line\">  &#125; else if (page.notebook) &#123;</span><br><span class=\"line\">    el += partial(&#x27;breadcrumb/note&#x27;)</span><br><span class=\"line\">  &#125; else if (page.layout == &#x27;post&#x27;) &#123;</span><br><span class=\"line\">    el += partial(&#x27;breadcrumb/blog&#x27;)</span><br><span class=\"line\">  &#125; else &#123;</span><br><span class=\"line\">    el += partial(&#x27;breadcrumb/page&#x27;)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  el += `&lt;/div&gt;`</span><br><span class=\"line\">  </span><br><span class=\"line\">  // 第二行：文章元信息（左对齐）</span><br><span class=\"line\">  el += metaInfo ? `&lt;div style=&quot;text-align: left; padding: 4px 0;&quot;&gt;$&#123;metaInfo&#125;&lt;/div&gt;` : &#x27;&#x27;</span><br><span class=\"line\">  </span><br><span class=\"line\">  // 第三行：日期信息（左对齐，更新时间常显）</span><br><span class=\"line\">  el += `&lt;div class=&quot;breadcrumb-date text-sm&quot; style=&quot;text-align: left; padding: 4px 0;&quot;&gt;`</span><br><span class=\"line\">  el += layoutDateInfo()</span><br><span class=\"line\">  el += `&lt;/div&gt;`</span><br><span class=\"line\">  </span><br><span class=\"line\">  el += `&lt;/div&gt;` // 关闭.left</span><br><span class=\"line\">  el += `&lt;/div&gt;` // 关闭.top</span><br><span class=\"line\">  return el</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">function layoutTitle() &#123;</span><br><span class=\"line\">  if (banner.title?.length &gt; 0) &#123;</span><br><span class=\"line\">    return `&lt;h1 class=&quot;text title&quot;&gt;&lt;span&gt;$&#123;banner.title&#125;&lt;/span&gt;&lt;/h1&gt;`</span><br><span class=\"line\">  &#125; else &#123;</span><br><span class=\"line\">    return &#x27;&#x27;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">function layoutSubtitle() &#123;</span><br><span class=\"line\">  if (banner.subtitle?.length &gt; 0) &#123;</span><br><span class=\"line\">    return `&lt;div class=&quot;text subtitle&quot;&gt;$&#123;banner.subtitle&#125;&lt;/div&gt;`</span><br><span class=\"line\">  &#125; else &#123;</span><br><span class=\"line\">    return &#x27;&#x27;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">function layoutIcon() &#123;</span><br><span class=\"line\">  if (banner.avatar?.length &gt; 0 || banner.icon?.length &gt; 0) &#123;</span><br><span class=\"line\">    return `&lt;img class=&quot;lazy avatar&quot; data-src=&quot;$&#123;banner.avatar || banner.icon&#125;&quot;&gt;`</span><br><span class=\"line\">  &#125; else &#123;</span><br><span class=\"line\">    return &#x27;&#x27;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">function layoutBottom() &#123;</span><br><span class=\"line\">  const el_icon = layoutIcon()</span><br><span class=\"line\">  const el_title = layoutTitle()</span><br><span class=\"line\">  const el_subtitle = layoutSubtitle()</span><br><span class=\"line\">  let cls = &#x27;&#x27;</span><br><span class=\"line\">  if (el_title.length &gt; 0 &amp;&amp; el_subtitle.length == 0) &#123;</span><br><span class=\"line\">    cls += &#x27; only-title&#x27;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  if (el_title.length &gt; 0) &#123;</span><br><span class=\"line\">    return `</span><br><span class=\"line\">    &lt;div class=&quot;bottom$&#123;cls&#125;&quot;&gt;</span><br><span class=\"line\">      $&#123;el_icon&#125;</span><br><span class=\"line\">      &lt;div class=&quot;text-area&quot;&gt;</span><br><span class=\"line\">        $&#123;el_title&#125;</span><br><span class=\"line\">        $&#123;el_subtitle&#125;</span><br><span class=\"line\">      &lt;/div&gt;</span><br><span class=\"line\">    &lt;/div&gt;</span><br><span class=\"line\">    `</span><br><span class=\"line\">  &#125; else &#123;</span><br><span class=\"line\">    return ``</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">function layoutDiv() &#123;</span><br><span class=\"line\">  const bottom = layoutBottom()</span><br><span class=\"line\">  if (page.breadcrumb === false &amp;&amp; bottom.length == 0) &#123;</span><br><span class=\"line\">    return ``</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  const top = layoutBreadcrumb()</span><br><span class=\"line\">  let style = ``</span><br><span class=\"line\">  let el = ``</span><br><span class=\"line\">  el += `&lt;div class=&quot;article banner$&#123;scrollreveal(&#x27; &#x27;)&#125; top&quot;&gt;`</span><br><span class=\"line\">  if (banner.url?.length &gt; 0) &#123;</span><br><span class=\"line\">    el += `&lt;img class=&quot;lazy bg&quot; data-src=&quot;$&#123;banner.url&#125;&quot;&gt;`</span><br><span class=\"line\">    if (banner.color) &#123;</span><br><span class=\"line\">      style += &#x27; style=&quot;--text-banner:&#x27; + banner.color + &#x27;&quot;&#x27;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  el += `</span><br><span class=\"line\">  &lt;div class=&quot;content&quot;$&#123;style&#125;&gt;</span><br><span class=\"line\">    $&#123;top&#125;</span><br><span class=\"line\">    $&#123;bottom&#125;</span><br><span class=\"line\">  &lt;/div&gt;</span><br><span class=\"line\">  `</span><br><span class=\"line\">  el += `&lt;/div&gt;`</span><br><span class=\"line\">  return el</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">%&gt;</span><br><span class=\"line\">&lt;%- layoutDiv() %&gt;</span><br></pre></td></tr></table></figure> </div></details>\n<p><img src=\"https://u.sam7.top/ntjjmz\" alt=\"image-20251018133145461\"></p>\n<h3 id=\"6-动态图标配置\">6. 动态图标配置</h3>\n<p>在主题配置文件_config.stellar.yml中增加以下CSS文件，引入font-awesome图标库。在<a href=\"https://www.bootcdn.cn/font-awesome/\">font-awesome v7 CDN</a>里面找一个CDN。</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 动态图标引入</span></span><br><span class=\"line\"><span class=\"attr\">inject:</span></span><br><span class=\"line\">  <span class=\"attr\">head:</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"string\">&lt;link</span> <span class=\"string\">href=&quot;https://cdn.bootcdn.net/ajax/libs/font-awesome/7.0.0/css/all.css&quot;</span> <span class=\"string\">rel=&quot;stylesheet&quot;&gt;</span>  <span class=\"comment\"># fontawesome动态图标引入</span></span><br></pre></td></tr></table></figure>\n<p>图标格式张这样<code>&lt;i class=&quot;fa-solid fa-github fa-brands fa-bounce&quot;&gt;&lt;/i&gt;</code>，然后就可以在想要添加图标的地方使用了，<a href=\"https://fontawesome.com/\">Font Awesome</a>主页搜索相应特性的图标，大部分都是免费的。</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">footer:</span> </span><br><span class=\"line\">  <span class=\"attr\">social:</span></span><br><span class=\"line\">    <span class=\"attr\">github:</span></span><br><span class=\"line\">      <span class=\"attr\">icon:</span> <span class=\"string\">&#x27;&lt;i class=&quot;fa-solid fa-github fa-brands fa-bounce&quot;&gt;&lt;/i&gt;&#x27;</span></span><br><span class=\"line\">      <span class=\"attr\">title:</span> <span class=\"string\">&#x27;Github&#x27;</span></span><br><span class=\"line\">      <span class=\"attr\">url :</span> <span class=\"string\">/</span> </span><br></pre></td></tr></table></figure>\n<p><img src=\"https://u.sam7.top/WjAEkb\" alt=\"image-20251008112814230\"></p>\n<h3 id=\"7-图床、图片配置\">7. 图床、图片配置</h3>\n<ul>\n<li><a href=\"https://imgtolinkx.com/\">ImgToLink+</a>是一款免费、免登录图床软件，支持单个文件50M，返回短链。</li>\n</ul>\n<p><img src=\"https://u.sam7.top/QZjdN7\" alt=\"image-20251018221547852\"></p>\n<ul>\n<li>\n<p><a href=\"https://111666.best/\">16图床，永久免费，无需登录的图床</a>免费的往往很容易挂掉，用作评论区上传图床临时用可以。</p>\n<p><img src=\"https://u.sam7.top/siiZmD\" alt=\"image-20251018221644226\"></p>\n</li>\n<li>\n<p>Cloudflare好像也有免费的image服务。</p>\n</li>\n</ul>\n<h4 id=\"7-1-Piclist-Github图床配置\">7.1 Piclist Github图床配置</h4>\n<p>由于typora支持picgo和piclist图床上传，所以选用了目前还在持续更新的piclist。</p>\n<p>typora图片设置如下，插入图片时直接上传piclist图床，然后自动转义图片url。</p>\n<p><img src=\"https://u.sam7.top/mTDhyZ\" alt=\"image-20251018222011517\"></p>\n<p><a href=\"https://piclist.cn/\">PicList</a>主页下载安装最新版，选择Github图床搭建，参考<a href=\"https://doc.theojs.cn/notes/build-picture-bed\">PicGo/PicList + Github 搭建图床 | Theo Docs</a></p>\n<p>piclist相关设置</p>\n<ul>\n<li>\n<p>piclist设置图片最大800px宽度，大于800压缩至800，小于800不处理。</p>\n</li>\n<li>\n<p>使用<code>https://cdn.jsdmirror.com/gh</code>加速Github图床。</p>\n</li>\n<li>\n<p>上传成功直接复制url链接</p>\n</li>\n<li>\n<p>开启时间戳重命名</p>\n</li>\n<li>\n<p>添加图片水印</p>\n</li>\n<li>\n<p>使用短链接</p>\n</li>\n<li>\n<p>图片格式转换成压缩率更高的AVIF格式</p>\n</li>\n</ul>\n<h4 id=\"7-2-搭建图床短链接\">7.2 搭建图床短链接</h4>\n<p>为什么要用短链，部分平台（尤其是社交平台、论坛、旧版编辑器）对 URL 长度或格式有严格限制，包含特殊字符（如 <code>?</code> <code>&amp;</code> <code>/</code>）的长链接，可能被平台误判为 “恶意链接” 而拦截，且原始图床链接可能泄露敏感信息。</p>\n<p>piclist上传的图片链接也是一堆乱码，widowns文件系统目录<code>\\</code>被转义，可以按时间戳重命名图像名称，也可以搭建短链接网站。</p>\n<p>参考<a href=\"https://github.com/xyTom/Url-Shorten-Worker/\">xyTom/Url-Shorten-Worker</a> 主页wiki和<a href=\"https://blog.houzhongcheng.com/2025/05/30/%E7%94%A8cloudflare%E6%90%AD%E5%BB%BA%E7%9F%AD%E9%93%BE%E6%8E%A5%E7%BD%91%E7%AB%99.html\">用cloudflare搭建短链接网站</a>搭建。</p>\n<p><img src=\"https://u.sam7.top/erBf5k\" alt=\"image-20251018112143204\"></p>\n<p><img src=\"https://u.sam7.top/AEF2tc\" alt=\"image-20251018105813478\"></p>\n<h4 id=\"7-3-waline评论图床上传\">7.3 waline评论图床上传</h4>\n<p>开启waline评论区图床上传，图片能上传成功，但是的识别不了链接。</p>\n<p>已经关掉了，PicList回传的不是json，只能选择URL、markdown格式。</p>\n<h4 id=\"7-4-fancybox设置\">7.4 fancybox设置</h4>\n<p>stellar集成fancybox灯箱插件，可以在放大网页上面的图片，功能很多。</p>\n<p><a href=\"https://xaoxuu.com/wiki/stellar/tag-plugins/express/#image-%E5%9B%BE%E7%89%87%E6%A0%87%E7%AD%BE\">Stellar：表达类标签组件（33+个） - XAOXUU</a> stellar wiki介绍很详细。</p>\n<p>md语法图片格式支持默认全局打开，有个问题就是点击文章海报图片也会放大。</p>\n<figure class=\"highlight yml\"><figcaption><span>主题配置文件</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">plugins:</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"attr\">fancybox:</span></span><br><span class=\"line\">    <span class=\"attr\">enable:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">    <span class=\"attr\">loader:</span> <span class=\"string\">/js/plugins/fancybox-loader.js</span></span><br><span class=\"line\">    <span class=\"attr\">js:</span> <span class=\"string\">https://gcore.jsdelivr.net/npm/@fancyapps/ui@6/dist/fancybox/fancybox.umd.js</span></span><br><span class=\"line\">    <span class=\"attr\">css:</span> <span class=\"string\">https://gcore.jsdelivr.net/npm/@fancyapps/ui@6/dist/fancybox/fancybox.css</span></span><br><span class=\"line\">    <span class=\"comment\"># 让 md 语法图片支持放大可以这样写: .md-text img:not([class]), .md-text .image img</span></span><br><span class=\"line\">    <span class=\"comment\"># 可以处理评论区的图片（不支持 iframe 类评论系统）例如：</span></span><br><span class=\"line\">    <span class=\"comment\"># 使用 twikoo 评论可以写: .tk-content img:not([class*=&quot;emo&quot;])</span></span><br><span class=\"line\">    <span class=\"comment\"># 使用 waline 评论可以写: #waline_container .vcontent img</span></span><br><span class=\"line\">    <span class=\"attr\">selector:</span> <span class=\"string\">.timenode</span> <span class=\"string\">p&gt;img,</span> <span class=\"string\">waline_container</span> <span class=\"string\">.vcontent</span> <span class=\"string\">img,</span> <span class=\"string\">.custom-image-container</span> <span class=\"string\">a,</span> <span class=\"string\">.md-text</span> <span class=\"string\">img:not([class]),</span> <span class=\"string\">.md-text</span> <span class=\"string\">.image</span> <span class=\"string\">img</span> <span class=\"comment\"># 多个选择器用英文逗号隔开</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"8-侧边栏配置\">8. 侧边栏配置</h3>\n<h4 id=\"8-1-左侧栏页脚图标\">8.1 左侧栏页脚图标</h4>\n<p>stellar主题预留有7个位置，主题配置如下，footer下面添加以下内容。</p>\n<figure class=\"highlight yaml\"><figcaption><span>主题配置文件</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">######## Footer ########</span></span><br><span class=\"line\"><span class=\"attr\">footer:</span> </span><br><span class=\"line\">  <span class=\"attr\">social:</span></span><br><span class=\"line\">    <span class=\"attr\">github:</span></span><br><span class=\"line\">      <span class=\"attr\">icon:</span> <span class=\"string\">&#x27;&lt;i class=&quot;fa-solid fa-github fa-brands&quot; style=&quot;font-size:1em;&quot;&gt;&lt;/i&gt;&#x27;</span></span><br><span class=\"line\">      <span class=\"attr\">title:</span> <span class=\"string\">&#x27;Github&#x27;</span></span><br><span class=\"line\">      <span class=\"attr\">url :</span> <span class=\"string\">https://github.com/sam7xx</span> </span><br><span class=\"line\">    <span class=\"attr\">rss:</span> </span><br><span class=\"line\">      <span class=\"attr\">icon:</span> <span class=\"string\">&#x27;&lt;i class=&quot;fa-solid fa-rss&quot; style=&quot;color: #FF5722;font-size:1em;&quot;&gt;&lt;/i&gt;&#x27;</span></span><br><span class=\"line\">      <span class=\"attr\">title:</span> <span class=\"string\">&#x27;RSS&#x27;</span></span><br><span class=\"line\">      <span class=\"attr\">url :</span> <span class=\"string\">/atom.xml</span></span><br><span class=\"line\">    <span class=\"attr\">email:</span> </span><br><span class=\"line\">      <span class=\"attr\">icon:</span> <span class=\"string\">&#x27;&lt;i class=&quot;fa-solid fa-envelope fa-bounce&quot; style=&quot;color: #B197FC;font-size:1em;&quot;&gt;&lt;/i&gt;&#x27;</span></span><br><span class=\"line\">      <span class=\"attr\">title:</span> <span class=\"string\">&#x27;Email&#x27;</span></span><br><span class=\"line\">      <span class=\"attr\">url :</span> <span class=\"string\">&quot;mailto://2690640537@qq.com&quot;</span></span><br><span class=\"line\">    <span class=\"attr\">theme:</span></span><br><span class=\"line\">      <span class=\"attr\">icon:</span> <span class=\"string\">&#x27;&lt;i class=&quot;fa-solid fa-circle-half-stroke fa-flip&quot; style=&quot;color: #FFD600;font-size:1em;&quot;&gt;&lt;/i&gt;&#x27;</span></span><br><span class=\"line\">      <span class=\"attr\">title:</span> <span class=\"string\">&#x27;主题切换&#x27;</span></span><br><span class=\"line\">      <span class=\"attr\">url:</span> <span class=\"string\">&#x27;javascript:void(0);&#x27;</span></span><br><span class=\"line\">    <span class=\"attr\">message:</span></span><br><span class=\"line\">      <span class=\"attr\">icon:</span> <span class=\"string\">&#x27;&lt;i class=&quot;fa-solid fa-message fa-bounce&quot; style=&quot;color:#FF9800;font-size:1em;&quot;&gt;&lt;/i&gt;&#x27;</span></span><br><span class=\"line\">      <span class=\"attr\">title:</span> <span class=\"string\">&#x27;留言板&#x27;</span></span><br><span class=\"line\">      <span class=\"attr\">url:</span> <span class=\"string\">&#x27;/messages&#x27;</span></span><br><span class=\"line\">    <span class=\"attr\">about:</span></span><br><span class=\"line\">      <span class=\"attr\">icon:</span> <span class=\"string\">&#x27;&lt;i class=&quot;fa-solid fa-user&quot; style=&quot;color:#4CAF50;font-size:1em;&quot;&gt;&lt;/i&gt;&#x27;</span></span><br><span class=\"line\">      <span class=\"attr\">title:</span> <span class=\"string\">&#x27;关于作者&#x27;</span></span><br><span class=\"line\">      <span class=\"attr\">url:</span> <span class=\"string\">&#x27;/about&#x27;</span></span><br><span class=\"line\">    <span class=\"attr\">friends:</span></span><br><span class=\"line\">      <span class=\"attr\">icon:</span> <span class=\"string\">&#x27;&lt;i class=&quot;fa-solid fa-link&quot; style=&quot;color:#2196F3;font-size:1em;&quot;&gt;&lt;/i&gt;&#x27;</span></span><br><span class=\"line\">      <span class=\"attr\">title:</span> <span class=\"string\">&#x27;友链&#x27;</span></span><br><span class=\"line\">      <span class=\"attr\">url:</span> <span class=\"string\">&#x27;/friends&#x27;</span></span><br></pre></td></tr></table></figure>\n<p><img src=\"https://u.sam7.top/GGHPGQ\" alt=\"image-20251018133033178\"></p>\n<h4 id=\"8-2-侧边栏组件\">8.2 侧边栏组件</h4>\n<p>参考主题wiki配置<a href=\"https://xaoxuu.com/wiki/stellar/widgets/\">Stellar：侧边栏组件的配置与使用（9个） - XAOXUU</a></p>\n<p>可以根据需要添加或者自定义喜欢的组件。<a href=\"https://blog.bxzdyg.cn/p/%E4%BD%BF%E7%94%A8Hexo%E5%92%8CStellar%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%E7%BD%91%E7%AB%99/#%E6%8E%A5%E5%85%A5API\">使用Hexo和Stellar搭建个人博客网站【超详细贴心保姆级教程💖】 - BoBoBlog</a></p>\n<p>在 <code>_data/widgets.yml</code> 文件中添加以下内容，需要自己创建：</p>\n<figure class=\"highlight yaml\"><figcaption><span>_data/widgets.yml</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 欢迎语</span></span><br><span class=\"line\"><span class=\"attr\">welcome:</span></span><br><span class=\"line\">  <span class=\"attr\">layout:</span> <span class=\"string\">markdown</span></span><br><span class=\"line\">  <span class=\"attr\">title:</span> <span class=\"string\">🎉欢迎</span></span><br><span class=\"line\">  <span class=\"attr\">content:</span> <span class=\"string\">|</span></span><br><span class=\"line\"><span class=\"string\">    本站托管于Cloudflare, 加载缓慢请耐心等待，欢迎大家畅所欲言。</span></span><br><span class=\"line\"><span class=\"string\">    &lt;hr style=&quot;border: 1px solid black; background-color: black;&quot;&gt;</span></span><br><span class=\"line\"><span class=\"string\">    &lt;span id=&quot;jinrishici-sentence&quot;&gt;&lt;/span&gt;</span></span><br><span class=\"line\"><span class=\"string\">    &lt;script src=&quot;https://sdk.jinrishici.com/v2/browser/jinrishici.js&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;</span></span><br></pre></td></tr></table></figure>\n<p>修改主题配置文件，在想要显示的页面添加welcome组件，</p>\n<figure class=\"highlight yaml\"><figcaption><span>主题配置文件</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">home:</span></span><br><span class=\"line\">  <span class=\"attr\">leftbar:</span>  <span class=\"string\">welcome,</span> <span class=\"string\">recent,</span> <span class=\"string\">music</span></span><br><span class=\"line\">  <span class=\"attr\">rightbar:</span> <span class=\"string\">tagcloud</span></span><br><span class=\"line\"><span class=\"comment\"># 博客列表页配置</span></span><br><span class=\"line\"><span class=\"attr\">index_blog:</span></span><br><span class=\"line\">  <span class=\"attr\">base_dir:</span> <span class=\"string\">blog</span> <span class=\"comment\"># 只影响自动生成的页面路径</span></span><br><span class=\"line\">  <span class=\"attr\">menu_id:</span> <span class=\"string\">post</span> <span class=\"comment\"># 未在 front-matter 中指定 menu_id 时，layout 为 post 的页面默认使用这里配置的 menu_id</span></span><br><span class=\"line\">  <span class=\"attr\">leftbar:</span>  <span class=\"string\">welcome,</span> <span class=\"string\">recent</span>  <span class=\"comment\"># for categories/tags/archives</span></span><br><span class=\"line\">  <span class=\"attr\">rightbar:</span> <span class=\"string\">tagcloud</span></span><br><span class=\"line\">  <span class=\"attr\">nav_tabs:</span>  <span class=\"comment\"># 近期发布 分类 标签 专栏 归档 and ...</span></span><br><span class=\"line\">    <span class=\"comment\"># &#x27;朋友文章&#x27;: /friends/rss/</span></span><br><span class=\"line\"><span class=\"comment\"># 博客专栏列表页配置</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"9-主导航栏配置\">9. 主导航栏配置</h3>\n<h4 id=\"9-1-启用主导航栏菜单\">9.1 启用主导航栏菜单</h4>\n<p>主题配置文件中设置如下，使用fontawesome图标。</p>\n<figure class=\"highlight yaml\"><figcaption><span>主题配置文件</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">menubar:</span></span><br><span class=\"line\">  <span class=\"attr\">columns:</span> <span class=\"number\">5</span> <span class=\"comment\"># 一行多少个</span></span><br><span class=\"line\">  <span class=\"attr\">items:</span> <span class=\"comment\"># 可按照自己需求增加，符合以下格式即可</span></span><br><span class=\"line\">    <span class=\"comment\"># id: 页面中高亮的 menu_id </span></span><br><span class=\"line\">    <span class=\"comment\"># theme: 高亮时的颜色，仅 svg 中 fill=&quot;currentColor&quot; 时有效</span></span><br><span class=\"line\">    <span class=\"comment\"># icon: 支持 svg/img 标签，可以定义在 icons.yml 文件中，也支持外部图片的 URL</span></span><br><span class=\"line\">    <span class=\"comment\"># title: 标题</span></span><br><span class=\"line\">    <span class=\"comment\"># url: 点击跳转到哪，支持相对路径和绝对路径</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"attr\">id:</span> <span class=\"string\">post</span></span><br><span class=\"line\">      <span class=\"attr\">theme:</span> <span class=\"string\">&#x27;#2196F3&#x27;</span></span><br><span class=\"line\">      <span class=\"attr\">icon:</span> <span class=\"string\">&#x27;&lt;i class=&quot;fa-solid fa-newspaper&quot; style=&quot;font-size:1.25em;&quot;&gt;&lt;/i&gt;&#x27;</span></span><br><span class=\"line\">      <span class=\"attr\">title:</span> <span class=\"string\">博客</span></span><br><span class=\"line\">      <span class=\"attr\">url:</span> <span class=\"string\">/blog</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"attr\">id:</span> <span class=\"string\">note</span></span><br><span class=\"line\">      <span class=\"attr\">theme:</span> <span class=\"string\">&#x27;#4CAF50&#x27;</span></span><br><span class=\"line\">      <span class=\"attr\">icon:</span> <span class=\"string\">&#x27;&lt;i class=&quot;fa-solid fa-pen-to-square&quot; style=&quot;font-size:1.25em;&quot;&gt;&lt;/i&gt;&#x27;</span></span><br><span class=\"line\">      <span class=\"attr\">title:</span> <span class=\"string\">笔记</span></span><br><span class=\"line\">      <span class=\"attr\">url:</span> <span class=\"string\">/note</span></span><br></pre></td></tr></table></figure>\n<p>效果展示</p>\n<p><img src=\"https://u.sam7.top/hGbYrj\" alt=\"image-20251018225127149\"></p>\n<h4 id=\"9-2-主导航栏下拉菜单设置\">9.2 主导航栏下拉菜单设置</h4>\n<p>菜单栏位置不够放怎么办，那就增加一个下拉菜单吧。在 Hexo 主题（这里是 Stellar 主题）的菜单栏 “更多” 处增加下拉菜单，可按以下步骤操作：</p>\n<div class=\"tag-plugin tabs\"id=\"tab_3\"><div class=\"nav-tabs\"><div class=\"tab active\"><a href=\"#tab_3-1\">调整内容</a></div><div class=\"tab\"><a href=\"#tab_3-2\">主题配置文件</a></div></div><div class=\"tab-content\"><div class=\"tab-pane active\" id=\"tab_3-1\"><p>步骤一：修改主题配置文件（<code>_config.yml</code>）找到主题配置文件中 <code>menubar</code> 部分关于 “更多”（<code>id: more</code>）的配置项。</p>\n<p>在 <code>items</code> 里，为 “更多” 添加子菜单结构。</p>\n<p>这里通过 <code>nested</code> 字段来定义 “更多” 的下拉子菜单，每个子项包含 <code>title</code>（子菜单标题）和 <code>url</code>（子菜单跳转链接）。</p></div><div class=\"tab-pane\" id=\"tab_3-2\"><figure class=\"highlight yaml\"><figcaption><span>主题配置文件</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">menubar:</span></span><br><span class=\"line\">  <span class=\"attr\">columns:</span> <span class=\"number\">5</span></span><br><span class=\"line\">  <span class=\"attr\">items:</span></span><br><span class=\"line\">    <span class=\"comment\"># 其他菜单项...</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"attr\">id:</span> <span class=\"string\">more</span></span><br><span class=\"line\">      <span class=\"attr\">theme:</span> <span class=\"string\">&#x27;#CC96F3&#x27;</span></span><br><span class=\"line\">      <span class=\"attr\">icon:</span> <span class=\"string\">&#x27;&lt;i class=&quot;fa-solid fa-caret-down&quot; style=&quot;font-size:1.5em;&quot;&gt;&lt;/i&gt;&#x27;</span></span><br><span class=\"line\">      <span class=\"attr\">title:</span> <span class=\"string\">更多</span></span><br><span class=\"line\">      <span class=\"comment\"># 这里配置子菜单，使用 nested 字段</span></span><br><span class=\"line\">      <span class=\"attr\">nested:</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"attr\">title:</span> <span class=\"string\">子菜单1</span></span><br><span class=\"line\">          <span class=\"attr\">url:</span> <span class=\"string\">/submenu1/</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"attr\">title:</span> <span class=\"string\">子菜单2</span></span><br><span class=\"line\">          <span class=\"attr\">url:</span> <span class=\"string\">/submenu2/</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"attr\">title:</span> <span class=\"string\">子菜单3</span></span><br><span class=\"line\">          <span class=\"attr\">url:</span> <span class=\"string\">/submenu3/</span></span><br></pre></td></tr></table></figure></div></div></div>\n<div class=\"tag-plugin tabs\"id=\"tab_4\"><div class=\"nav-tabs\"><div class=\"tab active\"><a href=\"#tab_4-1\">调整内容</a></div><div class=\"tab\"><a href=\"#tab_4-2\">menu.ejs</a></div></div><div class=\"tab-content\"><div class=\"tab-pane active\" id=\"tab_4-1\"><p>步骤二：修改主题模板文件（菜单渲染相关）</p>\n<p>Hexo 主题的菜单渲染通常在 <code>layout</code> 目录下的相关模板文件 <code>menu.ejs</code>中，为 “更多” 菜单项添加下拉菜单的渲染逻辑。</p>\n<p>这段代码的作用是：当菜单项（这里是 “更多”）存在 <code>nested</code> 子菜单配置时，渲染下拉菜单结构；否则渲染普通链接。</p></div><div class=\"tab-pane\" id=\"tab_4-2\"><details class=\"tag-plugin colorful folding\" ><summary><p>查看代码</p>\n</summary><div class=\"body\"><figure class=\"highlight html\"><figcaption><span>menu.ejs</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;%</span><br><span class=\"line\">function layoutDiv() &#123;</span><br><span class=\"line\">  var el = &#x27;&#x27;</span><br><span class=\"line\">  el += `<span class=\"tag\">&lt;<span class=\"name\">nav</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;menu dis-select$&#123;where == &#x27;main&#x27; ? &#x27; mobile-hidden&#x27; : &#x27;&#x27;&#125;&quot;</span>&gt;</span>`</span><br><span class=\"line\">  </span><br><span class=\"line\">  // 分离普通菜单项和&quot;更多&quot;菜单项</span><br><span class=\"line\">  const moreItem = (theme.menubar.items || []).find(item =&gt; item?.id === &#x27;more&#x27;);</span><br><span class=\"line\">  const regularItems = (theme.menubar.items || []).filter(item =&gt; </span><br><span class=\"line\">    item &amp;&amp; item.id != null &amp;&amp; item.url != null &amp;&amp; item.id !== &#x27;more&#x27;</span><br><span class=\"line\">  );</span><br><span class=\"line\">  </span><br><span class=\"line\">  // 渲染普通菜单项</span><br><span class=\"line\">  for (let item of regularItems) &#123;</span><br><span class=\"line\">    el += `<span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;nav-item$&#123;item.id == page.menu_id ? &#x27; active&#x27; : &#x27;&#x27;&#125;&quot;</span> <span class=\"attr\">title</span>=<span class=\"string\">&quot;$&#123;item.title&#125;&quot;</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;$&#123;pretty_url(item.url)&#125;&quot;</span>`</span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">if</span> (<span class=\"attr\">item.theme</span>?<span class=\"attr\">.length</span> &gt;</span> 0) &#123;</span><br><span class=\"line\">      el += ` style=&quot;color:$&#123;item.theme&#125;&quot;`</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    el += `&gt;`</span><br><span class=\"line\">    if (item.icon?.length &gt; 0) &#123;</span><br><span class=\"line\">      el += icon(item.icon, &#x27;no-lazy&#x27;)</span><br><span class=\"line\">    &#125; else &#123;</span><br><span class=\"line\">      el += `<span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span>$&#123;__(item.title)&#125;<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span>`</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    el += `<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span>`</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  </span><br><span class=\"line\">  // 渲染&quot;更多&quot;菜单项及下拉菜单</span><br><span class=\"line\">  if (moreItem) &#123;</span><br><span class=\"line\">    // 检查是否有子菜单配置</span><br><span class=\"line\">    const hasSubmenu = moreItem.nested &amp;&amp; moreItem.nested.length &gt; 0;</span><br><span class=\"line\">    </span><br><span class=\"line\">    el += `<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;nav-item more-dropdown$&#123;moreItem.id == page.menu_id ? &#x27; active&#x27; : &#x27;&#x27;&#125;&quot;</span>`;</span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">if</span> (<span class=\"attr\">moreItem.theme</span>?<span class=\"attr\">.length</span> &gt;</span> 0) &#123;</span><br><span class=\"line\">      el += ` style=&quot;color:$&#123;moreItem.theme&#125;&quot;`;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    el += `&gt;`;</span><br><span class=\"line\">    </span><br><span class=\"line\">    // 更多按钮</span><br><span class=\"line\">    el += `<span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;more-toggle&quot;</span> <span class=\"attr\">title</span>=<span class=\"string\">&quot;$&#123;moreItem.title&#125;&quot;</span>`;</span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">if</span> (!<span class=\"attr\">hasSubmenu</span>) &#123;</span></span><br><span class=\"line\"><span class=\"tag\">      <span class=\"attr\">el</span> += ` <span class=\"attr\">href</span>=<span class=\"string\">&quot;$&#123;pretty_url(moreItem.url)&#125;&quot;</span>`;</span></span><br><span class=\"line\"><span class=\"tag\">    &#125;</span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">el</span> += `&gt;</span>`;</span><br><span class=\"line\">    if (moreItem.icon?.length &gt; 0) &#123;</span><br><span class=\"line\">      el += icon(moreItem.icon, &#x27;no-lazy&#x27;);</span><br><span class=\"line\">    &#125; else &#123;</span><br><span class=\"line\">      el += `<span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span>$&#123;__(moreItem.title)&#125;<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span>`;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    el += `<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span>`;</span><br><span class=\"line\">    </span><br><span class=\"line\">    // 下拉菜单</span><br><span class=\"line\">    if (hasSubmenu) &#123;</span><br><span class=\"line\">      el += `<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;more-dropdown-menu&quot;</span>&gt;</span>`;</span><br><span class=\"line\">      for (let subItem of moreItem.nested) &#123;</span><br><span class=\"line\">        if (subItem &amp;&amp; subItem.title &amp;&amp; subItem.url) &#123;</span><br><span class=\"line\">          el += `<span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;dropdown-item&quot;</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;$&#123;pretty_url(subItem.url)&#125;&quot;</span> <span class=\"attr\">title</span>=<span class=\"string\">&quot;$&#123;subItem.title&#125;&quot;</span>&gt;</span>`;</span><br><span class=\"line\">          el += `<span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span>$&#123;__(subItem.title)&#125;<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span>`;</span><br><span class=\"line\">          el += `<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span>`;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      el += `<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span>`;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    el += `<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span>`;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  </span><br><span class=\"line\">  el += `<span class=\"tag\">&lt;/<span class=\"name\">nav</span>&gt;</span>`</span><br><span class=\"line\">  return el</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">%&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;%- layoutDiv() %&gt;</span><br></pre></td></tr></table></figure> </div></details></div></div></div>\n<div class=\"tag-plugin tabs\"id=\"tab_5\"><div class=\"nav-tabs\"><div class=\"tab active\"><a href=\"#tab_5-1\">调整内容</a></div><div class=\"tab\"><a href=\"#tab_5-2\">menu.styl</a></div></div><div class=\"tab-content\"><div class=\"tab-pane active\" id=\"tab_5-1\"><p>步骤三：添加样式</p>\n<p>如果需要对下拉菜单的样式（如显示 / 隐藏、 hover 效果等）进行自定义，可在主题的样式文件<code>menu.styl</code>中添加相关 CSS 规则。示例：</p></div><div class=\"tab-pane\" id=\"tab_5-2\"><details class=\"tag-plugin colorful folding\" ><summary><p>查看代码</p>\n</summary><div class=\"body\"><figure class=\"highlight stylus\"><figcaption><span>menu.styl</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br><span class=\"line\">184</span><br><span class=\"line\">185</span><br><span class=\"line\">186</span><br><span class=\"line\">187</span><br><span class=\"line\">188</span><br><span class=\"line\">189</span><br><span class=\"line\">190</span><br><span class=\"line\">191</span><br><span class=\"line\">192</span><br><span class=\"line\">193</span><br><span class=\"line\">194</span><br><span class=\"line\">195</span><br><span class=\"line\">196</span><br><span class=\"line\">197</span><br><span class=\"line\">198</span><br><span class=\"line\">199</span><br><span class=\"line\">200</span><br><span class=\"line\">201</span><br><span class=\"line\">202</span><br><span class=\"line\">203</span><br><span class=\"line\">204</span><br><span class=\"line\">205</span><br><span class=\"line\">206</span><br><span class=\"line\">207</span><br><span class=\"line\">208</span><br><span class=\"line\">209</span><br><span class=\"line\">210</span><br><span class=\"line\">211</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 导航区域菜单容器样式</span></span><br><span class=\"line\"><span class=\"selector-class\">.nav-area</span> <span class=\"selector-class\">.menu</span></span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">100%</span> // 宽度占满父容器</span><br><span class=\"line\">  <span class=\"attribute\">display</span>: grid // 使用网格布局</span><br><span class=\"line\">  <span class=\"attribute\">margin</span>: <span class=\"number\">8px</span> <span class=\"number\">0</span> // 上下外边距<span class=\"number\">8px</span>，左右<span class=\"number\">0</span></span><br><span class=\"line\">  <span class=\"attribute\">grid-template-columns</span>: <span class=\"built_in\">repeat</span>(<span class=\"built_in\">hexo-config</span>(<span class=\"string\">&#x27;menubar.columns&#x27;</span>), <span class=\"number\">1</span>fr) // 从Hexo配置读取列数</span><br><span class=\"line\">  <span class=\"attribute\">grid-gap</span>: <span class=\"number\">8px</span> // 网格项间距<span class=\"number\">8px</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 导航区域菜单滚动条（隐藏）</span></span><br><span class=\"line\">  &amp;::-webkit-scrollbar</span><br><span class=\"line\">    <span class=\"attribute\">display</span>: none // 隐藏滚动条本体</span><br><span class=\"line\">  &amp;::-webkit-scrollbar-track-piece</span><br><span class=\"line\">    <span class=\"attribute\">background</span>: transparent // 滚动条轨道透明</span><br><span class=\"line\">  &amp;::-webkit-scrollbar-thumb</span><br><span class=\"line\">    <span class=\"attribute\">display</span>: none // 隐藏滚动条滑块</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 导航区域菜单项样式</span></span><br><span class=\"line\">  <span class=\"selector-class\">.nav-item</span></span><br><span class=\"line\">    <span class=\"attribute\">box-sizing</span>: border-box // 边框盒模型（padding和border不影响宽度）</span><br><span class=\"line\">    <span class=\"attribute\">width</span>: <span class=\"number\">100%</span> // 宽度<span class=\"number\">100%</span></span><br><span class=\"line\">    <span class=\"attribute\">min-height</span>: <span class=\"number\">40px</span> // 最小高度<span class=\"number\">40px</span></span><br><span class=\"line\">    <span class=\"attribute\">border-radius</span>: <span class=\"built_in\">var</span>(--border-bar) // 使用圆角变量</span><br><span class=\"line\">    <span class=\"attribute\">font-size</span>: <span class=\"built_in\">var</span>(--fs-<span class=\"number\">15</span>) // <span class=\"number\">15px</span>字体变量</span><br><span class=\"line\">    <span class=\"attribute\">font-weight</span>: <span class=\"number\">500</span> // 中等粗细</span><br><span class=\"line\">    <span class=\"attribute\">color</span>: <span class=\"built_in\">var</span>(--text-p3) // 三级文字色</span><br><span class=\"line\">    <span class=\"attribute\">text-align</span>: center // 文字居中</span><br><span class=\"line\">    <span class=\"attribute\">background</span>: <span class=\"built_in\">var</span>(--bg-a50) // <span class=\"number\">50%</span>透明度背景</span><br><span class=\"line\">    <span class=\"attribute\">transition</span>: background <span class=\"number\">0.3s</span> ease // 背景过渡动画</span><br><span class=\"line\">    <span class=\"attribute\">position</span>: relative // 相对定位</span><br><span class=\"line\">    <span class=\"attribute\">display</span>: flex // Flex布局</span><br><span class=\"line\">    <span class=\"attribute\">flex-direction</span>: column // 子元素垂直排列</span><br><span class=\"line\">    <span class=\"attribute\">align-items</span>: center // 水平居中</span><br><span class=\"line\">    <span class=\"attribute\">justify-content</span>: center // 垂直居中</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 导航项文字样式</span></span><br><span class=\"line\">    <span class=\"selector-tag\">span</span></span><br><span class=\"line\">      <span class=\"attribute\">text-overflow</span>: ellipsis // 溢出显示省略号</span><br><span class=\"line\">      <span class=\"attribute\">word-break</span>: keep-all // 不拆分单词</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 激活/悬停状态</span></span><br><span class=\"line\">    &amp;<span class=\"selector-class\">.active</span>, <span class=\"selector-pseudo\">&amp;:hover</span></span><br><span class=\"line\">      <span class=\"attribute\">color</span>: <span class=\"built_in\">var</span>(--text-p1) // 一级文字色</span><br><span class=\"line\">      <span class=\"attribute\">background</span>: <span class=\"built_in\">var</span>(--bg-a100) // <span class=\"number\">100%</span>透明度背景</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 激活状态底部指示条</span></span><br><span class=\"line\">    &amp;<span class=\"selector-class\">.active</span><span class=\"selector-pseudo\">:after</span></span><br><span class=\"line\">      <span class=\"attribute\">content</span>: <span class=\"string\">&#x27;&#x27;</span> // 空内容伪元素</span><br><span class=\"line\">      <span class=\"attribute\">position</span>: absolute // 绝对定位</span><br><span class=\"line\">      <span class=\"attribute\">width</span>: <span class=\"number\">16px</span> // 宽度<span class=\"number\">16px</span></span><br><span class=\"line\">      <span class=\"attribute\">height</span>: <span class=\"number\">2px</span> // 高度<span class=\"number\">2px</span></span><br><span class=\"line\">      <span class=\"attribute\">left</span>: <span class=\"number\">50%</span> // 水平居中</span><br><span class=\"line\">      <span class=\"attribute\">transform</span>: <span class=\"built_in\">translateX</span>(-<span class=\"number\">50%</span>) // 水平居中偏移</span><br><span class=\"line\">      <span class=\"attribute\">border-radius</span>: <span class=\"number\">2px</span> // 圆角<span class=\"number\">2px</span></span><br><span class=\"line\">      <span class=\"attribute\">bottom</span>: <span class=\"number\">2px</span> // 距离底部<span class=\"number\">2px</span></span><br><span class=\"line\">      <span class=\"attribute\">background</span>: currentColor // 继承文字颜色</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 基础菜单样式</span></span><br><span class=\"line\"><span class=\"selector-class\">.menu</span></span><br><span class=\"line\">  <span class=\"attribute\">display</span>: flex // Flex布局（横向排列）</span><br><span class=\"line\">  <span class=\"attribute\">list-style</span>: none // 移除列表默认样式</span><br><span class=\"line\">  <span class=\"attribute\">padding</span>: <span class=\"number\">0</span> // 无内边距</span><br><span class=\"line\">  <span class=\"attribute\">margin</span>: <span class=\"number\">0</span> // 无外边距</span><br><span class=\"line\">  <span class=\"attribute\">gap</span>: <span class=\"number\">1rem</span> // 菜单项间距<span class=\"number\">1rem</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 通用导航项样式</span></span><br><span class=\"line\"><span class=\"selector-class\">.nav-item</span></span><br><span class=\"line\">  <span class=\"attribute\">display</span>: flex // Flex布局</span><br><span class=\"line\">  <span class=\"attribute\">align-items</span>: center // 垂直居中</span><br><span class=\"line\">  <span class=\"attribute\">justify-content</span>: center // 水平居中</span><br><span class=\"line\">  <span class=\"attribute\">text-decoration</span>: none // 无下划线</span><br><span class=\"line\">  <span class=\"attribute\">position</span>: relative // 相对定位（用于下拉菜单）</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 更多菜单下拉容器</span></span><br><span class=\"line\"><span class=\"selector-class\">.more-dropdown</span></span><br><span class=\"line\">  <span class=\"attribute\">position</span>: relative // 相对定位</span><br><span class=\"line\">  <span class=\"attribute\">display</span>: inline-block // 行内块布局</span><br><span class=\"line\">  <span class=\"attribute\">z-index</span>: <span class=\"number\">100</span> // 层级<span class=\"number\">100</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 更多下拉菜单样式（恢复原始宽度40px）</span></span><br><span class=\"line\">  <span class=\"selector-class\">.more-dropdown-menu</span></span><br><span class=\"line\">    <span class=\"attribute\">display</span>: none // 默认隐藏</span><br><span class=\"line\">    <span class=\"attribute\">position</span>: absolute // 绝对定位</span><br><span class=\"line\">    <span class=\"attribute\">right</span>: <span class=\"number\">0</span> // 右对齐</span><br><span class=\"line\">    <span class=\"attribute\">top</span>: -<span class=\"number\">80px</span> // 上移<span class=\"number\">80px</span></span><br><span class=\"line\">    <span class=\"attribute\">background-color</span>: <span class=\"number\">#fff</span> // 亮色背景</span><br><span class=\"line\">    <span class=\"attribute\">min-width</span>: <span class=\"number\">40px</span> // 恢复原始最小宽度（适配紧凑布局）</span><br><span class=\"line\">    <span class=\"attribute\">max-height</span>: <span class=\"number\">120px</span> // 最大高度</span><br><span class=\"line\">    <span class=\"attribute\">box-shadow</span>: <span class=\"number\">0</span> <span class=\"number\">2px</span> <span class=\"number\">12px</span> <span class=\"built_in\">rgba</span>(<span class=\"number\">0</span>,<span class=\"number\">0</span>,<span class=\"number\">0</span>,<span class=\"number\">0.15</span>) // 亮色阴影</span><br><span class=\"line\">    <span class=\"attribute\">z-index</span>: <span class=\"number\">9999</span> // 高层级避免遮挡</span><br><span class=\"line\">    <span class=\"attribute\">border-radius</span>: <span class=\"number\">6px</span> // 圆角<span class=\"number\">6px</span></span><br><span class=\"line\">    <span class=\"attribute\">overflow-y</span>: auto // 垂直滚动</span><br><span class=\"line\">    <span class=\"attribute\">overflow-x</span>: hidden // 水平隐藏溢出</span><br><span class=\"line\">    <span class=\"attribute\">padding</span>: <span class=\"number\">6px</span> <span class=\"number\">0</span> // 上下内边距<span class=\"number\">6px</span></span><br><span class=\"line\">    <span class=\"attribute\">box-sizing</span>: border-box // 边框盒模型</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 更多下拉菜单滚动条</span></span><br><span class=\"line\">    &amp;::-webkit-scrollbar</span><br><span class=\"line\">      <span class=\"attribute\">width</span>: <span class=\"number\">4px</span> // 滚动条宽度<span class=\"number\">4px</span></span><br><span class=\"line\">    &amp;::-webkit-scrollbar-thumb</span><br><span class=\"line\">      <span class=\"attribute\">background-color</span>: <span class=\"built_in\">rgba</span>(<span class=\"number\">0</span>,<span class=\"number\">0</span>,<span class=\"number\">0</span>,<span class=\"number\">0.15</span>) // 亮色滚动条滑块</span><br><span class=\"line\">      <span class=\"attribute\">border-radius</span>: <span class=\"number\">2px</span> // 滑块圆角</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 悬停显示更多下拉菜单</span></span><br><span class=\"line\">  <span class=\"selector-pseudo\">&amp;:hover</span> <span class=\"selector-class\">.more-dropdown-menu</span></span><br><span class=\"line\">    <span class=\"attribute\">display</span>: block // 显示菜单</span><br><span class=\"line\">    <span class=\"attribute\">animation</span>: fadeIn <span class=\"number\">0.2s</span> ease // 淡入动画</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 下拉菜单项样式</span></span><br><span class=\"line\"><span class=\"selector-class\">.dropdown-item</span></span><br><span class=\"line\">  <span class=\"attribute\">display</span>: flex // Flex布局</span><br><span class=\"line\">  <span class=\"attribute\">align-items</span>: center // 垂直居中</span><br><span class=\"line\">  <span class=\"attribute\">justify-content</span>: center // 水平居中</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">100%</span> // 宽度<span class=\"number\">100%</span></span><br><span class=\"line\">  <span class=\"attribute\">padding</span>: <span class=\"number\">10px</span> // 内边距<span class=\"number\">10px</span></span><br><span class=\"line\">  <span class=\"attribute\">color</span>: <span class=\"number\">#333</span> // 亮色文字</span><br><span class=\"line\">  <span class=\"attribute\">text-decoration</span>: none // 无下划线</span><br><span class=\"line\">  <span class=\"attribute\">box-sizing</span>: border-box // 边框盒模型</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 悬停效果（亮色）</span></span><br><span class=\"line\">  <span class=\"selector-pseudo\">&amp;:hover</span></span><br><span class=\"line\">    <span class=\"attribute\">background-color</span>: <span class=\"number\">#f5f5f5</span> // 亮色悬停背景</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 普通下拉菜单容器</span></span><br><span class=\"line\"><span class=\"selector-class\">.dropdown</span></span><br><span class=\"line\">  <span class=\"attribute\">position</span>: relative // 相对定位</span><br><span class=\"line\">  <span class=\"attribute\">display</span>: inline-block // 行内块布局</span><br><span class=\"line\">  <span class=\"attribute\">z-index</span>: <span class=\"number\">100</span> // 层级<span class=\"number\">100</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 普通下拉菜单样式（恢复原始宽度40px）</span></span><br><span class=\"line\">  <span class=\"selector-class\">.dropdown-menu</span></span><br><span class=\"line\">    <span class=\"attribute\">display</span>: none // 默认隐藏</span><br><span class=\"line\">    <span class=\"attribute\">position</span>: absolute // 绝对定位</span><br><span class=\"line\">    <span class=\"attribute\">top</span>: -<span class=\"number\">80px</span> // 上移<span class=\"number\">80px</span></span><br><span class=\"line\">    <span class=\"attribute\">background-color</span>: <span class=\"number\">#f9f9f9</span> // 亮色背景</span><br><span class=\"line\">    <span class=\"attribute\">min-width</span>: <span class=\"number\">40px</span> // 恢复原始最小宽度（适配紧凑布局）</span><br><span class=\"line\">    <span class=\"attribute\">max-height</span>: <span class=\"number\">120px</span> // 最大高度</span><br><span class=\"line\">    <span class=\"attribute\">box-shadow</span>: <span class=\"number\">0</span> <span class=\"number\">2px</span> <span class=\"number\">12px</span> <span class=\"built_in\">rgba</span>(<span class=\"number\">0</span>,<span class=\"number\">0</span>,<span class=\"number\">0</span>,<span class=\"number\">0.2</span>) // 亮色阴影</span><br><span class=\"line\">    <span class=\"attribute\">z-index</span>: <span class=\"number\">9999</span> // 高层级避免遮挡</span><br><span class=\"line\">    <span class=\"attribute\">overflow-y</span>: auto // 垂直滚动</span><br><span class=\"line\">    <span class=\"attribute\">overflow-x</span>: hidden // 水平隐藏溢出</span><br><span class=\"line\">    <span class=\"attribute\">padding</span>: <span class=\"number\">6px</span> <span class=\"number\">0</span> // 上下内边距<span class=\"number\">6px</span></span><br><span class=\"line\">    <span class=\"attribute\">box-sizing</span>: border-box // 边框盒模型</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 普通下拉菜单滚动条</span></span><br><span class=\"line\">    &amp;::-webkit-scrollbar</span><br><span class=\"line\">      <span class=\"attribute\">width</span>: <span class=\"number\">4px</span> // 滚动条宽度<span class=\"number\">4px</span></span><br><span class=\"line\">    &amp;::-webkit-scrollbar-thumb</span><br><span class=\"line\">      <span class=\"attribute\">background-color</span>: <span class=\"built_in\">rgba</span>(<span class=\"number\">0</span>,<span class=\"number\">0</span>,<span class=\"number\">0</span>,<span class=\"number\">0.15</span>) // 亮色滚动条滑块</span><br><span class=\"line\">      <span class=\"attribute\">border-radius</span>: <span class=\"number\">2px</span> // 滑块圆角</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 悬停显示普通下拉菜单</span></span><br><span class=\"line\">  <span class=\"selector-pseudo\">&amp;:hover</span> <span class=\"selector-class\">.dropdown-menu</span></span><br><span class=\"line\">    <span class=\"attribute\">display</span>: block // 显示菜单</span><br><span class=\"line\">    <span class=\"attribute\">animation</span>: fadeIn <span class=\"number\">0.2s</span> ease // 淡入动画</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 普通下拉菜单项样式</span></span><br><span class=\"line\">  <span class=\"selector-class\">.dropdown-menu</span> <span class=\"selector-tag\">a</span></span><br><span class=\"line\">    <span class=\"attribute\">display</span>: flex // Flex布局</span><br><span class=\"line\">    <span class=\"attribute\">align-items</span>: center // 垂直居中</span><br><span class=\"line\">    <span class=\"attribute\">justify-content</span>: center // 水平居中</span><br><span class=\"line\">    <span class=\"attribute\">padding</span>: <span class=\"number\">10px</span> // 内边距<span class=\"number\">10px</span></span><br><span class=\"line\">    <span class=\"attribute\">text-decoration</span>: none // 无下划线</span><br><span class=\"line\">    <span class=\"attribute\">color</span>: <span class=\"number\">#333</span> // 亮色文字</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 悬停效果（亮色）</span></span><br><span class=\"line\">    <span class=\"selector-pseudo\">&amp;:hover</span></span><br><span class=\"line\">      <span class=\"attribute\">background-color</span>: <span class=\"number\">#ddd</span> // 亮色悬停背景</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 暗色模式适配</span></span><br><span class=\"line\"><span class=\"selector-attr\">[data-theme=<span class=\"string\">&quot;dark&quot;</span>]</span></span><br><span class=\"line\">  <span class=\"comment\">// 更多下拉菜单</span></span><br><span class=\"line\">  <span class=\"selector-class\">.more-dropdown-menu</span></span><br><span class=\"line\">    <span class=\"attribute\">background-color</span>: <span class=\"number\">#2d2d2d</span> // 暗色背景</span><br><span class=\"line\">    <span class=\"attribute\">box-shadow</span>: <span class=\"number\">0</span> <span class=\"number\">2px</span> <span class=\"number\">12px</span> <span class=\"built_in\">rgba</span>(<span class=\"number\">0</span>,<span class=\"number\">0</span>,<span class=\"number\">0</span>,<span class=\"number\">0.3</span>) // 暗色阴影</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 下拉菜单项文字及悬停</span></span><br><span class=\"line\">  <span class=\"selector-class\">.dropdown-item</span></span><br><span class=\"line\">    <span class=\"attribute\">color</span>: <span class=\"number\">#f0f0f0</span> // 暗色文字</span><br><span class=\"line\">    <span class=\"selector-pseudo\">&amp;:hover</span></span><br><span class=\"line\">      <span class=\"attribute\">background-color</span>: <span class=\"number\">#444</span> // 暗色悬停背景</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 普通下拉菜单</span></span><br><span class=\"line\">  <span class=\"selector-class\">.dropdown-menu</span></span><br><span class=\"line\">    <span class=\"attribute\">background-color</span>: <span class=\"number\">#2d2d2d</span> // 暗色背景</span><br><span class=\"line\">    <span class=\"attribute\">box-shadow</span>: <span class=\"number\">0</span> <span class=\"number\">2px</span> <span class=\"number\">12px</span> <span class=\"built_in\">rgba</span>(<span class=\"number\">0</span>,<span class=\"number\">0</span>,<span class=\"number\">0</span>,<span class=\"number\">0.3</span>) // 暗色阴影</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 普通下拉菜单项文字及悬停</span></span><br><span class=\"line\">    <span class=\"selector-tag\">a</span></span><br><span class=\"line\">      <span class=\"attribute\">color</span>: <span class=\"number\">#f0f0f0</span> // 暗色文字</span><br><span class=\"line\">      <span class=\"selector-pseudo\">&amp;:hover</span></span><br><span class=\"line\">        <span class=\"attribute\">background-color</span>: <span class=\"number\">#444</span> // 暗色悬停背景</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 暗色模式滚动条滑块</span></span><br><span class=\"line\">  <span class=\"selector-class\">.more-dropdown-menu</span>::-webkit-scrollbar-thumb,</span><br><span class=\"line\">  <span class=\"selector-class\">.dropdown-menu</span>::-webkit-scrollbar-thumb</span><br><span class=\"line\">    <span class=\"attribute\">background-color</span>: <span class=\"built_in\">rgba</span>(<span class=\"number\">255</span>,<span class=\"number\">255</span>,<span class=\"number\">255</span>,<span class=\"number\">0.2</span>) // 暗色滚动条滑块</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 下拉菜单入场动画</span></span><br><span class=\"line\"><span class=\"keyword\">@keyframes</span> fadeIn</span><br><span class=\"line\">  from</span><br><span class=\"line\">    <span class=\"attribute\">opacity</span>: <span class=\"number\">0</span> // 初始透明度<span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"attribute\">transform</span>: <span class=\"built_in\">translateY</span>(<span class=\"number\">5px</span>) // 初始位置下移<span class=\"number\">5px</span></span><br><span class=\"line\">  to</span><br><span class=\"line\">    <span class=\"attribute\">opacity</span>: <span class=\"number\">1</span> // 结束透明度<span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"attribute\">transform</span>: <span class=\"built_in\">translateY</span>(<span class=\"number\">0</span>) // 恢复位置</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 响应式调整（≤768px）</span></span><br><span class=\"line\"><span class=\"keyword\">@media</span> (<span class=\"attribute\">max-width</span>: <span class=\"number\">768px</span>)</span><br><span class=\"line\">  .menu.mobile-hidden</span><br><span class=\"line\">    display: none // 小屏幕隐藏指定菜单</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure> </div></details></div></div></div>\n<p>步骤四：重启 Hexo 服务</p>\n<p>修改完成后，在终端中执行 <code>hexo clean &amp;&amp; hexo s</code> 命令，清理并重新启动 Hexo 本地服务，然后在浏览器中查看效果，“更多” 处应能正常显示下拉菜单。</p>\n<p>由于搜索栏遮盖了下拉菜单，需要修改下拉菜单支持滚动模式，容器固定3行高度，上移一段距离。</p>\n<p>图标也不能正常显示，凑合用吧。</p>\n<p><img src=\"https://u.sam7.top/Bh3YjH\" alt=\"image-20251018130238736\"></p>\n<h4 id=\"9-3-网站设置\">9.3 网站设置</h4>\n<ul>\n<li>根目录配置文件中，修改以下内容。</li>\n</ul>\n<figure class=\"highlight yaml\"><figcaption><span>根目录配置文件</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">title:</span> <span class=\"comment\">#博客名称</span></span><br><span class=\"line\"><span class=\"attr\">subtitle:</span> <span class=\"string\">&#x27;纸上得来终觉浅,绝知此事需躬行|文本2&#x27;</span> <span class=\"comment\">#鼠标移至副标题区域即可显示文本2内容</span></span><br><span class=\"line\"><span class=\"attr\">description:</span> <span class=\"string\">&#x27;博客描述&#x27;</span></span><br><span class=\"line\"><span class=\"attr\">keywords:</span> [<span class=\"string\">&#x27;&#x27;</span>,<span class=\"string\">&#x27;&#x27;</span>,<span class=\"string\">&#x27;&#x27;</span>,<span class=\"string\">&#x27;&#x27;</span>,<span class=\"string\">&#x27;&#x27;</span>,<span class=\"string\">&#x27;&#x27;</span>] <span class=\"comment\">#关键词，方便搜索引擎抓取</span></span><br><span class=\"line\"><span class=\"attr\">author:</span> <span class=\"string\">Sam</span> <span class=\"comment\">#作者名字</span></span><br><span class=\"line\"><span class=\"attr\">avatar:</span> <span class=\"string\">/path/x.avif</span> <span class=\"comment\">#头像</span></span><br><span class=\"line\"><span class=\"attr\">language:</span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"string\">zh-CN</span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"string\">en</span></span><br><span class=\"line\"><span class=\"attr\">timezone:</span> <span class=\"string\">&#x27;Asia/Shanghai&#x27;</span> <span class=\"comment\">#时区</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<ul>\n<li>\n<p>网站标题艺术字设置</p>\n<ul>\n<li>\n<p>在主题source目录下新建<code>art-title.css</code>,新增以下内容</p>\n<figure class=\"highlight css\"><figcaption><span>art-title.css</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">div</span><span class=\"selector-class\">.main</span> &#123;</span><br><span class=\"line\">  <span class=\"comment\">/* 中英文统一手写字体（保持风格一致） */</span></span><br><span class=\"line\">  <span class=\"attribute\">font-family</span>: <span class=\"string\">&quot;Ma Shan Zheng&quot;</span>, <span class=\"string\">&quot;Pacifico&quot;</span>, cursive <span class=\"meta\">!important</span>;</span><br><span class=\"line\">  <span class=\"attribute\">font-size</span>: <span class=\"number\">36px</span> <span class=\"meta\">!important</span>;</span><br><span class=\"line\">  <span class=\"attribute\">font-weight</span>: normal <span class=\"meta\">!important</span>;</span><br><span class=\"line\">  <span class=\"attribute\">line-height</span>: <span class=\"number\">1.3</span> <span class=\"meta\">!important</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/* 红色到紫色渐变（主色调调整） */</span></span><br><span class=\"line\">  <span class=\"attribute\">background</span>: <span class=\"built_in\">linear-gradient</span>(<span class=\"number\">135deg</span>, <span class=\"number\">#ff6b6b</span>, <span class=\"number\">#4ecdc4</span>, <span class=\"number\">#8e44ad</span>, <span class=\"number\">#f39c12</span>) <span class=\"meta\">!important</span>;</span><br><span class=\"line\">  <span class=\"attribute\">background-size</span>: <span class=\"number\">70%</span> <span class=\"number\">70%</span> <span class=\"meta\">!important</span>; <span class=\"comment\">/* 适配渐变流动动画 */</span></span><br><span class=\"line\">  -webkit-<span class=\"attribute\">background-clip</span>: text <span class=\"meta\">!important</span>;</span><br><span class=\"line\">  <span class=\"attribute\">background-clip</span>: text <span class=\"meta\">!important</span>;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: transparent <span class=\"meta\">!important</span>; <span class=\"comment\">/* 核心：文字透明显示渐变 */</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/* 阴影增强层次感 */</span></span><br><span class=\"line\">  <span class=\"attribute\">text-shadow</span>: <span class=\"number\">0</span> <span class=\"number\">2px</span> <span class=\"number\">5px</span> <span class=\"built_in\">rgba</span>(<span class=\"number\">0</span>,<span class=\"number\">0</span>,<span class=\"number\">0</span>,<span class=\"number\">0.15</span>) <span class=\"meta\">!important</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/* 渐变流动动画 */</span></span><br><span class=\"line\">  <span class=\"attribute\">animation</span>: gradientShift <span class=\"number\">7s</span> ease infinite <span class=\"meta\">!important</span>;</span><br><span class=\"line\">  <span class=\"attribute\">display</span>: inline-block <span class=\"meta\">!important</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* 动画关键帧 */</span></span><br><span class=\"line\"><span class=\"keyword\">@keyframes</span> gradientShift &#123;</span><br><span class=\"line\">  <span class=\"number\">0%</span> &#123; <span class=\"attribute\">background-position</span>: <span class=\"number\">0%</span> <span class=\"number\">50%</span>; &#125;</span><br><span class=\"line\">  <span class=\"number\">50%</span> &#123; <span class=\"attribute\">background-position</span>: <span class=\"number\">100%</span> <span class=\"number\">50%</span>; &#125;</span><br><span class=\"line\">  <span class=\"number\">100%</span> &#123; <span class=\"attribute\">background-position</span>: <span class=\"number\">0%</span> <span class=\"number\">50%</span>; &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* 悬停强化效果 */</span></span><br><span class=\"line\"><span class=\"selector-tag\">div</span><span class=\"selector-class\">.main</span><span class=\"selector-pseudo\">:hover</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">text-shadow</span>: <span class=\"number\">0</span> <span class=\"number\">3px</span> <span class=\"number\">8px</span> <span class=\"built_in\">rgba</span>(<span class=\"number\">0</span>,<span class=\"number\">0</span>,<span class=\"number\">0</span>,<span class=\"number\">0.2</span>) <span class=\"meta\">!important</span>;</span><br><span class=\"line\">  <span class=\"attribute\">transform</span>: <span class=\"built_in\">scale</span>(<span class=\"number\">1.05</span>) <span class=\"meta\">!important</span>;</span><br><span class=\"line\">  <span class=\"attribute\">transition</span>: all <span class=\"number\">0.3s</span> ease <span class=\"meta\">!important</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>然后在根目录配置文件增加以下内容，将中英文手写字体和art-title.CSS引入head标签内。</p>\n</li>\n</ul>\n</li>\n</ul>\n<figure class=\"highlight yaml\"><figcaption><span>根目录配置文件</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">inject:</span></span><br><span class=\"line\">  <span class=\"attr\">head:</span></span><br><span class=\"line\">  \t<span class=\"bullet\">-</span> <span class=\"string\">&lt;link</span> <span class=\"string\">rel=&quot;stylesheet&quot;</span> <span class=\"string\">href=&quot;/art-title.css&quot;&gt;</span>  <span class=\"comment\"># 自定义艺术字样式引入</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"string\">&lt;link</span> <span class=\"string\">rel=&quot;stylesheet&quot;</span> <span class=\"string\">href=&quot;https://fonts.loli.net/css2?family=Ma+Shan+Zheng&amp;family=Pacifico&amp;display=swap&quot;&gt;</span> <span class=\"comment\">#引入Pacifico字体 中英文手写</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"9-4-网页小图标\">9.4 网页小图标</h4>\n<ul>\n<li>\n<p>让豆包生成一个logo图标，修改为成128x128px，像素小加载快。</p>\n<p><img src=\"https://u.sam7.top/6QcmtF\" alt=\"创建极简线条风标识\"></p>\n</li>\n<li>\n<p>然后在根目录配置文件增加以下内容，将Favicon图标引入head标签内。</p>\n<figure class=\"highlight yaml\"><figcaption><span>根目录配置文件</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">inject:</span></span><br><span class=\"line\">  <span class=\"attr\">head:</span></span><br><span class=\"line\">  \t<span class=\"bullet\">-</span> <span class=\"string\">&lt;link</span> <span class=\"string\">rel=&quot;icon&quot;</span> <span class=\"string\">href=&quot;https://u.sam7.top/6QcmtF&quot;</span> <span class=\"string\">type=&quot;image/avif&quot;&gt;</span>  <span class=\"comment\"># Favicon图标引入</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>效果展示</p>\n<img src=\"https://u.sam7.top/XrwW8K\" alt=\"效果展示\" style=\"zoom:200%;\" />\n</li>\n</ul>\n<h3 id=\"10-顶部导航栏显示异常\">10. 顶部导航栏显示异常</h3>\n<p>浏览器设置浅色模式，主题切换为深色，顶部导航栏字体看起来比较奇怪，navbra.styl修改，<code>.navbar-blur</code>取消模糊效果。</p>\n<p><img src=\"https://u.sam7.top/pGMf3Y\" alt=\"image-20251018130314321\"></p>\n<figure class=\"highlight stylus\"><figcaption><span>navbar.styl</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 顶栏容器样式（替代newblur()的背景）</span></span><br><span class=\"line\"><span class=\"selector-class\">.navbar-blur</span> </span><br><span class=\"line\">  <span class=\"attribute\">margin</span>: <span class=\"number\">0</span> <span class=\"number\">1rem</span></span><br><span class=\"line\">  <span class=\"attribute\">border-radius</span>: <span class=\"number\">64px</span></span><br><span class=\"line\">  <span class=\"attribute\">position</span>: relative</span><br><span class=\"line\">  <span class=\"comment\">// 新增背景样式：使用主题卡片色+轻微透明度，不依赖模糊</span></span><br><span class=\"line\">  <span class=\"attribute\">background</span>: <span class=\"built_in\">var</span>(--card, <span class=\"built_in\">rgba</span>(<span class=\"number\">255</span>, <span class=\"number\">255</span>, <span class=\"number\">255</span>, <span class=\"number\">0.9</span>))  // 主背景（优先用主题变量）</span><br><span class=\"line\">  <span class=\"attribute\">border</span>: <span class=\"built_in\">var</span>(--card-border, <span class=\"number\">1px</span> solid <span class=\"built_in\">rgba</span>(<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0.05</span>))  // 边框（可选，增强轮廓）</span><br><span class=\"line\">  <span class=\"attribute\">box-shadow</span>: <span class=\"number\">0</span> <span class=\"number\">1px</span> <span class=\"number\">3px</span> <span class=\"built_in\">rgba</span>(<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0.05</span>)  // 轻微阴影，区分层级</span><br><span class=\"line\">  <span class=\"comment\">// 如需半透明效果可调整alpha值，如：background: rgba(255, 255, 255, 0.85)</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"11-页面布局调整\">11. 页面布局调整</h3>\n<ul>\n<li>在主题样式<code>custom.styl</code>中添加<code>$leftbar-bottom-margin = 20px）</code>,调整主内容界面宽度为1080px，侧边栏宽度最大为277px，元素内部和外部距离都调整为15px。</li>\n</ul>\n<figure class=\"highlight stylus\"><figcaption><span>custom.styl</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable\">$leftbar</span>-<span class=\"attribute\">bottom</span>-margin = <span class=\"number\">20px</span>  // 左侧栏底部距离（根据需求调整，单位px/rem）</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 可以动态变化的属性</span></span><br><span class=\"line\"><span class=\"selector-pseudo\">:root</span></span><br><span class=\"line\">  <span class=\"attr\">--width-main</span>: <span class=\"number\">1080px</span> <span class=\"comment\">// 主内容区域宽度（默认1080px）</span></span><br><span class=\"line\">  <span class=\"attr\">--fsp</span>: <span class=\"variable\">$fs</span>-<span class=\"selector-tag\">body</span> <span class=\"comment\">// 段落字体大小（关联正文基础大小）</span></span><br><span class=\"line\">  <span class=\"attr\">--fsh2</span>: <span class=\"string\">&#x27;calc(%s + 11px)&#x27;</span> % <span class=\"selector-tag\">var</span>(<span class=\"attr\">--fsp</span>) <span class=\"comment\">// h2标题大小（基于段落字体动态计算）</span></span><br><span class=\"line\">  <span class=\"attr\">--fsh3</span>: <span class=\"string\">&#x27;calc(%s + 7px)&#x27;</span> % <span class=\"selector-tag\">var</span>(<span class=\"attr\">--fsp</span>) <span class=\"comment\">// h3标题大小（基于段落字体动态计算）</span></span><br><span class=\"line\">  <span class=\"attr\">--fsh4</span>: <span class=\"string\">&#x27;calc(%s + 4px)&#x27;</span> % <span class=\"selector-tag\">var</span>(<span class=\"attr\">--fsp</span>) <span class=\"comment\">// h4标题大小（基于段落字体动态计算）</span></span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"attr\">--side-content-width</span>: <span class=\"number\">255px</span> <span class=\"comment\">// 侧边栏内容宽度（默认255px）</span></span><br><span class=\"line\">  <span class=\"attr\">--gap-margin</span>: <span class=\"number\">11px</span> <span class=\"comment\">// 元素外部间距（元素间距离）</span></span><br><span class=\"line\">  <span class=\"attr\">--gap-padding</span>: <span class=\"number\">11px</span> <span class=\"comment\">// 元素内部间距（内容到边框距离）</span></span><br></pre></td></tr></table></figure>\n<ul>\n<li>同时还需要在layout.styl中添加如下内容，高度随内容自适应，且底部有适度留白，兼顾功能和美观。</li>\n</ul>\n<figure class=\"highlight stylus\"><figcaption><span>layout.styl</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 普通屏幕布局</span></span><br><span class=\"line\"><span class=\"selector-class\">.l_body</span> <span class=\"selector-class\">.l_left</span></span><br><span class=\"line\">  <span class=\"attribute\">margin-bottom</span>: <span class=\"number\">16px</span>; <span class=\"comment\">// 只保留少量底部留白（数值按需调整）</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 手机端布局</span></span><br><span class=\"line\"><span class=\"keyword\">@media</span> screen <span class=\"keyword\">and</span> (<span class=\"attribute\">max-width</span>: $device-mobile-max)</span><br><span class=\"line\">  .l_body</span><br><span class=\"line\">    .l_left</span><br><span class=\"line\">      padding-bottom: <span class=\"number\">8px</span>; <span class=\"comment\">// 少量底部内边距（按需调整）</span></span><br></pre></td></tr></table></figure>\n<ul>\n<li>调整后页面整体效果如下</li>\n</ul>\n<img src=\"https://u.sam7.top/ZdpH23\" alt=\"image-20251018132921523\" style=\"zoom: 67%;\" />\n<h3 id=\"12-添加音乐播放器\">12. 添加音乐播放器</h3>\n<p>参考 <a href=\"https://blog.bxzdyg.cn/p/stellar-aplayer-metingjs/\">stellar主题使用meetingjs接入aplayer音乐播放器 - BoBoBlog</a></p>\n<p>首先需要安装音乐播放器插件<code>npm install --save hexo-tag-aplayer</code>,在根目录主题配置文件里面添加以下内容，开启metingjs。</p>\n<figure class=\"highlight yaml\"><figcaption><span>_config.yaml</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">aplayer:</span></span><br><span class=\"line\">  <span class=\"comment\"># 示例配置</span></span><br><span class=\"line\">  <span class=\"attr\">cdn:</span> <span class=\"string\">https://cdn.jsdelivr.net/npm/aplayer@latest/dist/APlayer.min.js</span></span><br><span class=\"line\">  <span class=\"attr\">style_cdn:</span> <span class=\"string\">https://cdn.jsdelivr.net/npm/aplayer@latest/dist/APlayer.min.css</span></span><br><span class=\"line\">  <span class=\"attr\">meting:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">  <span class=\"attr\">meting_cdn:</span> <span class=\"string\">https://cdn.jsdelivr.net/npm/meting@1/dist/Meting.min.js</span></span><br></pre></td></tr></table></figure>\n<p>在想要添加音乐播放器的位置添加以下代码块，这是一个md格式的网易云歌单，有时候会和toc有冲突，无法实现跳转。</p>\n<figure class=\"highlight markdown\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;% meting &quot;14222331844&quot; &quot;netease&quot; &quot;playlist&quot; &quot;autoplay&quot;  &quot;mutex:true&quot; &quot;listmaxheight:340px&quot; &quot;lrctype:0&quot; &quot;preload:none&quot; &quot;theme:#1cd0fd&quot; &quot;storagename:metingjs&quot;%&#125; </span><br></pre></td></tr></table></figure>\n<p><img src=\"https://u.sam7.top/MKB4bw\" alt=\"image-20251018130415394\"></p>\n<p>修改主题样式文件<code>aplayer.styl</code>，修改播放器参数，播放器颜色跟随系统主题。</p>\n<details class=\"tag-plugin colorful folding\" ><summary><p>查看代码</p>\n</summary><div class=\"body\"><figure class=\"highlight stylus\"><figcaption><span>aplayer.styl</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br><span class=\"line\">184</span><br><span class=\"line\">185</span><br><span class=\"line\">186</span><br><span class=\"line\">187</span><br><span class=\"line\">188</span><br><span class=\"line\">189</span><br><span class=\"line\">190</span><br><span class=\"line\">191</span><br><span class=\"line\">192</span><br><span class=\"line\">193</span><br><span class=\"line\">194</span><br><span class=\"line\">195</span><br><span class=\"line\">196</span><br><span class=\"line\">197</span><br><span class=\"line\">198</span><br><span class=\"line\">199</span><br><span class=\"line\">200</span><br><span class=\"line\">201</span><br><span class=\"line\">202</span><br><span class=\"line\">203</span><br><span class=\"line\">204</span><br><span class=\"line\">205</span><br><span class=\"line\">206</span><br><span class=\"line\">207</span><br><span class=\"line\">208</span><br><span class=\"line\">209</span><br><span class=\"line\">210</span><br><span class=\"line\">211</span><br><span class=\"line\">212</span><br><span class=\"line\">213</span><br><span class=\"line\">214</span><br><span class=\"line\">215</span><br><span class=\"line\">216</span><br><span class=\"line\">217</span><br><span class=\"line\">218</span><br><span class=\"line\">219</span><br><span class=\"line\">220</span><br><span class=\"line\">221</span><br><span class=\"line\">222</span><br><span class=\"line\">223</span><br><span class=\"line\">224</span><br><span class=\"line\">225</span><br><span class=\"line\">226</span><br><span class=\"line\">227</span><br><span class=\"line\">228</span><br><span class=\"line\">229</span><br><span class=\"line\">230</span><br><span class=\"line\">231</span><br><span class=\"line\">232</span><br><span class=\"line\">233</span><br><span class=\"line\">234</span><br><span class=\"line\">235</span><br><span class=\"line\">236</span><br><span class=\"line\">237</span><br><span class=\"line\">238</span><br><span class=\"line\">239</span><br><span class=\"line\">240</span><br><span class=\"line\">241</span><br><span class=\"line\">242</span><br><span class=\"line\">243</span><br><span class=\"line\">244</span><br><span class=\"line\">245</span><br><span class=\"line\">246</span><br><span class=\"line\">247</span><br><span class=\"line\">248</span><br><span class=\"line\">249</span><br><span class=\"line\">250</span><br><span class=\"line\">251</span><br><span class=\"line\">252</span><br><span class=\"line\">253</span><br><span class=\"line\">254</span><br><span class=\"line\">255</span><br><span class=\"line\">256</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-class\">.md-text</span></span><br><span class=\"line\">  <span class=\"selector-class\">.aplayer</span></span><br><span class=\"line\">    <span class=\"attribute\">border-radius</span>: <span class=\"variable\">$border</span>-card</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* aplayer-theme.css - 支持手动和系统主题切换的Aplayer样式 */</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* ===== CSS变量定义 ===== */</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* 默认亮色主题变量 */</span></span><br><span class=\"line\"><span class=\"selector-pseudo\">:root</span> &#123;</span><br><span class=\"line\">  <span class=\"attr\">--aplayer-bg</span>: <span class=\"number\">#ffffff</span>; <span class=\"comment\">/* 播放器主背景色 */</span></span><br><span class=\"line\">  <span class=\"attr\">--aplayer-toolbar-bg</span>: <span class=\"number\">#f8f9fa</span>; <span class=\"comment\">/* 工具栏/控制器背景色 */</span></span><br><span class=\"line\">  <span class=\"attr\">--aplayer-text</span>: <span class=\"number\">#373737</span>; <span class=\"comment\">/* 主要文字颜色 */</span></span><br><span class=\"line\">  <span class=\"attr\">--aplayer-border</span>: <span class=\"number\">#e9e9e9</span>; <span class=\"comment\">/* 边框颜色 */</span></span><br><span class=\"line\">  <span class=\"attr\">--aplayer-hover-bg</span>: <span class=\"number\">#efefef</span>; <span class=\"comment\">/* 鼠标悬停背景色 */</span></span><br><span class=\"line\">  <span class=\"attr\">--aplayer-hover-text</span>: <span class=\"number\">#ff5722</span>; <span class=\"comment\">/* 鼠标悬停文字颜色 */</span></span><br><span class=\"line\">  <span class=\"attr\">--aplayer-active-bg</span>: <span class=\"number\">#e9ecef</span>; <span class=\"comment\">/* 当前选中项背景色（比普通背景更深） */</span></span><br><span class=\"line\">  <span class=\"attr\">--aplayer-active-text</span>: <span class=\"number\">#2c2c2c</span>; <span class=\"comment\">/* 当前选中项文字颜色（亮色主题下保持深色） */</span></span><br><span class=\"line\">  <span class=\"attr\">--aplayer-list-item-height</span>: <span class=\"number\">32px</span>; <span class=\"comment\">/* 列表项高度 */</span></span><br><span class=\"line\">  <span class=\"attr\">--aplayer-list-item-padding</span>: <span class=\"number\">0</span> <span class=\"number\">15px</span>; <span class=\"comment\">/* 列表项内边距 */</span></span><br><span class=\"line\">  <span class=\"attr\">--aplayer-list-item-font-size</span>: <span class=\"number\">12px</span>; <span class=\"comment\">/* 列表项字体大小 */</span></span><br><span class=\"line\">  <span class=\"attr\">--aplayer-list-light-font-size</span>: small; <span class=\"comment\">/* 当前选中项字体大小 */</span></span><br><span class=\"line\">  <span class=\"attr\">--aplayer-list-light-font-weight</span>: bold; <span class=\"comment\">/* 当前选中项字体粗细 */</span></span><br><span class=\"line\">  <span class=\"attr\">--aplayer-hover-font-size</span>: small; <span class=\"comment\">/* 悬停时字体大小 */</span></span><br><span class=\"line\">  <span class=\"attr\">--aplayer-hover-font-weight</span>: bold; <span class=\"comment\">/* 悬停时字体粗细 */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* 暗色主题变量 - 通过[data-theme=&quot;dark&quot;]属性应用 */</span></span><br><span class=\"line\"><span class=\"selector-attr\">[data-theme=<span class=\"string\">&quot;dark&quot;</span>]</span> &#123;</span><br><span class=\"line\">  <span class=\"attr\">--aplayer-bg</span>: <span class=\"number\">#1e1e1e</span>; <span class=\"comment\">/* 播放器主背景色 */</span></span><br><span class=\"line\">  <span class=\"attr\">--aplayer-toolbar-bg</span>: <span class=\"number\">#1e1e1e</span>; <span class=\"comment\">/* 工具栏/控制器背景色 */</span></span><br><span class=\"line\">  <span class=\"attr\">--aplayer-text</span>: <span class=\"number\">#ffffffff</span>; <span class=\"comment\">/* 主要文字颜色 */</span></span><br><span class=\"line\">  <span class=\"attr\">--aplayer-border</span>: <span class=\"number\">#383d42</span>; <span class=\"comment\">/* 边框颜色 */</span></span><br><span class=\"line\">  <span class=\"attr\">--aplayer-hover-bg</span>: <span class=\"number\">#3d3d3d</span>; <span class=\"comment\">/* 鼠标悬停背景色 */</span></span><br><span class=\"line\">  <span class=\"attr\">--aplayer-hover-text</span>: <span class=\"number\">#ff5722</span>; <span class=\"comment\">/* 鼠标悬停文字颜色 */</span></span><br><span class=\"line\">  <span class=\"attr\">--aplayer-active-bg</span>: <span class=\"number\">#4a4a4a</span>; <span class=\"comment\">/* 当前选中项背景色（比普通背景更深） */</span></span><br><span class=\"line\">  <span class=\"attr\">--aplayer-active-text</span>: <span class=\"number\">#01686dff</span>; <span class=\"comment\">/* 当前选中项文字颜色（暗色主题下使用更亮的白色，提高对比度） */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* 系统主题检测作为备用方案 - 当没有手动设置主题时生效 */</span></span><br><span class=\"line\"><span class=\"keyword\">@media</span> (<span class=\"attribute\">prefers-color-scheme</span>: dark) &#123;</span><br><span class=\"line\">  <span class=\"selector-pseudo\">:root</span><span class=\"selector-pseudo\">:not</span>(<span class=\"selector-attr\">[data-theme]</span>) &#123; <span class=\"comment\">/* 选择没有设置data-theme属性的根元素 */</span></span><br><span class=\"line\">    <span class=\"attr\">--aplayer-bg</span>: <span class=\"number\">#1e1e1e</span>; <span class=\"comment\">/* 播放器主背景色 */</span></span><br><span class=\"line\">    <span class=\"attr\">--aplayer-toolbar-bg</span>: <span class=\"number\">#1e1e1e</span>; <span class=\"comment\">/* 工具栏/控制器背景色 */</span></span><br><span class=\"line\">    <span class=\"attr\">--aplayer-text</span>: <span class=\"number\">#ffffffff</span>; <span class=\"comment\">/* 主要文字颜色 */</span></span><br><span class=\"line\">    <span class=\"attr\">--aplayer-border</span>: <span class=\"number\">#383d42</span>; <span class=\"comment\">/* 边框颜色 */</span></span><br><span class=\"line\">    <span class=\"attr\">--aplayer-hover-bg</span>: <span class=\"number\">#3d3d3d</span>; <span class=\"comment\">/* 鼠标悬停背景色 */</span></span><br><span class=\"line\">    <span class=\"attr\">--aplayer-hover-text</span>: <span class=\"number\">#ff5722</span>; <span class=\"comment\">/* 鼠标悬停文字颜色 */</span></span><br><span class=\"line\">    <span class=\"attr\">--aplayer-active-bg</span>: <span class=\"number\">#4a4a4a</span>; <span class=\"comment\">/* 当前选中项背景色（比普通背景更深） */</span></span><br><span class=\"line\">    <span class=\"attr\">--aplayer-active-text</span>: <span class=\"number\">#01686dff</span>; <span class=\"comment\">/* 当前选中项文字颜色（暗色主题下使用更亮的白色，提高对比度） */</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* ===== Aplayer整体样式 ===== */</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.aplayer</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">background</span>: <span class=\"built_in\">var</span>(--aplayer-bg); <span class=\"comment\">/* 背景色使用CSS变量 */</span></span><br><span class=\"line\">  <span class=\"attribute\">color</span>: <span class=\"built_in\">var</span>(--aplayer-text); <span class=\"comment\">/* 文字颜色使用CSS变量 */</span></span><br><span class=\"line\">  <span class=\"attribute\">font-family</span>: -apple-system, BlinkMacSystemFont, <span class=\"string\">&quot;Segoe UI&quot;</span>, Roboto, Oxygen, Ubuntu, Cantarell, <span class=\"string\">&quot;Open Sans&quot;</span>, <span class=\"string\">&quot;Helvetica Neue&quot;</span>, sans-serif; <span class=\"comment\">/* 字体族设置 */</span></span><br><span class=\"line\">  <span class=\"attribute\">border-radius</span>: <span class=\"number\">6px</span>; <span class=\"comment\">/* 圆角边框 */</span></span><br><span class=\"line\">  <span class=\"attribute\">box-shadow</span>: <span class=\"number\">0</span> <span class=\"number\">2px</span> <span class=\"number\">10px</span> <span class=\"built_in\">rgba</span>(<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0.1</span>); <span class=\"comment\">/* 阴影效果 */</span></span><br><span class=\"line\">  <span class=\"attribute\">transition</span>: all <span class=\"number\">0.3s</span> ease; <span class=\"comment\">/* 过渡动画效果 */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* ===== 工具栏/控制器区域样式 ===== */</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.aplayer</span> <span class=\"selector-class\">.aplayer-info</span>,</span><br><span class=\"line\"><span class=\"selector-class\">.aplayer</span> <span class=\"selector-class\">.aplayer-controller</span>,</span><br><span class=\"line\"><span class=\"selector-class\">.aplayer</span> <span class=\"selector-class\">.aplayer-body</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">background</span>: <span class=\"built_in\">var</span>(--aplayer-toolbar-bg); <span class=\"comment\">/* 使用工具栏专用背景色 */</span></span><br><span class=\"line\">  <span class=\"attribute\">transition</span>: background-color <span class=\"number\">0.3s</span> ease; <span class=\"comment\">/* 背景色过渡效果 */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.aplayer</span> <span class=\"selector-class\">.aplayer-info</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">border-bottom</span>: <span class=\"number\">1px</span> solid <span class=\"built_in\">var</span>(--aplayer-border); <span class=\"comment\">/* 底部边框 */</span></span><br><span class=\"line\">  <span class=\"attribute\">padding</span>: <span class=\"number\">12px</span> <span class=\"number\">15px</span>; <span class=\"comment\">/* 内边距 */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.aplayer</span> <span class=\"selector-class\">.aplayer-info</span> <span class=\"selector-class\">.aplayer-music</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: <span class=\"built_in\">var</span>(--aplayer-text); <span class=\"comment\">/* 文字颜色 */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.aplayer</span> <span class=\"selector-class\">.aplayer-info</span> <span class=\"selector-class\">.aplayer-music</span> <span class=\"selector-class\">.aplayer-title</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: <span class=\"built_in\">var</span>(--aplayer-active-text); <span class=\"comment\">/* 使用更突出的颜色 */</span></span><br><span class=\"line\">  <span class=\"attribute\">font-weight</span>: bold; <span class=\"comment\">/* 字体加粗 */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.aplayer</span> <span class=\"selector-class\">.aplayer-controller</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">border-top</span>: <span class=\"number\">1px</span> solid <span class=\"built_in\">var</span>(--aplayer-border); <span class=\"comment\">/* 顶部边框 */</span></span><br><span class=\"line\">  <span class=\"attribute\">padding</span>: <span class=\"number\">8px</span> <span class=\"number\">15px</span>; <span class=\"comment\">/* 内边距 */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* ===== 进度条样式 ===== */</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.aplayer</span> <span class=\"selector-class\">.aplayer-bar</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">background</span>: <span class=\"built_in\">var</span>(--aplayer-border); <span class=\"comment\">/* 轨道背景色 */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.aplayer</span> <span class=\"selector-class\">.aplayer-loaded</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">background</span>: <span class=\"built_in\">var</span>(--aplayer-hover-bg); <span class=\"comment\">/* 已加载部分背景色 */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.aplayer</span> <span class=\"selector-class\">.aplayer-played</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">background</span>: <span class=\"built_in\">var</span>(--aplayer-hover-text); <span class=\"comment\">/* 已播放部分背景色 */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.aplayer</span> <span class=\"selector-class\">.aplayer-thumb</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">background</span>: <span class=\"built_in\">var</span>(--aplayer-hover-text); <span class=\"comment\">/* 拖拽点背景色 */</span></span><br><span class=\"line\">  <span class=\"attribute\">box-shadow</span>: <span class=\"number\">0</span> <span class=\"number\">0</span> <span class=\"number\">5px</span> <span class=\"built_in\">rgba</span>(<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0.2</span>); <span class=\"comment\">/* 拖拽点阴影 */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* ===== 时间显示样式 ===== */</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.aplayer</span> <span class=\"selector-class\">.aplayer-time</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: <span class=\"built_in\">var</span>(--aplayer-text); <span class=\"comment\">/* 时间文字颜色 */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* ===== 音量控制样式 ===== */</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.aplayer</span> <span class=\"selector-class\">.aplayer-volume-wrap</span> <span class=\"selector-class\">.aplayer-volume-bar</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">background</span>: <span class=\"built_in\">var</span>(--aplayer-border); <span class=\"comment\">/* 音量轨道背景色 */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.aplayer</span> <span class=\"selector-class\">.aplayer-volume-wrap</span> <span class=\"selector-class\">.aplayer-volume</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">background</span>: <span class=\"built_in\">var</span>(--aplayer-hover-text); <span class=\"comment\">/* 音量滑块背景色 */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* ===== 播放列表样式 ===== */</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.aplayer</span> <span class=\"selector-class\">.aplayer-list</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">border-top</span>: <span class=\"number\">1px</span> solid <span class=\"built_in\">var</span>(--aplayer-border); <span class=\"comment\">/* 顶部边框 */</span></span><br><span class=\"line\">  <span class=\"attribute\">max-height</span>: <span class=\"number\">300px</span>; <span class=\"comment\">/* 最大高度限制 */</span></span><br><span class=\"line\">  <span class=\"attribute\">overflow-y</span>: auto; <span class=\"comment\">/* 垂直方向溢出时显示滚动条 */</span></span><br><span class=\"line\">  <span class=\"attribute\">background</span>: <span class=\"built_in\">var</span>(--aplayer-bg); <span class=\"comment\">/* 列表背景色 */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.aplayer</span> <span class=\"selector-class\">.aplayer-list</span> <span class=\"selector-tag\">ol</span> <span class=\"selector-tag\">li</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">position</span>: relative; <span class=\"comment\">/* 相对定位 */</span></span><br><span class=\"line\">  <span class=\"attribute\">height</span>: <span class=\"built_in\">var</span>(--aplayer-list-item-height); <span class=\"comment\">/* 固定高度 */</span></span><br><span class=\"line\">  <span class=\"attribute\">line-height</span>: <span class=\"built_in\">var</span>(--aplayer-list-item-height); <span class=\"comment\">/* 行高等于高度，实现垂直居中 */</span></span><br><span class=\"line\">  <span class=\"attribute\">padding</span>: <span class=\"built_in\">var</span>(--aplayer-list-item-padding); <span class=\"comment\">/* 内边距 */</span></span><br><span class=\"line\">  <span class=\"attribute\">font-size</span>: <span class=\"built_in\">var</span>(--aplayer-list-item-font-size); <span class=\"comment\">/* 字体大小 */</span></span><br><span class=\"line\">  <span class=\"attribute\">border-top</span>: <span class=\"number\">1px</span> solid <span class=\"built_in\">var</span>(--aplayer-border); <span class=\"comment\">/* 顶部边框 */</span></span><br><span class=\"line\">  <span class=\"attribute\">cursor</span>: pointer; <span class=\"comment\">/* 鼠标指针样式 */</span></span><br><span class=\"line\">  <span class=\"attribute\">transition</span>: all <span class=\"number\">0.2s</span> ease; <span class=\"comment\">/* 过渡动画效果 */</span></span><br><span class=\"line\">  <span class=\"attribute\">overflow</span>: hidden; <span class=\"comment\">/* 隐藏溢出内容 */</span></span><br><span class=\"line\">  <span class=\"attribute\">margin</span>: <span class=\"number\">0</span>; <span class=\"comment\">/* 外边距归零 */</span></span><br><span class=\"line\">  <span class=\"attribute\">color</span>: <span class=\"built_in\">var</span>(--aplayer-text); <span class=\"comment\">/* 文字颜色 */</span></span><br><span class=\"line\">  <span class=\"attribute\">background-color</span>: <span class=\"built_in\">var</span>(--aplayer-bg); <span class=\"comment\">/* 背景色 */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.aplayer</span> <span class=\"selector-class\">.aplayer-list</span> <span class=\"selector-tag\">ol</span> <span class=\"selector-tag\">li</span><span class=\"selector-pseudo\">:first-child</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">border-top</span>: none; <span class=\"comment\">/* 无边框 */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.aplayer</span> <span class=\"selector-class\">.aplayer-list</span> <span class=\"selector-tag\">ol</span> <span class=\"selector-tag\">li</span><span class=\"selector-class\">.aplayer-list-light</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">background</span>: <span class=\"built_in\">var</span>(--aplayer-active-bg); <span class=\"comment\">/* 使用更深的背景色突出显示 */</span></span><br><span class=\"line\">  <span class=\"attribute\">color</span>: <span class=\"built_in\">var</span>(--aplayer-active-text); <span class=\"comment\">/* 文字颜色使用更亮的白色，提高对比度 */</span></span><br><span class=\"line\">  <span class=\"attribute\">font-size</span>: <span class=\"built_in\">var</span>(--aplayer-list-light-font-size); <span class=\"comment\">/* 字体大小 */</span></span><br><span class=\"line\">  <span class=\"attribute\">font-weight</span>: <span class=\"built_in\">var</span>(--aplayer-list-light-font-weight); <span class=\"comment\">/* 字体粗细 */</span></span><br><span class=\"line\">  <span class=\"attribute\">position</span>: relative; <span class=\"comment\">/* 相对定位 */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.aplayer</span> <span class=\"selector-class\">.aplayer-list</span> <span class=\"selector-tag\">ol</span> <span class=\"selector-tag\">li</span><span class=\"selector-class\">.aplayer-list-light</span><span class=\"selector-pseudo\">::before</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">content</span>: <span class=\"string\">&#x27;&#x27;</span>; <span class=\"comment\">/* 伪元素内容为空 */</span></span><br><span class=\"line\">  <span class=\"attribute\">position</span>: absolute; <span class=\"comment\">/* 绝对定位 */</span></span><br><span class=\"line\">  <span class=\"attribute\">left</span>: <span class=\"number\">0</span>; <span class=\"comment\">/* 左侧对齐 */</span></span><br><span class=\"line\">  <span class=\"attribute\">top</span>: <span class=\"number\">0</span>; <span class=\"comment\">/* 顶部对齐 */</span></span><br><span class=\"line\">  <span class=\"attribute\">height</span>: <span class=\"number\">100%</span>; <span class=\"comment\">/* 高度100% */</span></span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">3px</span>; <span class=\"comment\">/* 宽度3像素 */</span></span><br><span class=\"line\">  <span class=\"attribute\">background</span>: <span class=\"built_in\">var</span>(--aplayer-hover-text); <span class=\"comment\">/* 指示条颜色 */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.aplayer</span> <span class=\"selector-class\">.aplayer-list</span> <span class=\"selector-tag\">ol</span> <span class=\"selector-tag\">li</span><span class=\"selector-pseudo\">:hover</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">background</span>: <span class=\"built_in\">var</span>(--aplayer-hover-bg); <span class=\"comment\">/* 悬停背景色 */</span></span><br><span class=\"line\">  <span class=\"attribute\">color</span>: <span class=\"built_in\">var</span>(--aplayer-hover-text); <span class=\"comment\">/* 悬停文字颜色 */</span></span><br><span class=\"line\">  <span class=\"attribute\">font-size</span>: <span class=\"built_in\">var</span>(--aplayer-hover-font-size); <span class=\"comment\">/* 悬停时字体大小 */</span></span><br><span class=\"line\">  <span class=\"attribute\">font-weight</span>: <span class=\"built_in\">var</span>(--aplayer-hover-font-weight); <span class=\"comment\">/* 悬停时字体粗细 */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* ===== 滚动条样式 ===== */</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.aplayer</span> <span class=\"selector-class\">.aplayer-list</span>::-webkit-scrollbar &#123;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">6px</span>; <span class=\"comment\">/* 滚动条宽度 */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.aplayer</span> <span class=\"selector-class\">.aplayer-list</span>::-webkit-scrollbar-track &#123;</span><br><span class=\"line\">  <span class=\"attribute\">background</span>: <span class=\"built_in\">var</span>(--aplayer-bg); <span class=\"comment\">/* 轨道背景色 */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.aplayer</span> <span class=\"selector-class\">.aplayer-list</span>::-webkit-scrollbar-thumb &#123;</span><br><span class=\"line\">  <span class=\"attribute\">background</span>: <span class=\"built_in\">var</span>(--aplayer-border); <span class=\"comment\">/* 滑块背景色 */</span></span><br><span class=\"line\">  <span class=\"attribute\">border-radius</span>: <span class=\"number\">3px</span>; <span class=\"comment\">/* 滑块圆角 */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.aplayer</span> <span class=\"selector-class\">.aplayer-list</span>::-webkit-scrollbar-thumb<span class=\"selector-pseudo\">:hover</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">background</span>: <span class=\"built_in\">var</span>(--aplayer-hover-text); <span class=\"comment\">/* 悬停时滑块背景色 */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* ===== 播放按钮样式 ===== */</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.aplayer</span> <span class=\"selector-class\">.aplayer-play</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">22px</span>; <span class=\"comment\">/* 宽度 */</span></span><br><span class=\"line\">  <span class=\"attribute\">height</span>: <span class=\"number\">22px</span>; <span class=\"comment\">/* 高度 */</span></span><br><span class=\"line\">  <span class=\"attribute\">border</span>: <span class=\"number\">1px</span> solid <span class=\"built_in\">var</span>(--aplayer-border); <span class=\"comment\">/* 边框 */</span></span><br><span class=\"line\">  <span class=\"attribute\">border-radius</span>: <span class=\"number\">50%</span>; <span class=\"comment\">/* 圆形边框 */</span></span><br><span class=\"line\">  <span class=\"attribute\">display</span>: flex; <span class=\"comment\">/* 弹性布局 */</span></span><br><span class=\"line\">  <span class=\"attribute\">align-items</span>: center; <span class=\"comment\">/* 垂直居中 */</span></span><br><span class=\"line\">  <span class=\"attribute\">justify-content</span>: center; <span class=\"comment\">/* 水平居中 */</span></span><br><span class=\"line\">  <span class=\"attribute\">transition</span>: all <span class=\"number\">0.2s</span> ease; <span class=\"comment\">/* 过渡动画 */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.aplayer</span> <span class=\"selector-class\">.aplayer-play</span><span class=\"selector-pseudo\">:hover</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">border-color</span>: <span class=\"built_in\">var</span>(--aplayer-hover-text); <span class=\"comment\">/* 悬停时边框颜色 */</span></span><br><span class=\"line\">  <span class=\"attribute\">background</span>: <span class=\"built_in\">var</span>(--aplayer-hover-bg); <span class=\"comment\">/* 悬停时背景色 */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* ===== 歌词面板样式 ===== */</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.aplayer</span> <span class=\"selector-class\">.aplayer-lrc</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">background</span>: <span class=\"built_in\">var</span>(--aplayer-toolbar-bg); <span class=\"comment\">/* 背景色 */</span></span><br><span class=\"line\">  <span class=\"attribute\">border-top</span>: <span class=\"number\">1px</span> solid <span class=\"built_in\">var</span>(--aplayer-border); <span class=\"comment\">/* 顶部边框 */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.aplayer</span> <span class=\"selector-class\">.aplayer-lrc</span> <span class=\"selector-class\">.aplayer-lrc-current</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: <span class=\"built_in\">var</span>(--aplayer-active-text); <span class=\"comment\">/* 当前歌词文字颜色使用更亮的颜色 */</span></span><br><span class=\"line\">  <span class=\"attribute\">font-weight</span>: bold; <span class=\"comment\">/* 字体加粗 */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* ===== 迷你模式样式 ===== */</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.aplayer</span><span class=\"selector-class\">.aplayer-mini</span> <span class=\"selector-class\">.aplayer-body</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">background</span>: <span class=\"built_in\">var</span>(--aplayer-toolbar-bg); <span class=\"comment\">/* 背景色 */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.aplayer</span><span class=\"selector-class\">.aplayer-mini</span> <span class=\"selector-class\">.aplayer-info</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">background</span>: transparent; <span class=\"comment\">/* 透明背景 */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.aplayer</span><span class=\"selector-class\">.aplayer-mini</span> <span class=\"selector-class\">.aplayer-info</span> <span class=\"selector-class\">.aplayer-music</span> <span class=\"selector-class\">.aplayer-title</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: <span class=\"built_in\">var</span>(--aplayer-active-text); <span class=\"comment\">/* 使用更突出的颜色 */</span></span><br><span class=\"line\">  <span class=\"attribute\">font-weight</span>: bold; <span class=\"comment\">/* 字体加粗 */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* ===== 艺术家和专辑信息样式 ===== */</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.aplayer</span> <span class=\"selector-class\">.aplayer-info</span> <span class=\"selector-class\">.aplayer-music</span> <span class=\"selector-class\">.aplayer-author</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: <span class=\"built_in\">var</span>(--aplayer-text); <span class=\"comment\">/* 艺术家文字颜色 */</span></span><br><span class=\"line\">  <span class=\"attribute\">opacity</span>: <span class=\"number\">1</span>; <span class=\"comment\">/* 透明度稍低，作为次要信息 */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.aplayer</span> <span class=\"selector-class\">.aplayer-list</span> <span class=\"selector-tag\">ol</span> <span class=\"selector-tag\">li</span><span class=\"selector-class\">.aplayer-list-light</span> <span class=\"selector-class\">.aplayer-list-author</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: <span class=\"built_in\">var</span>(--aplayer-active-text); <span class=\"comment\">/* 当前歌曲艺术家信息使用更亮的颜色 */</span></span><br><span class=\"line\">  <span class=\"attribute\">opacity</span>: <span class=\"number\">1</span>; <span class=\"comment\">/* 降低透明度，但仍保持可读性 */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure> </div></details>\n<h3 id=\"13-背景动态设置\">13. 背景动态设置</h3>\n<h4 id=\"13-1-随机线条效果\">13.1 随机线条效果</h4>\n<p>主题文件layout.ejs文件中添加以下代码</p>\n<figure class=\"highlight plaintext\"><figcaption><span>layout.ejs</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;script type=&quot;text/javascript&quot;color=&quot;0,0,255&quot; opacity=&#x27;0.7&#x27; zIndex=&quot;-2&quot; count=&quot;99&quot; src=&quot;//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>\n<p><code>color</code> ：线条颜色, 默认: <code>'0,0,0'</code>；三个数字分别为(R,G,B)</p>\n</li>\n<li>\n<p><code>opacity</code>: 线条透明度（0~1）, 默认: <code>0.5</code></p>\n</li>\n<li>\n<p><code>count</code>: 线条的总数量, 默认: <code>150</code></p>\n</li>\n<li>\n<p><code>zIndex:</code> 背景的z-index属性，CSS属性用于控制所在层的位置, 默认: <code>-1</code></p>\n</li>\n</ul>\n<p>终端运行hexo clean 清除缓存，hexo g&amp;hexo s渲染网页后本地预览。</p>\n<p>手机端显示很乱，影响阅览网页，已弃用。</p>\n<h4 id=\"13-2-随机樱花效果\">13.2 随机樱花效果</h4>\n<p>参考以下文章，修改成可以替换任意图像元素效果。</p>\n<p><a href=\"https://cnhuazhu.top/butterfly/2021/02/24/Hexo%E9%AD%94%E6%94%B9/Hexo%E6%B7%BB%E5%8A%A0%E9%9B%AA%E8%8A%B1%E5%8A%A8%E6%80%81%E6%95%88%E6%9E%9C%E8%83%8C%E6%99%AF/\">Hexo添加雪花动态效果背景 | 花猪のBlog</a></p>\n<p><a href=\"https://cnhuazhu.top/butterfly/2021/02/19/Hexo%E9%AD%94%E6%94%B9/Hexo%E6%B7%BB%E5%8A%A0%E6%A8%B1%E8%8A%B1%E5%8A%A8%E6%80%81%E6%95%88%E6%9E%9C%E8%83%8C%E6%99%AF/\">Hexo添加樱花动态效果背景 | 花猪のBlog</a></p>\n<p>base64图片太长了，占用空间大，提取base64编码转换成图片，上传图床。</p>\n<p><img src=\"https://u.sam7.top/2NkzEk\" alt=\"result\"></p>\n<p>新建sakura.js文件</p>\n<details class=\"tag-plugin colorful folding\" ><summary><p>代码折叠</p>\n</summary><div class=\"body\"><figure class=\"highlight js\"><figcaption><span>sakura.js</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Sakura</span> &#123;</span><br><span class=\"line\">    <span class=\"title function_\">constructor</span>(<span class=\"params\">x, y, s, r, fn, image</span>) &#123;</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">x</span> = x;</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">y</span> = y;</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">s</span> = s;</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">r</span> = r;</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">fn</span> = fn;</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">image</span> = image;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"title function_\">draw</span>(<span class=\"params\">cxt</span>) &#123;</span><br><span class=\"line\">        cxt.<span class=\"title function_\">save</span>();</span><br><span class=\"line\">        cxt.<span class=\"title function_\">translate</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">x</span>, <span class=\"variable language_\">this</span>.<span class=\"property\">y</span>);</span><br><span class=\"line\">        cxt.<span class=\"title function_\">rotate</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">r</span>);</span><br><span class=\"line\">        <span class=\"keyword\">const</span> size = <span class=\"number\">40</span> * <span class=\"variable language_\">this</span>.<span class=\"property\">s</span>;</span><br><span class=\"line\">        cxt.<span class=\"title function_\">drawImage</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">image</span>, -size/<span class=\"number\">2</span>, -size/<span class=\"number\">2</span>, size, size);</span><br><span class=\"line\">        cxt.<span class=\"title function_\">restore</span>();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"title function_\">update</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">x</span> = <span class=\"variable language_\">this</span>.<span class=\"property\">fn</span>.<span class=\"title function_\">x</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">x</span>, <span class=\"variable language_\">this</span>.<span class=\"property\">y</span>);</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">y</span> = <span class=\"variable language_\">this</span>.<span class=\"property\">fn</span>.<span class=\"title function_\">y</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">y</span>, <span class=\"variable language_\">this</span>.<span class=\"property\">x</span>);</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">r</span> = <span class=\"variable language_\">this</span>.<span class=\"property\">fn</span>.<span class=\"title function_\">r</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">r</span>);</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">x</span> &gt; <span class=\"variable language_\">window</span>.<span class=\"property\">innerWidth</span> || <span class=\"variable language_\">this</span>.<span class=\"property\">x</span> &lt; <span class=\"number\">0</span> || <span class=\"variable language_\">this</span>.<span class=\"property\">y</span> &gt; <span class=\"variable language_\">window</span>.<span class=\"property\">innerHeight</span> || <span class=\"variable language_\">this</span>.<span class=\"property\">y</span> &lt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">            <span class=\"variable language_\">this</span>.<span class=\"title function_\">reset</span>();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"title function_\">reset</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">r</span> = <span class=\"title function_\">getRandom</span>(<span class=\"string\">&#x27;fnr&#x27;</span>)();</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"title class_\">Math</span>.<span class=\"title function_\">random</span>() &gt; <span class=\"number\">0.4</span>) &#123;</span><br><span class=\"line\">            <span class=\"variable language_\">this</span>.<span class=\"property\">x</span> = <span class=\"title function_\">getRandom</span>(<span class=\"string\">&#x27;x&#x27;</span>);</span><br><span class=\"line\">            <span class=\"variable language_\">this</span>.<span class=\"property\">y</span> = <span class=\"number\">0</span>;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"variable language_\">this</span>.<span class=\"property\">x</span> = <span class=\"variable language_\">window</span>.<span class=\"property\">innerWidth</span>;</span><br><span class=\"line\">            <span class=\"variable language_\">this</span>.<span class=\"property\">y</span> = <span class=\"title function_\">getRandom</span>(<span class=\"string\">&#x27;y&#x27;</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">s</span> = <span class=\"title function_\">getRandom</span>(<span class=\"string\">&#x27;s&#x27;</span>);</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">r</span> = <span class=\"title function_\">getRandom</span>(<span class=\"string\">&#x27;r&#x27;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> stop = <span class=\"literal\">null</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 检测是否为移动设备</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">isMobileDevice</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"regexp\">/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i</span>.<span class=\"title function_\">test</span>(navigator.<span class=\"property\">userAgent</span>) || </span><br><span class=\"line\">           <span class=\"variable language_\">window</span>.<span class=\"property\">innerWidth</span> &lt;= <span class=\"number\">768</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">getRandom</span>(<span class=\"params\">option</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">switch</span> (option) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">case</span> <span class=\"string\">&#x27;x&#x27;</span>: <span class=\"keyword\">return</span> <span class=\"title class_\">Math</span>.<span class=\"title function_\">random</span>() * <span class=\"variable language_\">window</span>.<span class=\"property\">innerWidth</span>;</span><br><span class=\"line\">        <span class=\"keyword\">case</span> <span class=\"string\">&#x27;y&#x27;</span>: <span class=\"keyword\">return</span> <span class=\"title class_\">Math</span>.<span class=\"title function_\">random</span>() * <span class=\"variable language_\">window</span>.<span class=\"property\">innerHeight</span>;</span><br><span class=\"line\">        <span class=\"keyword\">case</span> <span class=\"string\">&#x27;s&#x27;</span>: <span class=\"keyword\">return</span> <span class=\"title class_\">Math</span>.<span class=\"title function_\">random</span>() * <span class=\"number\">0.5</span> + <span class=\"number\">0.3</span>;</span><br><span class=\"line\">        <span class=\"keyword\">case</span> <span class=\"string\">&#x27;r&#x27;</span>: <span class=\"keyword\">return</span> <span class=\"title class_\">Math</span>.<span class=\"title function_\">random</span>() * <span class=\"title class_\">Math</span>.<span class=\"property\">PI</span> * <span class=\"number\">2</span>;</span><br><span class=\"line\">        <span class=\"keyword\">case</span> <span class=\"string\">&#x27;fnx&#x27;</span>: <span class=\"keyword\">return</span> <span class=\"function\">(<span class=\"params\">x, y</span>) =&gt;</span> x + (<span class=\"title class_\">Math</span>.<span class=\"title function_\">random</span>() - <span class=\"number\">0.5</span>) * <span class=\"number\">2</span> - <span class=\"number\">1</span>;</span><br><span class=\"line\">        <span class=\"keyword\">case</span> <span class=\"string\">&#x27;fny&#x27;</span>: <span class=\"keyword\">return</span> <span class=\"function\">(<span class=\"params\">y, x</span>) =&gt;</span> y + <span class=\"number\">1.5</span> + <span class=\"title class_\">Math</span>.<span class=\"title function_\">random</span>();</span><br><span class=\"line\">        <span class=\"keyword\">case</span> <span class=\"string\">&#x27;fnr&#x27;</span>: <span class=\"keyword\">return</span> <span class=\"function\">(<span class=\"params\">r</span>) =&gt;</span> r + <span class=\"title class_\">Math</span>.<span class=\"title function_\">random</span>() * <span class=\"number\">0.03</span>;</span><br><span class=\"line\">        <span class=\"attr\">default</span>: <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">startSakura</span>(<span class=\"params\">image</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (stop) &#123;</span><br><span class=\"line\">        <span class=\"title function_\">cancelAnimationFrame</span>(stop);</span><br><span class=\"line\">        <span class=\"keyword\">const</span> canvas = <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&#x27;canvas_sakura&#x27;</span>);</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (canvas) canvas.<span class=\"title function_\">remove</span>();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">const</span> canvas = <span class=\"variable language_\">document</span>.<span class=\"title function_\">createElement</span>(<span class=\"string\">&#x27;canvas&#x27;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">const</span> cxt = canvas.<span class=\"title function_\">getContext</span>(<span class=\"string\">&#x27;2d&#x27;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">const</span> sakuras = [];</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">// 移动端优化</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> isMobile = <span class=\"title function_\">isMobileDevice</span>();</span><br><span class=\"line\">    <span class=\"keyword\">const</span> sakuraCount = isMobile ? <span class=\"number\">15</span> : <span class=\"number\">25</span>; <span class=\"comment\">// 移动端减少樱花数量</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    canvas.<span class=\"property\">height</span> = <span class=\"variable language_\">window</span>.<span class=\"property\">innerHeight</span>;</span><br><span class=\"line\">    canvas.<span class=\"property\">width</span> = <span class=\"variable language_\">window</span>.<span class=\"property\">innerWidth</span>;</span><br><span class=\"line\">    canvas.<span class=\"property\">style</span>.<span class=\"property\">cssText</span> = <span class=\"string\">&#x27;position:fixed;left:0;top:0;pointer-events:none;z-index:9999;&#x27;</span>;</span><br><span class=\"line\">    canvas.<span class=\"property\">id</span> = <span class=\"string\">&#x27;canvas_sakura&#x27;</span>;</span><br><span class=\"line\">    <span class=\"variable language_\">document</span>.<span class=\"property\">body</span>.<span class=\"title function_\">appendChild</span>(canvas);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 创建樱花实例</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; sakuraCount; i++) &#123;</span><br><span class=\"line\">        sakuras.<span class=\"title function_\">push</span>(<span class=\"keyword\">new</span> <span class=\"title class_\">Sakura</span>(</span><br><span class=\"line\">            <span class=\"title function_\">getRandom</span>(<span class=\"string\">&#x27;x&#x27;</span>),</span><br><span class=\"line\">            <span class=\"title function_\">getRandom</span>(<span class=\"string\">&#x27;y&#x27;</span>),</span><br><span class=\"line\">            <span class=\"title function_\">getRandom</span>(<span class=\"string\">&#x27;s&#x27;</span>),</span><br><span class=\"line\">            <span class=\"title function_\">getRandom</span>(<span class=\"string\">&#x27;r&#x27;</span>),</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"attr\">x</span>: <span class=\"title function_\">getRandom</span>(<span class=\"string\">&#x27;fnx&#x27;</span>),</span><br><span class=\"line\">                <span class=\"attr\">y</span>: <span class=\"title function_\">getRandom</span>(<span class=\"string\">&#x27;fny&#x27;</span>),</span><br><span class=\"line\">                <span class=\"attr\">r</span>: <span class=\"title function_\">getRandom</span>(<span class=\"string\">&#x27;fnr&#x27;</span>)</span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            image</span><br><span class=\"line\">        ));</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">function</span> <span class=\"title function_\">animate</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">        cxt.<span class=\"title function_\">clearRect</span>(<span class=\"number\">0</span>, <span class=\"number\">0</span>, canvas.<span class=\"property\">width</span>, canvas.<span class=\"property\">height</span>);</span><br><span class=\"line\">        sakuras.<span class=\"title function_\">forEach</span>(<span class=\"function\"><span class=\"params\">sakura</span> =&gt;</span> &#123;</span><br><span class=\"line\">            sakura.<span class=\"title function_\">update</span>();</span><br><span class=\"line\">            sakura.<span class=\"title function_\">draw</span>(cxt);</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">        stop = <span class=\"title function_\">requestAnimationFrame</span>(animate);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    stop = <span class=\"title function_\">requestAnimationFrame</span>(animate);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">toggleSakura</span>(<span class=\"params\">imageUrl</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (stop) &#123;</span><br><span class=\"line\">        <span class=\"title function_\">cancelAnimationFrame</span>(stop);</span><br><span class=\"line\">        stop = <span class=\"literal\">null</span>;</span><br><span class=\"line\">        <span class=\"keyword\">const</span> canvas = <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&#x27;canvas_sakura&#x27;</span>);</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (canvas) canvas.<span class=\"title function_\">remove</span>();</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">false</span>; <span class=\"comment\">// 返回false表示已停止</span></span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 移动端检测 - 如果性能可能有问题，可以在这里禁用</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"title function_\">isMobileDevice</span>()) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">const</span> enableOnMobile = <span class=\"title function_\">confirm</span>(<span class=\"string\">&quot;在移动设备上运行樱花特效可能会影响性能。是否继续？&quot;</span>);</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (!enableOnMobile) <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"comment\">// 加载图片并启动</span></span><br><span class=\"line\">        <span class=\"keyword\">const</span> img = <span class=\"keyword\">new</span> <span class=\"title class_\">Image</span>();</span><br><span class=\"line\">        img.<span class=\"property\">onload</span> = <span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">            <span class=\"title function_\">startSakura</span>(img);</span><br><span class=\"line\">        &#125;;</span><br><span class=\"line\">        img.<span class=\"property\">src</span> = imageUrl;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">true</span>; <span class=\"comment\">// 返回true表示已启动</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 窗口调整大小时重置canvas</span></span><br><span class=\"line\"><span class=\"variable language_\">window</span>.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;resize&#x27;</span>, <span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> canvas = <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&#x27;canvas_sakura&#x27;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (canvas) &#123;</span><br><span class=\"line\">        canvas.<span class=\"property\">width</span> = <span class=\"variable language_\">window</span>.<span class=\"property\">innerWidth</span>;</span><br><span class=\"line\">        canvas.<span class=\"property\">height</span> = <span class=\"variable language_\">window</span>.<span class=\"property\">innerHeight</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 页面卸载时清理资源</span></span><br><span class=\"line\"><span class=\"variable language_\">window</span>.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;beforeunload&#x27;</span>, <span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (stop) &#123;</span><br><span class=\"line\">        <span class=\"title function_\">cancelAnimationFrame</span>(stop);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 在这里添加你的图片路径并启动特效</span></span><br><span class=\"line\"><span class=\"comment\">// 将下面的 &#x27;your-sakura-image-url.jpg&#x27; 替换为你的樱花图片URL</span></span><br><span class=\"line\"><span class=\"title function_\">toggleSakura</span>(<span class=\"string\">&#x27;https://u.sam7.top/2NkzEk&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 导出函数供外部调用</span></span><br><span class=\"line\"><span class=\"variable language_\">window</span>.<span class=\"property\">toggleSakura</span> = toggleSakura;</span><br><span class=\"line\"><span class=\"variable language_\">window</span>.<span class=\"property\">isMobileDevice</span> = isMobileDevice;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure> </div></details>\n<h3 id=\"14-文章路由\">14. 文章路由</h3>\n<p>参考博主<a href=\"https://blog.bxzdyg.cn/\">BoBoBlog</a>文章</p>\n<p><a href=\"https://blog.bxzdyg.cn/p/%E4%BD%BF%E7%94%A8Hexo%E5%92%8CStellar%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%E7%BD%91%E7%AB%99/#%E6%96%87%E7%AB%A0%E8%B7%AF%E7%94%B1%EF%BC%88%E9%80%89%EF%BC%89\">使用Hexo和Stellar搭建个人博客网站【超详细贴心保姆级教程💖】 - BoBoBlog</a></p>\n<p>能够解决中文网页标题转义的现象，并且创建文章自动添加abbrlink</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install hexo-abbrlink --save</span><br></pre></td></tr></table></figure>\n<p>在 <code>blog/_config.yml</code> 中找到对应 <code>permalink</code> 标签，进行修改即可：</p>\n<figure class=\"highlight yaml\"><figcaption><span>_config.yaml</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">url:</span> <span class=\"string\">sam7.top</span></span><br><span class=\"line\"><span class=\"attr\">permalink:</span> <span class=\"string\">:year:month/:title/</span> <span class=\"comment\">#:year/:month/:day/:title/</span></span><br><span class=\"line\"><span class=\"attr\">abbrlink:</span></span><br><span class=\"line\">  <span class=\"attr\">alg:</span> <span class=\"string\">crc16</span>  <span class=\"comment\">#算法： crc16(default) and crc32</span></span><br><span class=\"line\">  <span class=\"attr\">rep:</span> <span class=\"string\">dec</span>    <span class=\"comment\">#进制： dec(default) and hex</span></span><br><span class=\"line\"><span class=\"attr\">permalink_defaults:</span></span><br></pre></td></tr></table></figure>\n<p>使用了这个每使用命令新建一篇文章会在头代码上插入abbrlink:及对应的转码后的代码,</p>\n<p>这使得他会自动去匹配每个md文件的头代码中的abbrlink</p>\n<p>不同算法、进制生成的链接格式如下：</p>\n<table>\n<thead>\n<tr>\n<th>算法</th>\n<th>进制</th>\n<th>生成链接示例</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>crc16</td>\n<td>hex</td>\n<td><a href=\"https://yourname.github.io/p/66c8.html\">https://yourname.github.io/p/66c8.html</a></td>\n</tr>\n<tr>\n<td>crc16</td>\n<td>dec</td>\n<td><a href=\"https://yourname.github.io/p/65535.html\">https://yourname.github.io/p/65535.html</a></td>\n</tr>\n<tr>\n<td>crc32</td>\n<td>hex</td>\n<td><a href=\"https://yourname.github.io/p/8ddf18fb.html\">https://yourname.github.io/p/8ddf18fb.html</a></td>\n</tr>\n<tr>\n<td>crc32</td>\n<td>dec</td>\n<td><a href=\"https://yourname.github.io/p/1690090958.html\">https://yourname.github.io/p/1690090958.html</a></td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"15-主题深浅色切换\">15. 主题深浅色切换</h3>\n<p>参考博主<a href=\"https://blog.bxzdyg.cn/\">BoBoBlog</a>，主题颜色设置为自动。</p>\n<figure class=\"highlight yaml\"><figcaption><span>主题配置文件</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">style:</span></span><br><span class=\"line\">  <span class=\"attr\">prefers_theme:</span> <span class=\"string\">auto</span> <span class=\"comment\"># auto / light / dark</span></span><br><span class=\"line\">  <span class=\"attr\">smooth_scroll:</span> <span class=\"literal\">true</span> <span class=\"comment\"># true / false 开启时如果目录过长可能无法准确定位</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"15-1-功能实现\">15.1 功能实现</h4>\n<p>首先在 主题配置文件中<code>footer.social</code>处增加“主题切换”按钮配置，图标为半圆，点击可用于一键切换深浅色。</p>\n<figure class=\"highlight yaml\"><figcaption><span>主题配置文件</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">footer:</span> </span><br><span class=\"line\">  <span class=\"attr\">social:</span></span><br><span class=\"line\">    <span class=\"attr\">theme:</span></span><br><span class=\"line\">      <span class=\"attr\">icon:</span> <span class=\"string\">&#x27;&lt;i class=&quot;fa-solid fa-circle-half-stroke fa-fade&quot; style=&quot;color: #F9D923;&quot;&gt;&lt;/i&gt;&#x27;</span></span><br><span class=\"line\">      <span class=\"attr\">title:</span> <span class=\"string\">&#x27;主题切换&#x27;</span></span><br><span class=\"line\">      <span class=\"attr\">url:</span> <span class=\"string\">&#x27;javascript:void(0);&#x27;</span></span><br></pre></td></tr></table></figure>\n<p>下一步需要在前端JS中实现主题切换功能，并为页脚“主题切换”按钮绑定点击事件。</p>\n<p>在main.js末尾增加如下代码，实现以下功能，默认跟随系统颜色变化，单击按钮切换主题深浅色。</p>\n<details class=\"tag-plugin colorful folding\" ><summary><p>查看代码</p>\n</summary><div class=\"body\"><figure class=\"highlight js\"><figcaption><span>main.js</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 主题切换按钮逻辑</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">setTheme</span>(<span class=\"params\">theme</span>) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">document</span>.<span class=\"property\">documentElement</span>.<span class=\"title function_\">setAttribute</span>(<span class=\"string\">&#x27;data-theme&#x27;</span>, theme);</span><br><span class=\"line\">  <span class=\"variable language_\">localStorage</span>.<span class=\"title function_\">setItem</span>(<span class=\"string\">&#x27;theme&#x27;</span>, theme);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">toggleTheme</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> current = <span class=\"variable language_\">document</span>.<span class=\"property\">documentElement</span>.<span class=\"title function_\">getAttribute</span>(<span class=\"string\">&#x27;data-theme&#x27;</span>);</span><br><span class=\"line\">  <span class=\"title function_\">setTheme</span>(current === <span class=\"string\">&#x27;dark&#x27;</span> ? <span class=\"string\">&#x27;light&#x27;</span> : <span class=\"string\">&#x27;dark&#x27;</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// 自动读取本地存储</span></span><br><span class=\"line\">(<span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> saved = <span class=\"variable language_\">localStorage</span>.<span class=\"title function_\">getItem</span>(<span class=\"string\">&#x27;theme&#x27;</span>);</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (saved) <span class=\"title function_\">setTheme</span>(saved);</span><br><span class=\"line\">&#125;)();</span><br><span class=\"line\"><span class=\"comment\">// 跟随系统颜色变化</span></span><br><span class=\"line\">(<span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"comment\">// 优先本地存储</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> saved = <span class=\"variable language_\">localStorage</span>.<span class=\"title function_\">getItem</span>(<span class=\"string\">&#x27;theme&#x27;</span>);</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (saved) &#123;</span><br><span class=\"line\">    <span class=\"title function_\">setTheme</span>(saved);</span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// 跟随系统</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> mq = <span class=\"variable language_\">window</span>.<span class=\"title function_\">matchMedia</span>(<span class=\"string\">&#x27;(prefers-color-scheme: dark)&#x27;</span>);</span><br><span class=\"line\">    <span class=\"title function_\">setTheme</span>(mq.<span class=\"property\">matches</span> ? <span class=\"string\">&#x27;dark&#x27;</span> : <span class=\"string\">&#x27;light&#x27;</span>);</span><br><span class=\"line\">    mq.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;change&#x27;</span>, <span class=\"keyword\">function</span>(<span class=\"params\">e</span>) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// 仅当未手动切换时才跟随系统</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (!<span class=\"variable language_\">localStorage</span>.<span class=\"title function_\">getItem</span>(<span class=\"string\">&#x27;theme&#x27;</span>)) &#123;</span><br><span class=\"line\">        <span class=\"title function_\">setTheme</span>(e.<span class=\"property\">matches</span> ? <span class=\"string\">&#x27;dark&#x27;</span> : <span class=\"string\">&#x27;light&#x27;</span>);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;)();</span><br><span class=\"line\"><span class=\"comment\">// 绑定页脚按钮点击事件</span></span><br><span class=\"line\"><span class=\"variable language_\">window</span>.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;DOMContentLoaded&#x27;</span>, <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"comment\">// 支持多种渲染方式，自动识别按钮</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> themeBtns = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelectorAll</span>(<span class=\"string\">&#x27;.fa-circle-half-stroke&#x27;</span>);</span><br><span class=\"line\">  themeBtns.<span class=\"title function_\">forEach</span>(<span class=\"keyword\">function</span>(<span class=\"params\">btn</span>) &#123;</span><br><span class=\"line\">    btn.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;click&#x27;</span>, <span class=\"keyword\">function</span> (<span class=\"params\">e</span>) &#123;</span><br><span class=\"line\">      e.<span class=\"title function_\">preventDefault</span>();</span><br><span class=\"line\">      <span class=\"title function_\">toggleTheme</span>();</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure> </div></details>\n<h4 id=\"15-2-主题颜色调整\">15.2 主题颜色调整</h4>\n<p>深浅色主题、侧边栏、卡片、代码块颜色调整，将<code>theme_base.styl</code>主题基本颜色修改成如下内容。</p>\n<details class=\"tag-plugin colorful folding\" ><summary><p>查看代码</p>\n</summary><div class=\"body\"><figure class=\"highlight stylus\"><figcaption><span>theme_base.styl</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br><span class=\"line\">184</span><br><span class=\"line\">185</span><br><span class=\"line\">186</span><br><span class=\"line\">187</span><br><span class=\"line\">188</span><br><span class=\"line\">189</span><br><span class=\"line\">190</span><br><span class=\"line\">191</span><br><span class=\"line\">192</span><br><span class=\"line\">193</span><br><span class=\"line\">194</span><br><span class=\"line\">195</span><br><span class=\"line\">196</span><br><span class=\"line\">197</span><br><span class=\"line\">198</span><br><span class=\"line\">199</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 通用 hsla 函数</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">x-hsla</span><span class=\"params\">(h = var(--hue)</span></span>, s = <span class=\"selector-tag\">var</span>(<span class=\"attr\">--sat</span>), l = <span class=\"selector-tag\">var</span>(<span class=\"attr\">--light</span>), <span class=\"selector-tag\">a</span> = <span class=\"selector-tag\">var</span>(<span class=\"attr\">--alpha</span>))</span><br><span class=\"line\">  return <span class=\"built_in\">unquote</span>(<span class=\"string\">&#x27;hsla(%s %s %s / %s)&#x27;</span> % (h s l a))</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 设置不同透明度的主题色</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">x-theme-alpha</span><span class=\"params\">(a = <span class=\"number\">1</span>)</span></span></span><br><span class=\"line\">  return <span class=\"built_in\">unquote</span>(<span class=\"string\">&#x27;hsla(%s %s %s / %s)&#x27;</span> % (<span class=\"selector-tag\">var</span>(<span class=\"attr\">--hue</span>) <span class=\"selector-tag\">var</span>(<span class=\"attr\">--sat</span>) <span class=\"selector-tag\">var</span>(<span class=\"attr\">--light</span>) a))</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 设置基础主题色</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">x-set-theme-with-color</span><span class=\"params\">(<span class=\"variable\">$color</span>)</span></span></span><br><span class=\"line\">  <span class=\"attr\">--hue</span>: <span class=\"built_in\">hue</span>(<span class=\"variable\">$color</span>)</span><br><span class=\"line\">  <span class=\"attr\">--sat</span>: <span class=\"built_in\">saturation</span>(<span class=\"variable\">$color</span>)</span><br><span class=\"line\">  <span class=\"attr\">--light</span>: <span class=\"built_in\">lightness</span>(<span class=\"variable\">$color</span>)</span><br><span class=\"line\">  <span class=\"attr\">--alpha</span>: <span class=\"built_in\">alpha</span>(<span class=\"variable\">$color</span>)</span><br><span class=\"line\">  <span class=\"attr\">--theme</span>: <span class=\"attribute\">x</span><span class=\"built_in\">-theme-alpha</span>(<span class=\"number\">1</span>)</span><br><span class=\"line\">  <span class=\"attr\">--theme-a10</span>: <span class=\"attribute\">x</span><span class=\"built_in\">-theme-alpha</span>(<span class=\"number\">0.1</span>)</span><br><span class=\"line\">  <span class=\"attr\">--theme-a20</span>: <span class=\"attribute\">x</span><span class=\"built_in\">-theme-alpha</span>(<span class=\"number\">0.2</span>)</span><br><span class=\"line\">  <span class=\"attr\">--theme-a30</span>: <span class=\"attribute\">x</span><span class=\"built_in\">-theme-alpha</span>(<span class=\"number\">0.3</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 设置链接颜色</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">x-set-link-with-color</span><span class=\"params\">(<span class=\"variable\">$color</span>)</span></span></span><br><span class=\"line\">  <span class=\"variable\">$hue</span> = <span class=\"built_in\">hue</span>(<span class=\"variable\">$color</span>)</span><br><span class=\"line\">  <span class=\"variable\">$sat</span> = <span class=\"built_in\">saturation</span>(<span class=\"variable\">$color</span>)</span><br><span class=\"line\">  <span class=\"variable\">$light</span> = <span class=\"built_in\">lightness</span>(<span class=\"variable\">$color</span>)</span><br><span class=\"line\">  <span class=\"attr\">--link</span>: <span class=\"attribute\">x</span><span class=\"built_in\">-hsla</span>(<span class=\"variable\">$hue</span>, <span class=\"variable\">$sat</span>, <span class=\"variable\">$light</span>, <span class=\"number\">1</span>)</span><br><span class=\"line\">  <span class=\"attr\">--link-a20</span>: <span class=\"attribute\">x</span><span class=\"built_in\">-hsla</span>(<span class=\"variable\">$hue</span>, <span class=\"variable\">$sat</span>, <span class=\"variable\">$light</span>, <span class=\"number\">0.2</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 设置背景色</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">x-set-bg-colors</span><span class=\"params\">(<span class=\"variable\">$scheme</span>)</span></span></span><br><span class=\"line\">  <span class=\"variable\">$hue</span> = <span class=\"variable\">$c</span>-base-hue</span><br><span class=\"line\">  <span class=\"variable\">$sat</span> = <span class=\"number\">0%</span></span><br><span class=\"line\">  <span class=\"variable\">$light</span> = <span class=\"variable\">$scheme</span> == <span class=\"string\">&#x27;dark&#x27;</span> ? <span class=\"number\">0%</span> : <span class=\"number\">100%</span></span><br><span class=\"line\">  <span class=\"attr\">--bg-a20</span>: <span class=\"attribute\">x</span><span class=\"built_in\">-hsla</span>(<span class=\"variable\">$hue</span>, <span class=\"variable\">$sat</span>, <span class=\"variable\">$light</span>, <span class=\"number\">0.2</span>)</span><br><span class=\"line\">  <span class=\"attr\">--bg-a50</span>: <span class=\"attribute\">x</span><span class=\"built_in\">-hsla</span>(<span class=\"variable\">$hue</span>, <span class=\"variable\">$sat</span>, <span class=\"variable\">$light</span>, <span class=\"number\">0.5</span>)</span><br><span class=\"line\">  <span class=\"attr\">--bg-a60</span>: <span class=\"attribute\">x</span><span class=\"built_in\">-hsla</span>(<span class=\"variable\">$hue</span>, <span class=\"variable\">$sat</span>, <span class=\"variable\">$light</span>, <span class=\"number\">0.6</span>)</span><br><span class=\"line\">  <span class=\"attr\">--bg-a75</span>: <span class=\"attribute\">x</span><span class=\"built_in\">-hsla</span>(<span class=\"variable\">$hue</span>, <span class=\"variable\">$sat</span>, <span class=\"variable\">$light</span>, <span class=\"number\">0.75</span>)</span><br><span class=\"line\">  <span class=\"attr\">--bg-a100</span>: <span class=\"attribute\">x</span><span class=\"built_in\">-hsla</span>(<span class=\"variable\">$hue</span>, <span class=\"variable\">$sat</span>, <span class=\"variable\">$light</span>, <span class=\"number\">1</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 设置文本及相关色</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">x-set-text-colors</span><span class=\"params\">(<span class=\"variable\">$scheme</span>, <span class=\"variable\">$p0</span> = <span class=\"number\">1</span>, <span class=\"variable\">$p1</span> = <span class=\"number\">0.8</span>, <span class=\"variable\">$p2</span> = <span class=\"number\">0.7</span>, <span class=\"variable\">$p3</span> = <span class=\"number\">0.5</span>, <span class=\"variable\">$p4</span> = <span class=\"number\">0.4</span>)</span></span></span><br><span class=\"line\">  <span class=\"variable\">$hue</span> = <span class=\"variable\">$c</span>-base-hue</span><br><span class=\"line\">  <span class=\"variable\">$sat</span> = <span class=\"number\">0%</span></span><br><span class=\"line\">  <span class=\"variable\">$light</span> = <span class=\"variable\">$scheme</span> == <span class=\"string\">&#x27;dark&#x27;</span> ? <span class=\"number\">100%</span> : <span class=\"number\">0%</span></span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"attr\">--text</span>: <span class=\"attribute\">x</span><span class=\"built_in\">-hsla</span>(<span class=\"variable\">$hue</span>, <span class=\"variable\">$sat</span>, <span class=\"variable\">$light</span>, <span class=\"variable\">$p0</span>)</span><br><span class=\"line\">  <span class=\"attr\">--text-reverse</span>: <span class=\"attribute\">x</span><span class=\"built_in\">-hsla</span>(<span class=\"variable\">$hue</span>, <span class=\"variable\">$sat</span>, <span class=\"variable\">$scheme</span> == <span class=\"string\">&#x27;dark&#x27;</span> ? <span class=\"number\">0%</span> : <span class=\"number\">100%</span>, <span class=\"variable\">$p0</span>)</span><br><span class=\"line\">  <span class=\"attr\">--text-p1</span>: <span class=\"attribute\">x</span><span class=\"built_in\">-hsla</span>(<span class=\"variable\">$hue</span>, <span class=\"variable\">$sat</span>, <span class=\"variable\">$light</span>, <span class=\"variable\">$p1</span>)</span><br><span class=\"line\">  <span class=\"attr\">--text-p2</span>: <span class=\"attribute\">x</span><span class=\"built_in\">-hsla</span>(<span class=\"variable\">$hue</span>, <span class=\"variable\">$sat</span>, <span class=\"variable\">$light</span>, <span class=\"variable\">$p2</span>)</span><br><span class=\"line\">  <span class=\"attr\">--text-p3</span>: <span class=\"attribute\">x</span><span class=\"built_in\">-hsla</span>(<span class=\"variable\">$hue</span>, <span class=\"variable\">$sat</span>, <span class=\"variable\">$light</span>, <span class=\"variable\">$p3</span>)</span><br><span class=\"line\">  <span class=\"attr\">--text-p4</span>: <span class=\"attribute\">x</span><span class=\"built_in\">-hsla</span>(<span class=\"variable\">$hue</span>, <span class=\"variable\">$sat</span>, <span class=\"variable\">$light</span>, <span class=\"variable\">$p4</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"attr\">--text-meta</span>: <span class=\"attribute\">x</span><span class=\"built_in\">-hsla</span>(<span class=\"variable\">$hue</span>, <span class=\"variable\">$sat</span>, <span class=\"variable\">$light</span>, <span class=\"number\">0.2</span>)</span><br><span class=\"line\">  <span class=\"attr\">--text-code</span>: <span class=\"attribute\">x</span><span class=\"built_in\">-hsla</span>(<span class=\"variable\">$hue</span>, <span class=\"variable\">$sat</span>, <span class=\"variable\">$light</span>, <span class=\"number\">0.9</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"attr\">--text-a10</span>: <span class=\"attribute\">x</span><span class=\"built_in\">-hsla</span>(<span class=\"variable\">$hue</span>, <span class=\"variable\">$sat</span>, <span class=\"variable\">$light</span>, <span class=\"number\">0.1</span>)</span><br><span class=\"line\">  <span class=\"attr\">--text-a20</span>: <span class=\"attribute\">x</span><span class=\"built_in\">-hsla</span>(<span class=\"variable\">$hue</span>, <span class=\"variable\">$sat</span>, <span class=\"variable\">$light</span>, <span class=\"number\">0.2</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"variable\">$sat</span> = <span class=\"variable\">$scheme</span> == <span class=\"string\">&#x27;dark&#x27;</span> ? <span class=\"number\">24%</span> : <span class=\"number\">50%</span></span><br><span class=\"line\">  <span class=\"variable\">$light</span> = <span class=\"variable\">$scheme</span> == <span class=\"string\">&#x27;dark&#x27;</span> ? <span class=\"number\">72%</span> : <span class=\"number\">12%</span></span><br><span class=\"line\">  <span class=\"variable\">$alpha</span> = <span class=\"variable\">$scheme</span> == <span class=\"string\">&#x27;dark&#x27;</span> ? <span class=\"number\">0.08</span> : <span class=\"number\">0.04</span></span><br><span class=\"line\">  <span class=\"attr\">--block</span>: <span class=\"attribute\">x</span><span class=\"built_in\">-hsla</span>(<span class=\"variable\">$hue</span>, <span class=\"variable\">$sat</span>, <span class=\"variable\">$light</span>, <span class=\"variable\">$alpha</span>)</span><br><span class=\"line\">  <span class=\"attr\">--block-border</span>: <span class=\"attribute\">x</span><span class=\"built_in\">-hsla</span>(<span class=\"variable\">$hue</span>, <span class=\"variable\">$sat</span>, <span class=\"variable\">$light</span>, <span class=\"variable\">$alpha</span> * <span class=\"number\">1.5</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 设置图片滤镜 - 深色模式图片背景为#31383A，对比度更低</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">x-set-image-filters</span><span class=\"params\">(<span class=\"variable\">$scheme</span>)</span></span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> <span class=\"variable\">$scheme</span> == <span class=\"string\">&#x27;dark&#x27;</span></span><br><span class=\"line\">    <span class=\"attr\">--image-filter</span>: <span class=\"built_in\">invert</span>(<span class=\"number\">1</span>) <span class=\"built_in\">hue-rotate</span>(<span class=\"number\">180deg</span>)</span><br><span class=\"line\">    <span class=\"attr\">--image-brightness</span>: <span class=\"number\">0.65</span>  <span class=\"comment\">// 降低亮度，使背景接近#31383A</span></span><br><span class=\"line\">    <span class=\"attr\">--image-contrast</span>: <span class=\"number\">0.85</span>    <span class=\"comment\">// 进一步降低对比度</span></span><br><span class=\"line\">    <span class=\"attr\">--image-saturate</span>: <span class=\"number\">0.9</span>     <span class=\"comment\">// 稍微降低饱和度</span></span><br><span class=\"line\">    <span class=\"attr\">--image-filter-value</span>: <span class=\"built_in\">invert</span>(<span class=\"number\">1</span>) <span class=\"built_in\">hue-rotate</span>(<span class=\"number\">180deg</span>) <span class=\"built_in\">brightness</span>(<span class=\"number\">0.65</span>) <span class=\"built_in\">contrast</span>(<span class=\"number\">0.85</span>) <span class=\"built_in\">saturate</span>(<span class=\"number\">0.9</span>)</span><br><span class=\"line\">  <span class=\"keyword\">else</span></span><br><span class=\"line\">    <span class=\"attr\">--image-filter</span>: <span class=\"attribute\">none</span></span><br><span class=\"line\">    <span class=\"attr\">--image-brightness</span>: <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"attr\">--image-contrast</span>: <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"attr\">--image-saturate</span>: <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"attr\">--image-filter-value</span>: <span class=\"attribute\">none</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ---------------- apply theme ----------------</span></span><br><span class=\"line\"><span class=\"comment\">// 设置浅色模式</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">dynamic-theme-light</span><span class=\"params\">()</span></span></span><br><span class=\"line\">  <span class=\"variable\">$hue</span> = <span class=\"variable\">$c</span>-base-hue</span><br><span class=\"line\">  <span class=\"attr\">--background</span>: <span class=\"attribute\">x</span><span class=\"built_in\">-hsla</span>(<span class=\"variable\">$hue</span>, <span class=\"number\">20%</span>, <span class=\"number\">98%</span>, <span class=\"number\">1</span>)</span><br><span class=\"line\">  <span class=\"attr\">--card</span>: <span class=\"variable\">$site</span>-<span class=\"attribute\">background-image</span> ? <span class=\"built_in\">hsla</span>(white, <span class=\"number\">0.5</span>) : white</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"attribute\">x</span><span class=\"built_in\">-set-bg-colors</span>(<span class=\"string\">&#x27;light&#x27;</span>)</span><br><span class=\"line\">  <span class=\"attribute\">x</span><span class=\"built_in\">-set-text-colors</span>(<span class=\"string\">&#x27;light&#x27;</span>)</span><br><span class=\"line\">  <span class=\"attribute\">x</span><span class=\"built_in\">-set-image-filters</span>(<span class=\"string\">&#x27;light&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 设置深色模式</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">dynamic-theme-dark</span><span class=\"params\">()</span></span></span><br><span class=\"line\">  <span class=\"variable\">$hue</span> = <span class=\"variable\">$c</span>-base-hue</span><br><span class=\"line\">  <span class=\"attr\">--background</span>: <span class=\"attribute\">x</span><span class=\"built_in\">-hsla</span>(<span class=\"variable\">$hue</span>, <span class=\"number\">8%</span>, <span class=\"number\">12%</span>, <span class=\"number\">1</span>)</span><br><span class=\"line\">  <span class=\"keyword\">@media</span> screen <span class=\"keyword\">and</span> (<span class=\"attribute\">max-width</span>: $device-mobile-max)</span><br><span class=\"line\">    --background: black</span><br><span class=\"line\">  --card: $site-background-image ? hsla(white, <span class=\"number\">0.25</span>) : x-hsla($hue, <span class=\"number\">10%</span>, <span class=\"number\">24%</span>, <span class=\"number\">1</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">  x-set-bg-colors(&#x27;dark&#x27;)</span><br><span class=\"line\">  x-set-text-colors(&#x27;dark&#x27;)</span><br><span class=\"line\">  x-set-image-filters(&#x27;dark&#x27;)</span><br><span class=\"line\">  --text-code: x-hsla(<span class=\"number\">20</span>, <span class=\"number\">75</span>, <span class=\"number\">60</span>, <span class=\"number\">1</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">:root</span><br><span class=\"line\">  // 主题色</span><br><span class=\"line\">  x-set-theme-with-color($c-theme)</span><br><span class=\"line\">  // 强调色</span><br><span class=\"line\">  --accent: $c-accent</span><br><span class=\"line\">  // 链接</span><br><span class=\"line\">  x-set-link-with-color($c-link)</span><br><span class=\"line\"></span><br><span class=\"line\">  // dynamic colors</span><br><span class=\"line\">  dynamic-theme-light()</span><br><span class=\"line\">  @media (<span class=\"attribute\">prefers-color-scheme</span>: dark)</span><br><span class=\"line\">    dynamic-theme-dark()</span><br><span class=\"line\"></span><br><span class=\"line\">:root[data-theme=&quot;light&quot;]</span><br><span class=\"line\">  dynamic-theme-light()</span><br><span class=\"line\"></span><br><span class=\"line\">:root[data-theme=&quot;dark&quot;]</span><br><span class=\"line\">  dynamic-theme-dark()</span><br><span class=\"line\"></span><br><span class=\"line\">// ========== 图片主题变化解决方案 ==========</span><br><span class=\"line\"></span><br><span class=\"line\">// 深色模式下的图片滤镜应用 - 背景为#<span class=\"number\">31383</span>A，对比度更低，保护左侧栏</span><br><span class=\"line\">:root[data-theme=&quot;dark&quot;]</span><br><span class=\"line\">  // 应用滤镜到内容区域的图片</span><br><span class=\"line\">  .post-content img,</span><br><span class=\"line\">  .article-content img,</span><br><span class=\"line\">  .entry-content img,</span><br><span class=\"line\">  .markdown-body img,</span><br><span class=\"line\">  .content img,</span><br><span class=\"line\">  .post-body img,</span><br><span class=\"line\">  [class*=&quot;content&quot;] img:<span class=\"keyword\">not</span>(.no-theme):<span class=\"keyword\">not</span>(.emoji)</span><br><span class=\"line\">    filter: invert(<span class=\"number\">1</span>) hue-rotate(<span class=\"number\">180deg</span>) brightness(<span class=\"number\">0.65</span>) contrast(<span class=\"number\">0.85</span>) saturate(<span class=\"number\">0.9</span>)</span><br><span class=\"line\">    transition: filter <span class=\"number\">0.3s</span> ease</span><br><span class=\"line\">  </span><br><span class=\"line\">  // 保护左侧栏和其他UI元素</span><br><span class=\"line\">  .sidebar img,</span><br><span class=\"line\">  .widget img,</span><br><span class=\"line\">  .navbar img,</span><br><span class=\"line\">  .header img,</span><br><span class=\"line\">  .footer img,</span><br><span class=\"line\">  .avatar,</span><br><span class=\"line\">  .logo,</span><br><span class=\"line\">  .site-brand img,</span><br><span class=\"line\">  .site-logo img,</span><br><span class=\"line\">  .author-avatar img,</span><br><span class=\"line\">  .no-theme</span><br><span class=\"line\">    filter: none !important</span><br><span class=\"line\"></span><br><span class=\"line\">  // 对于需要更浅背景的图片</span><br><span class=\"line\">  img[data-light-bg],</span><br><span class=\"line\">  .light-bg-img</span><br><span class=\"line\">    filter: invert(<span class=\"number\">1</span>) hue-rotate(<span class=\"number\">180deg</span>) brightness(<span class=\"number\">0.8</span>) contrast(<span class=\"number\">0.9</span>) saturate(<span class=\"number\">0.95</span>) !important</span><br><span class=\"line\">  </span><br><span class=\"line\">  // 对于需要保持较深背景的图片</span><br><span class=\"line\">  img[data-dark-bg],</span><br><span class=\"line\">  .dark-bg-img</span><br><span class=\"line\">    filter: invert(<span class=\"number\">1</span>) hue-rotate(<span class=\"number\">180deg</span>) brightness(<span class=\"number\">0.5</span>) contrast(<span class=\"number\">0.8</span>) saturate(<span class=\"number\">0.85</span>) !important</span><br><span class=\"line\"></span><br><span class=\"line\">// 表情图片不随主题变化</span><br><span class=\"line\">.emoji,</span><br><span class=\"line\">.emoticon,</span><br><span class=\"line\">[class*=&quot;emoji&quot;],</span><br><span class=\"line\">[class*=&quot;emoticon&quot;],</span><br><span class=\"line\">img[src*=&quot;emoji&quot;],</span><br><span class=\"line\">img[src*=&quot;emoticon&quot;],</span><br><span class=\"line\">img[data-emoji]</span><br><span class=\"line\">  filter: none !important</span><br><span class=\"line\"></span><br><span class=\"line\">// 方法<span class=\"number\">2</span>: 使用CSS变量（如果浏览器支持）</span><br><span class=\"line\">img.theme-aware:<span class=\"keyword\">not</span>(.emoji)</span><br><span class=\"line\">  filter: var(--image-filter-value)</span><br><span class=\"line\">  transition: filter <span class=\"number\">0.3s</span> ease</span><br><span class=\"line\"></span><br><span class=\"line\">// 方法<span class=\"number\">3</span>: 为特定类型的图片添加主题支持</span><br><span class=\"line\">.themed-image:<span class=\"keyword\">not</span>(.emoji)</span><br><span class=\"line\">  :root[data-theme=&quot;dark&quot;] &amp;</span><br><span class=\"line\">    filter: invert(<span class=\"number\">1</span>) hue-rotate(<span class=\"number\">180deg</span>) brightness(<span class=\"number\">0.65</span>) contrast(<span class=\"number\">0.85</span>) saturate(<span class=\"number\">0.9</span>)</span><br><span class=\"line\">    transition: filter <span class=\"number\">0.3s</span> ease</span><br><span class=\"line\">  </span><br><span class=\"line\">  :root[data-theme=&quot;light&quot;] &amp;</span><br><span class=\"line\">    filter: none</span><br><span class=\"line\">    transition: filter <span class=\"number\">0.3s</span> ease</span><br><span class=\"line\"></span><br><span class=\"line\">// 确保左侧栏图片不受影响</span><br><span class=\"line\">.sidebar,</span><br><span class=\"line\">.widget,</span><br><span class=\"line\">.navbar,</span><br><span class=\"line\">.header,</span><br><span class=\"line\">.footer</span><br><span class=\"line\">  img</span><br><span class=\"line\">    filter: none !important</span><br><span class=\"line\"></span><br><span class=\"line\">// 额外选项：如果需要完全禁用某些图片的主题变化</span><br><span class=\"line\">.no-theme,</span><br><span class=\"line\">[data-no-theme]</span><br><span class=\"line\">  filter: none !important</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure> </div></details>\n<p>主题配置文件中修改如下</p>\n<figure class=\"highlight yaml\"><figcaption><span>主题配置文件</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">leftbar:</span></span><br><span class=\"line\">  <span class=\"comment\"># 可以设置：纯色/渐变色/图片作为背景</span></span><br><span class=\"line\">  <span class=\"attr\">background-color:</span>  <span class=\"string\">var(--block)</span> <span class=\"comment\">#var(--card) var(--block)</span></span><br><span class=\"line\">  <span class=\"attr\">background-image:</span> <span class=\"comment\">#url(https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.13/image/sidebar-bg1@small.jpg)</span></span><br><span class=\"line\">  <span class=\"attr\">blur-px:</span> <span class=\"string\">11px</span></span><br><span class=\"line\">  <span class=\"attr\">blur-bg:</span> <span class=\"string\">var(--bg-a33)</span></span><br><span class=\"line\">  <span class=\"attr\">background-opacity:</span> <span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"attr\">paginator:</span></span><br><span class=\"line\">  <span class=\"attr\">prev:</span> <span class=\"string\">https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.12/arrow/f049bbd4e88ec.svg</span></span><br><span class=\"line\">  <span class=\"attr\">next:</span> <span class=\"string\">https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.12/arrow/064b95430caf4.svg</span></span><br><span class=\"line\"><span class=\"attr\">error_page:</span> <span class=\"string\">https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.12/404/1c830bfcd517d.svg</span></span><br><span class=\"line\"><span class=\"attr\">site:</span> <span class=\"comment\"># 使用 background-image 后，blur 设置才有效</span></span><br><span class=\"line\">  <span class=\"attr\">background-color:</span>  <span class=\"string\">var(--background)</span> <span class=\"comment\">#var(--bg-a11) var(--background)</span></span><br><span class=\"line\">  <span class=\"attr\">background-image:</span>  <span class=\"comment\">#url(https://t.alcy.cc/fj)</span></span><br><span class=\"line\">  <span class=\"attr\">blur-px:</span> <span class=\"string\">14px</span> <span class=\"comment\"># 增加模糊度使背景不突兀</span></span><br><span class=\"line\">  <span class=\"attr\">blur-bg:</span>  <span class=\"string\">var(--bg-a55)</span></span><br><span class=\"line\">  <span class=\"attr\">blur-sat:</span> <span class=\"number\">100</span><span class=\"string\">%</span> <span class=\"comment\"># 适当降低饱和度使背景不抢眼</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"15-3-其他\">15.3  其他</h4>\n<p>waline评论和aplayer播放器都有适配，由于篇幅问题，对应章节都有描述。</p>\n<h3 id=\"16-AI摘要\">16. AI摘要</h3>\n<p>stellar集成tianti GPT，付费的，<a href=\"https://ai.zhheo.com/\">洪墨AI</a>这里购买添加key就好了，绑定网页。</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># AI 摘要</span></span><br><span class=\"line\">  <span class=\"comment\"># https://github.com/qxchuckle/Post-Summary-AI</span></span><br><span class=\"line\">  <span class=\"attr\">tianli_gpt:</span> </span><br><span class=\"line\">    <span class=\"attr\">enable:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">    <span class=\"attr\">js:</span> <span class=\"string\">https://jsd.onmicrosoft.cn/gh/qxchuckle/Post-Summary-AI@6.0/chuckle-post-ai.min.js</span></span><br><span class=\"line\">    <span class=\"attr\">field:</span> <span class=\"string\">all</span> <span class=\"comment\"># all, post, wiki</span></span><br><span class=\"line\">    <span class=\"attr\">key:</span> <span class=\"string\">S-JAVXPRUNPV8LWXO4</span> <span class=\"comment\"># tianli_gpt key</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"17-字体设置\">17. 字体设置</h3>\n<p><a href=\"https://chinese-font.netlify.app/zh-cn/\">中文网字计划-提供便捷实用的全字符集中文渲染方案</a></p>\n<p><a href=\"https://fonts.zeoseven.com/items/442/#embed\">Maple Mono NF-CN - ZeoSeven Fonts (ZSFT)</a></p>\n<p>根目录配置文件中，最后一行加入以下指令：</p>\n<figure class=\"highlight yaml\"><figcaption><span>根目录配置文件</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">inject:</span></span><br><span class=\"line\">  <span class=\"attr\">head:</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"string\">&lt;link</span> <span class=\"string\">rel=&quot;stylesheet&quot;</span> <span class=\"string\">href=&quot;https://cdn.staticfile.org/lxgw-wenkai-screen-webfont/1.6.0/lxgwwenkaiscreen.css&quot;&gt;</span> <span class=\"comment\">#字体引入</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"string\">|</span></span><br><span class=\"line\"><span class=\"string\">      &lt;link rel=&quot;preload&quot; as=&quot;style&quot; crossorigin href=&quot;https://fontsapi.zeoseven.com/442/main/result.css&quot; onload=&quot;this.rel=&#x27;stylesheet&#x27;&quot; onerror=&quot;this.href=&#x27;https://fontsapi-storage.zeoseven.com/442/main/result.css&#x27;&quot; /&gt;</span></span><br><span class=\"line\"><span class=\"string\">      &lt;noscript&gt;</span></span><br><span class=\"line\"><span class=\"string\">        &lt;link rel=&quot;stylesheet&quot; href=&quot;https://fontsapi.zeoseven.com/442/main/result.css&quot; /&gt;</span></span><br><span class=\"line\"><span class=\"string\">      &lt;/noscript&gt; </span></span><br></pre></td></tr></table></figure>\n<p>在主题配置文件中找到 style.font-family，修改以下内容：</p>\n<figure class=\"highlight yaml\"><figcaption><span>主题配置文件</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">style:</span></span><br><span class=\"line\">  <span class=\"attr\">prefers_theme:</span> <span class=\"string\">auto</span> <span class=\"comment\"># auto / light / dark</span></span><br><span class=\"line\">  <span class=\"attr\">smooth_scroll:</span> <span class=\"literal\">true</span> <span class=\"comment\"># true / false 开启时如果目录过长可能无法准确定位</span></span><br><span class=\"line\">  <span class=\"attr\">font-size:</span></span><br><span class=\"line\">    <span class=\"attr\">root:</span> <span class=\"string\">16px</span> <span class=\"comment\"># 改这个会影响全局所有文字的字号</span></span><br><span class=\"line\">    <span class=\"attr\">body:</span> <span class=\"string\">16px</span> <span class=\"comment\"># 影响正文区域的字号，如果改成 px 则不受 root 影响</span></span><br><span class=\"line\">    <span class=\"attr\">code:</span> <span class=\"number\">75</span><span class=\"string\">%</span> <span class=\"comment\"># 相较于其所在行的文本大小，建议用百分比</span></span><br><span class=\"line\">    <span class=\"attr\">codeblock:</span> <span class=\"number\">0.</span><span class=\"string\">8125rem</span> <span class=\"comment\"># 13px</span></span><br><span class=\"line\">  <span class=\"attr\">font-family:</span></span><br><span class=\"line\">    <span class=\"attr\">body:</span> <span class=\"string\">&#x27;&quot;LXGW WenKai Screen&quot;,system-ui, &quot;Microsoft Yahei&quot;, &quot;Segoe UI&quot;, Arial, sans-serif&#x27;</span></span><br><span class=\"line\">    <span class=\"attr\">code:</span> <span class=\"string\">&#x27;&quot;Maple Mono NF CN&quot;, Menlo, Monaco, Consolas, system-ui, monospace, sans-serif&#x27;</span></span><br><span class=\"line\">    <span class=\"attr\">codeblock:</span> <span class=\"string\">&#x27;&quot;Maple Mono NF CN&quot;, Menlo, Monaco, Consolas, system-ui, monospace, sans-serif&#x27;</span></span><br><span class=\"line\">  <span class=\"attr\">text-align:</span> <span class=\"string\">left</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"18-域名申请\">18. 域名申请</h3>\n<ul>\n<li>\n<p>【<a href=\"http://EU.ORG\">EU.ORG</a>】免费域名</p>\n<p><a href=\"https://blog.felicx.eu.org/1263441363.html\">Cloudflare 解析 ORG 域名 - YOLOのBLOG</a></p>\n<p><a href=\"https://blog.felicx.eu.org/2502663362.html\">终身免费 ORG 顶级域名申请 - YOLOのBLOG</a></p>\n<p>提交域名申请已经过去一个月了，还没通过审核，石沉大海了。</p>\n</li>\n<li>\n<p>[Cloudns]免费二级域名</p>\n<p><a href=\"https://zhuanlan.zhihu.com/p/1908463674936496903\">人人有份！免费领取一个永久域名并托管到Cloudflare做双向解析 - 知乎</a></p>\n<p>Cloudns二级域名Cloudflare和Vercel无法解析，只能在Cloudns使用DNS记录。</p>\n<p>Github可以重定向，域名没有时间限制，但证书只有三个月，不知道会不会续签。</p>\n</li>\n<li>\n<p>[DigitalPlat]免费域名</p>\n<p><a href=\"https://blog.csdn.net/loutengyuan/article/details/149096491\">DigitalPlat免费二级域名注册和Cloudflare托管教程-CSDN博客</a></p>\n<p><a href=\"https://blog.eimoon.com/p/%E4%BD%BF%E7%94%A8cloudflate%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E5%85%8D%E8%B4%B9%E4%BB%A3%E7%90%86%E8%8A%82%E7%82%B9/\">使用Cloudflate搭建自己的免费代理节点</a></p>\n<p>DigitalPlat最多可以申请两个域名，只有一年使用期限，小于180天可以续期，虽然是二级域名，但可以被cloudflare、vercel托管。</p>\n</li>\n<li>\n<p>购买域名</p>\n<p>国内价格对比了几家都差不太多，阿里云要便宜些，top域名比较便宜第一年8块10年240块，有活动可以更优惠。</p>\n</li>\n</ul>\n<h3 id=\"19-RSS订阅\">19. RSS订阅</h3>\n<p>参考博主<a href=\"https://blog.bxzdyg.cn/\">BoBoBlog</a></p>\n<p>可用于搜索引擎和友链拉取动态<code>npm i hexo-generator-feed</code>安装插件，根目录下配置文件添加如下内容</p>\n<figure class=\"highlight yaml\"><figcaption><span>_config.yml</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">blog/_config.yml</span></span><br><span class=\"line\"><span class=\"attr\">feed:</span></span><br><span class=\"line\">  <span class=\"attr\">type:</span> <span class=\"string\">atom</span> <span class=\"comment\"># RSS的类型(atom/rss2)</span></span><br><span class=\"line\">  <span class=\"attr\">path:</span> <span class=\"string\">atom.xml</span> <span class=\"comment\"># 文件路径,默认是atom.xml/rss2.xml</span></span><br><span class=\"line\">  <span class=\"attr\">limit:</span> <span class=\"number\">20</span> <span class=\"comment\"># 展示文章的数量,使用0或则false代表展示全部hub</span></span><br><span class=\"line\"><span class=\"comment\">#  hub:</span></span><br><span class=\"line\"><span class=\"comment\">#    content:  # 在RSS文件中是否包含内容 ,有3个值 true/false默认不填为false</span></span><br><span class=\"line\"><span class=\"comment\">#    content_limit: # 指定内容的长度作为摘要,仅仅在上面content设置为false和没有自定义的描述出现</span></span><br><span class=\"line\"><span class=\"comment\">#    content_limit_delim: &#x27; &#x27; #上面截取描述的分隔符,截取内容是以指定的这个分隔符作为截取结束的标志.在达到规定的内容长度之前最后出现的这个分隔符之前的内容，防止从中间截断</span></span><br></pre></td></tr></table></figure>\n<p>然后在主题配置文件中加入以下内容，添加左侧栏footer小图标：</p>\n<figure class=\"highlight yaml\"><figcaption><span>_config.stellar.yml</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">footer:</span></span><br><span class=\"line\">  <span class=\"attr\">social:</span></span><br><span class=\"line\">\t<span class=\"attr\">rss:</span></span><br><span class=\"line\">      <span class=\"attr\">icon:</span> <span class=\"string\">&#x27;&lt;i class=&quot;fa-solid fa-rss fa-shake&quot;&gt;&lt;/i&gt;&#x27;</span></span><br><span class=\"line\">      <span class=\"attr\">url:</span> <span class=\"string\">/atom.xml</span></span><br><span class=\"line\">      </span><br><span class=\"line\"><span class=\"attr\">rss:</span> <span class=\"string\">/atom.xml</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"20-关于、留言板\">20. 关于、留言板</h3>\n<p>在博客源文件夹source中，新建<code>about messages</code>文件夹，<a href=\"http://xn--index-4n1h00csy9acmexxqf6a493clpax11r.md\">在相应文件夹中新建index.md</a>，或者直接在源文件夹下面新建<code>about.md</code>和<code>messages.md</code>,markdown内容即为展示内容,使用时直接用<code>/about /messages</code>指定路径。</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 这里配置子菜单，使用 nested 字段</span></span><br><span class=\"line\"><span class=\"attr\">nested:</span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"attr\">id:</span> <span class=\"string\">archives</span></span><br><span class=\"line\">    <span class=\"attr\">title:</span> <span class=\"string\">归档</span></span><br><span class=\"line\">    <span class=\"attr\">url:</span> <span class=\"string\">/archives</span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"attr\">id:</span> <span class=\"string\">categories</span></span><br><span class=\"line\">    <span class=\"attr\">title:</span> <span class=\"string\">分类</span></span><br><span class=\"line\">    <span class=\"attr\">url:</span> <span class=\"string\">/categories</span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"attr\">id:</span> <span class=\"string\">tags</span></span><br><span class=\"line\">    <span class=\"attr\">title:</span> <span class=\"string\">标签</span></span><br><span class=\"line\">    <span class=\"attr\">url:</span> <span class=\"string\">/tags</span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"attr\">id:</span> <span class=\"string\">messages</span></span><br><span class=\"line\">    <span class=\"attr\">title:</span> <span class=\"string\">留言</span></span><br><span class=\"line\">    <span class=\"attr\">url:</span> <span class=\"string\">/messages</span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"attr\">id:</span> <span class=\"string\">rss</span></span><br><span class=\"line\">    <span class=\"attr\">title:</span> <span class=\"string\">RSS</span></span><br><span class=\"line\">    <span class=\"attr\">url:</span> <span class=\"string\">/atom.xml</span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"attr\">id:</span> <span class=\"string\">friends</span></span><br><span class=\"line\">    <span class=\"attr\">title:</span> <span class=\"string\">友链</span></span><br><span class=\"line\">    <span class=\"attr\">url:</span> <span class=\"string\">/friends</span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"attr\">id:</span> <span class=\"string\">about</span></span><br><span class=\"line\">    <span class=\"attr\">title:</span> <span class=\"string\">关于</span></span><br><span class=\"line\">    <span class=\"attr\">url:</span> <span class=\"string\">/about</span></span><br></pre></td></tr></table></figure>","excerpt":"","more":"<h3 id=\"1-构建工具安装准备\">1. 构建工具安装准备</h3>\n<h4 id=\"1-1-Node-js环境搭建\">1.1 Node.js环境搭建</h4>\n<p>hexo基于Node.js构建,需安装Node.js依赖环境，由于ubuntu系统仓库Node.js比较旧，需前往<a href=\"https://nodejs.cn/en/download\">Node.js</a>官网按指引安装最新稳定版本。</p>\n<p>由于本博主使用的是WSL子系统，这里选择Linux系统和nvm安装方式。</p>\n<p>首先安装nvm Node.js版本管理器，再使用nvm工具包安装指定版本Node.js，Node.js自带npm软件包管理器，顺便安装yarn JavaScript软件包管理器。</p>\n<p>具体操作如下：</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Download and install nvm:</span></span><br><span class=\"line\">curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.40.3/install.sh | bash</span><br><span class=\"line\"><span class=\"comment\"># in lieu of restarting the shell</span></span><br><span class=\"line\">\\. <span class=\"string\">&quot;<span class=\"variable\">$HOME</span>/.nvm/nvm.sh&quot;</span></span><br><span class=\"line\"><span class=\"comment\"># Download and install Node.js:</span></span><br><span class=\"line\">nvm install 24</span><br><span class=\"line\"><span class=\"comment\"># Verify the Node.js version:</span></span><br><span class=\"line\">node -v <span class=\"comment\"># Should print &quot;v24.9.0&quot;.</span></span><br><span class=\"line\"><span class=\"comment\"># Verify npm version:</span></span><br><span class=\"line\">npm -v <span class=\"comment\"># Should print &quot;11.6.0&quot;.</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"1-2-NPM简介\">1.2 NPM简介</h4>\n<p><strong>NPM（Node Package Manager）</strong> 是 Node.js 的默认包管理工具，用于管理 JavaScript 项目的依赖库和工具。它允许开发者轻松地安装、更新、共享和发布代码包，同时支持版本控制和脚本运行。</p>\n<p>如果需要加速国内访问，可以配置淘宝镜像：</p>\n<p><code>npm config set registry https://registry.npmmirror.com</code></p>\n<p>以下是一些常用的 NPM 命令：</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm init <span class=\"comment\"># 初始化 package.json 文件</span></span><br><span class=\"line\">npm install <span class=\"comment\"># 安装 package.json 中的所有依赖</span></span><br><span class=\"line\">npm install &lt;包名&gt; --save-dev <span class=\"comment\"># 安装开发依赖</span></span><br><span class=\"line\">npm uninstall &lt;包名&gt; <span class=\"comment\"># 卸载依赖</span></span><br><span class=\"line\">npm update &lt;包名&gt; <span class=\"comment\"># 更新依赖</span></span><br><span class=\"line\">npm list --depth=0 <span class=\"comment\"># 查看已安装的依赖</span></span><br><span class=\"line\">npm audit <span class=\"comment\"># 检查依赖中的安全漏洞</span></span><br><span class=\"line\">npm run &lt;脚本名&gt; <span class=\"comment\"># 运行 package.json 中定义的脚本</span></span><br></pre></td></tr></table></figure>\n<p>本地与全局安装</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install express <span class=\"comment\"># 本地安装 将包安装到当前项目的 node_modules 目录，仅对该项目可用。</span></span><br><span class=\"line\">npm install -g @vue/cli <span class=\"comment\"># 全局安装 使用 -g 参数将包安装到系统范围内，适用于 CLI 工具。</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"2-HEXO配置\">2. HEXO配置</h3>\n<h4 id=\"2-1-hexo安装以及初始化\">2.1 hexo安装以及初始化</h4>\n<p>根据<a href=\"https://hexo.io/zh-cn/\">Hexo</a>官网安装指引，全局安装<code>npm install -g hexo@8.0.0</code></p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo init blog <span class=\"comment\">#初始化blog目录，目录一定为空。</span></span><br><span class=\"line\"><span class=\"built_in\">cd</span> blog</span><br><span class=\"line\">npm install <span class=\"comment\">#安装hexo所需依赖</span></span><br><span class=\"line\">hexo cl&amp;hexo g&amp;hexo s <span class=\"comment\">#清除缓存&amp;渲染网页&amp;启动本地端口服务</span></span><br><span class=\"line\">http://localhost:4000/ <span class=\"comment\">#点击链接可用浏览器本地预览博客</span></span><br></pre></td></tr></table></figure>\n<p>初始化后blog文件夹结构如下.</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">.</span><br><span class=\"line\">├── _config.yml <span class=\"comment\">#hexo配置文件</span></span><br><span class=\"line\">├── package.json</span><br><span class=\"line\">├── scaffolds <span class=\"comment\">#模板文件夹</span></span><br><span class=\"line\">├── <span class=\"built_in\">source</span> <span class=\"comment\">#资源文件夹，即网页根目录位置</span></span><br><span class=\"line\">|   ├── _drafts</span><br><span class=\"line\">|   └── _posts</span><br><span class=\"line\">└── themes <span class=\"comment\">#主题文件夹</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"2-2-hexo配置-开始折腾\">2.2 hexo配置  开始折腾</h4>\n<p>本站使用<a href=\"https://xaoxuu.com/wiki/stellar/comments/\">Stellar</a>主题构建，Stellar 是一个内置文档系统的简约商务风 Hexo 主题，支持丰富的标签和动态数据组件，帮助您简单从容地应对各种表达需求，十分推荐内容创作者使用 Stellar 开始您全新的博客之旅。</p>\n<div class=\"tag-plugin link dis-select\"><a class=\"link-card rich\" title=\"stellar主题文档\" href=\"<https://xaoxuu.com/wiki/stellar>\" target=\"_blank\" rel=\"external nofollow noopener noreferrer\" cardlink autofill=\"icon,desc\"><div class=\"top\"><div class=\"lazy img\" data-bg=\"https://cdn.jsdmirror.com/gh/cdn-x/placeholder@1.0.12/link/8f277b4ee0ecd.svg\"></div><span class=\"cap link footnote\">https://sam7.top/%3Chttps:/xaoxuu.com/wiki/stellar%3E</span></div><div class=\"bottom\"><span class=\"title\">stellar主题文档</span><span class=\"cap desc footnote\"></span></div></a></div>\n<p><code>npm i hexo-theme-stellar</code>安装稳定版本，安装路径位于<code>blog/node_modules/</code>文件夹内。</p>\n<p>在 <code>blog/_config.yml</code> 文件中找到并修改：</p>\n<p><code>theme: stellar</code></p>\n<p>将<code>blog/node_modules/_config.yml</code> 拷贝一份至<code>/blog</code>目录重命名为<code>_config.stellar.yml</code>，该配置文件优先级高于主题目录。</p>\n<p>参阅Stellar wiki选择开启需要的功能。</p>\n<h3 id=\"3-网站统计\">3. 网站统计</h3>\n<p><strong>网页底部文章统计</strong>参考博主<a href=\"https://blog.bxzdyg.cn/\">BoBoBlog</a>文章</p>\n<ul>\n<li>\n<p>安装插件：npm i hexo-wordcount –save</p>\n</li>\n<li>\n<p>还需要需要在主题文件footer.ejs里将 <code>&#123;post_count&#125;</code> 和 <code>&#123;word_count&#125;</code> 替换为实际数据。Stellar 主题页脚渲染时，content 是字符串，可以用 JS 替换。</p>\n<p>建议在ayoutDiv 函数里，渲染 markdown 前加如下替换：</p>\n<figure class=\"highlight plaintext\"><figcaption><span>footer.ejs</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// footer</span><br><span class=\"line\">el += &#x27;&lt;div class=&quot;text&quot;&gt;&#x27;</span><br><span class=\"line\">if (content) &#123;</span><br><span class=\"line\">  const postCount = site.posts.length;</span><br><span class=\"line\">  const wordCount = typeof totalcount === &#x27;function&#x27; ? totalcount(site) : 0;</span><br><span class=\"line\">  let contentStr = content;</span><br><span class=\"line\">  contentStr = contentStr.replace(&#x27;&#123;post_count&#125;&#x27;, postCount).replace(&#x27;&#123;word_count&#125;&#x27;, wordCount);</span><br><span class=\"line\">  el += markdown(contentStr)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>然后在主题配置文件footer:content:增加如下代码，即可实现显示网站总文章字数统计。</p>\n<figure class=\"highlight yaml\"><figcaption><span>主题配置文件</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">&lt;span</span> <span class=\"string\">class=&quot;totalcount&quot;&gt;共发表</span> &#123;<span class=\"string\">post_count</span>&#125; <span class=\"string\">篇Blog</span> <span class=\"string\">·</span> <span class=\"string\">&lt;/span&gt;&lt;span</span> <span class=\"string\">class=&quot;post-count&quot;&gt;总计</span> &#123;<span class=\"string\">word_count</span>&#125; <span class=\"string\">字&lt;/span</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p><strong>网页访问统计</strong>由于不蒜子老是挂，现在使用的是Vercount插件，不蒜子的优化版本。<a href=\"https://ohevan.com/vercount-website-counter-busuanzi-alternative.html\">Vercount: 一个比不蒜子更好的网站计数器 | EvanNotFound’s Blog</a></p>\n<div class=\"tag-plugin tabs\" align=\"center\"id=\"tab_1\"><div class=\"nav-tabs\"><div class=\"tab active\"><a href=\"#tab_1-1\">显示效果</a></div><div class=\"tab\"><a href=\"#tab_1-2\">修改内容</a></div></div><div class=\"tab-content\"><div class=\"tab-pane active\" id=\"tab_1-1\"><p>需要修改主题配置文件，在<code>footer：→ content：</code>位置添加如下。内容</p>\n<p><img src=\"https://u.sam7.top/NYCBsQ\" alt=\"image-20251018141423327\"></p></div><div class=\"tab-pane\" id=\"tab_1-2\"><figure class=\"highlight yml\"><figcaption><span>blog/_config.stellar.yml</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">content:</span> <span class=\"string\">|</span> <span class=\"comment\"># 支持 Markdown 格式</span></span><br><span class=\"line\">        <span class=\"string\">&lt;center&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"string\">网站由</span> [&#123;<span class=\"string\">author.name</span>&#125;]<span class=\"string\">(/)</span> <span class=\"string\">©</span> <span class=\"number\">2025</span><span class=\"string\">使用</span> [&#123;<span class=\"string\">theme.name</span>&#125;]<span class=\"string\">(&#123;theme.tree&#125;)</span> <span class=\"string\">主题创建</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"string\">&lt;span</span> <span class=\"string\">id=&quot;runtime_span&quot;&gt;&lt;/span&gt;</span></span><br><span class=\"line\">        <span class=\"string\">&lt;script</span> <span class=\"string\">type=&quot;text/javascript&quot;&gt;</span></span><br><span class=\"line\">        <span class=\"string\">function</span> <span class=\"string\">show_runtime()</span> &#123;</span><br><span class=\"line\">            <span class=\"string\">window.setTimeout(&quot;show_runtime()&quot;</span>, <span class=\"number\">1000</span><span class=\"string\">);</span></span><br><span class=\"line\">            <span class=\"string\">X</span> <span class=\"string\">=</span> <span class=\"string\">new</span> <span class=\"string\">Date(&quot;2025/09/06</span> <span class=\"number\">19</span><span class=\"string\">:00:00&quot;);</span></span><br><span class=\"line\">            <span class=\"string\">Y</span> <span class=\"string\">=</span> <span class=\"string\">new</span> <span class=\"string\">Date();</span></span><br><span class=\"line\">            <span class=\"string\">T</span> <span class=\"string\">=</span> <span class=\"string\">(Y.getTime()</span> <span class=\"bullet\">-</span> <span class=\"string\">X.getTime());</span></span><br><span class=\"line\">            <span class=\"string\">M</span> <span class=\"string\">=</span> <span class=\"number\">24</span> <span class=\"string\">*</span> <span class=\"number\">60</span> <span class=\"string\">*</span> <span class=\"number\">60</span> <span class=\"string\">*</span> <span class=\"number\">1000</span><span class=\"string\">;</span></span><br><span class=\"line\">            <span class=\"string\">a</span> <span class=\"string\">=</span> <span class=\"string\">T</span> <span class=\"string\">/</span> <span class=\"string\">M;</span></span><br><span class=\"line\">            <span class=\"string\">A</span> <span class=\"string\">=</span> <span class=\"string\">Math.floor(a);</span></span><br><span class=\"line\">            <span class=\"string\">b</span> <span class=\"string\">=</span> <span class=\"string\">(a</span> <span class=\"bullet\">-</span> <span class=\"string\">A)</span> <span class=\"string\">*</span> <span class=\"number\">24</span><span class=\"string\">;</span></span><br><span class=\"line\">            <span class=\"string\">B</span> <span class=\"string\">=</span> <span class=\"string\">Math.floor(b);</span></span><br><span class=\"line\">            <span class=\"string\">c</span> <span class=\"string\">=</span> <span class=\"string\">(b</span> <span class=\"bullet\">-</span> <span class=\"string\">B)</span> <span class=\"string\">*</span> <span class=\"number\">60</span><span class=\"string\">;</span></span><br><span class=\"line\">            <span class=\"string\">C</span> <span class=\"string\">=</span> <span class=\"string\">Math.floor((b</span> <span class=\"bullet\">-</span> <span class=\"string\">B)</span> <span class=\"string\">*</span> <span class=\"number\">60</span><span class=\"string\">);</span></span><br><span class=\"line\">            <span class=\"string\">D</span> <span class=\"string\">=</span> <span class=\"string\">Math.floor((c</span> <span class=\"bullet\">-</span> <span class=\"string\">C)</span> <span class=\"string\">*</span> <span class=\"number\">60</span><span class=\"string\">);</span></span><br><span class=\"line\">            <span class=\"string\">runtime_span.innerHTML</span> <span class=\"string\">=</span> <span class=\"string\">&quot;网站已运行 &quot;</span> <span class=\"string\">+</span> <span class=\"string\">A</span> <span class=\"string\">+</span> <span class=\"string\">&quot;天&quot;</span> <span class=\"string\">+</span> <span class=\"string\">B</span> <span class=\"string\">+</span> <span class=\"string\">&quot;小时&quot;</span> <span class=\"string\">+</span> <span class=\"string\">C</span> <span class=\"string\">+</span> <span class=\"string\">&quot;分&quot;</span> <span class=\"string\">+</span> <span class=\"string\">D</span> <span class=\"string\">+</span> <span class=\"string\">&quot;秒&quot;</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"string\">show_runtime();</span></span><br><span class=\"line\">        <span class=\"string\">&lt;/script&gt;</span></span><br><span class=\"line\">        <span class=\"string\">&lt;!--不蒜子计数器</span> <span class=\"string\">https://ohevan.com/vercount-website-counter-busuanzi-alternative.html--&gt;</span></span><br><span class=\"line\">        <span class=\"string\">&lt;script</span> <span class=\"string\">defer</span> <span class=\"string\">src=&quot;https://vercount.one/js&quot;&gt;&lt;/script&gt;</span></span><br><span class=\"line\">        <span class=\"string\">&lt;!--添加一个访问量--&gt;</span></span><br><span class=\"line\">        <span class=\"string\">总访问&lt;span</span> <span class=\"string\">id=&quot;busuanzi_value_site_pv&quot;&gt;&lt;/span&gt;次</span> <span class=\"string\">·</span> <span class=\"string\">总访客&lt;span</span> <span class=\"string\">id=&quot;busuanzi_value_site_uv&quot;&gt;&lt;/span&gt;人</span> <span class=\"string\">·</span> <span class=\"string\">本页访问&lt;span</span> <span class=\"string\">id=&quot;busuanzi_value_page_pv&quot;&gt;&lt;/span&gt;次</span></span><br><span class=\"line\">        <span class=\"string\">&lt;span</span> <span class=\"string\">class=&quot;totalcount&quot;&gt;共发表</span> &#123;<span class=\"string\">post_count</span>&#125; <span class=\"string\">篇Blog</span> <span class=\"string\">·</span> <span class=\"string\">&lt;/span&gt;&lt;span</span> <span class=\"string\">class=&quot;post-count&quot;&gt;总计</span> &#123;<span class=\"string\">word_count</span>&#125; <span class=\"string\">字&lt;/span&gt;</span></span><br><span class=\"line\">        <span class=\"string\">&lt;/center&gt;</span></span><br><span class=\"line\">        <span class=\"string\">&lt;div</span> <span class=\"string\">style=&quot;display:</span> <span class=\"string\">flex;justify-content:</span> <span class=\"string\">center;align-items:</span> <span class=\"string\">center;margin:</span> <span class=\"string\">10px;&quot;&gt;</span></span><br><span class=\"line\">          <span class=\"string\">&lt;a</span> <span class=\"string\">target=&quot;_blank&quot;</span> <span class=\"string\">rel=&quot;noopener&quot;</span> <span class=\"string\">href=&quot;https://notbyai.fyi/&quot;&gt;&lt;img</span> <span class=\"string\">class=&quot;lazy</span> <span class=\"string\">entered</span> <span class=\"string\">loaded&quot;</span> <span class=\"string\">src=&quot;https://u.sam7.top/miGrfX&quot;</span> <span class=\"string\">data-src=&quot;https://u.sam7.top/miGrfX&quot;</span> <span class=\"string\">alt=&quot;全部都是博主用心学编写的啊！不是ai啊&quot;</span> <span class=\"string\">style=&quot;width:100px;height:35px;margin-right:</span> <span class=\"string\">10px</span> <span class=\"string\">&quot; id=&quot;</span><span class=\"string\">notbyai&quot;</span> <span class=\"string\">data-ll-status=&quot;loaded&quot;&gt;&lt;/a&gt;</span></span><br><span class=\"line\">          <span class=\"string\">&lt;a</span> <span class=\"string\">target=&quot;_blank&quot;</span> <span class=\"string\">rel=&quot;noopener&quot;</span> <span class=\"string\">href=&quot;https://creativecommons.org/licenses/by-nc-sa/4.0/&quot;&gt;&lt;img</span> <span class=\"string\">class=&quot;lazy</span> <span class=\"string\">entered</span> <span class=\"string\">loaded&quot;</span> <span class=\"string\">src=&quot;https://u.sam7.top/2BJDeW&quot;</span> <span class=\"string\">data-src=&quot;https://u.sam7.top/2BJDeW&quot;</span> <span class=\"string\">alt=&quot;只要保留原作者姓名并在基于原作创作的新作品适用同类型的许可协议，即可基于非商业目的对原作重新编排、改编或者再创作。&quot;</span> <span class=\"string\">style=&quot;width:100px;height:35px&quot;</span> <span class=\"string\">data-ll-status=&quot;loaded&quot;&gt;&lt;/a&gt;</span></span><br><span class=\"line\">        <span class=\"string\">&lt;/div&gt;</span></span><br></pre></td></tr></table></figure></div></div></div>\n<h3 id=\"4-评论系统\">4. 评论系统</h3>\n<h4 id=\"4-1-waline启用\">4.1 waline启用</h4>\n<p>stellar已集成waline插件，首先主题配置文件选择启用waline，具体配置见以下代码。</p>\n<p>然后跟着主页<a href=\"https://waline.js.org/guide/get-started/\">快速上手 | Waline</a> wiki一步步搭建到vercel。</p>\n<p><a href=\"https://skyreeves.github.io/\">SkyReeves</a>博主写的很详细，参考<a href=\"https://skyreeves.github.io/post/69ee63d6.html\">hexo博客引入Waline评论模块 - SkyReeves</a></p>\n<details class=\"tag-plugin colorful folding\" ><summary><p>查看代码</p>\n</summary><div class=\"body\"><figure class=\"highlight yaml\"><figcaption><span>主题配置文件</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">comments:</span></span><br><span class=\"line\">  <span class=\"attr\">service:</span> <span class=\"string\">waline</span> <span class=\"comment\"># beaudar, utterances, giscus, twikoo, waline, artalk</span></span><br><span class=\"line\">  <span class=\"attr\">comment_title:</span> <span class=\"string\">快来参与讨论吧~</span></span><br><span class=\"line\">  <span class=\"attr\">lazyload:</span> <span class=\"literal\">true</span> <span class=\"comment\"># true / false</span></span><br><span class=\"line\">  <span class=\"attr\">custom_css:</span> <span class=\"string\">waline</span> <span class=\"comment\"># artalk,twikoo,... 可以为没有全局启用的评论加载自定义样式</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"attr\">waline:</span></span><br><span class=\"line\">    <span class=\"attr\">js:</span> <span class=\"string\">https://unpkg.com/@waline/client@v3/dist/waline.js</span> <span class=\"comment\">#https://gcore.jsdelivr.net/npm/@waline/client@3.1/dist/waline.js</span></span><br><span class=\"line\">    <span class=\"attr\">css:</span> <span class=\"string\">https://unpkg.com/@waline/client@v3/dist/waline.css</span> <span class=\"comment\">#https://gcore.jsdelivr.net/npm/@waline/client@3.1/dist/waline.css</span></span><br><span class=\"line\">    <span class=\"attr\">meta_css:</span> <span class=\"string\">https://unpkg.com/@waline/client@v3/dist/waline-meta.css</span> \t\t        <span class=\"comment\">#https://gcore.jsdelivr.net/npm/@waline/client@3.1/dist/waline-meta.css</span></span><br><span class=\"line\">    <span class=\"comment\"># Waline server address url, you should set this to your own link</span></span><br><span class=\"line\">    <span class=\"attr\">serverURL:</span> </span><br><span class=\"line\">    <span class=\"comment\"># If false, comment count will only be displayed in post page, not in home page</span></span><br><span class=\"line\">    <span class=\"attr\">commentCount:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">    <span class=\"comment\"># Pageviews count, <span class=\"doctag\">Note:</span> You should not enable both `waline.pageview` and `leancloud_visitors`.</span></span><br><span class=\"line\">    <span class=\"attr\">pageview:</span> <span class=\"literal\">false</span></span><br><span class=\"line\">    <span class=\"attr\">locale:</span></span><br><span class=\"line\">      <span class=\"comment\"># #自定义反应标题。如果像我一样不想要反应标题，可以在这一项里留空。</span></span><br><span class=\"line\">      <span class=\"comment\"># reactionTitle:  </span></span><br><span class=\"line\">      <span class=\"comment\"># #反应表情的文章描述</span></span><br><span class=\"line\">      <span class=\"comment\"># reaction0: 爱你哟</span></span><br><span class=\"line\">      <span class=\"comment\"># reaction1: oh~~</span></span><br><span class=\"line\">      <span class=\"comment\"># reaction2: 嘚瑟~</span></span><br><span class=\"line\">      <span class=\"comment\"># reaction3: 无语</span></span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"attr\">placeholder:</span> </span><br><span class=\"line\">       <span class=\"string\">嗨，朋友，留个脚印再走呗。</span>  </span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">#反应表情组</span></span><br><span class=\"line\">    <span class=\"attr\">reaction:</span> </span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">https://img.skyreeves.com/emojis/blobs/ablobcatheart.png</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">https://img.skyreeves.com/emojis/blobs/ablobcatattentionreverse.png</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">https://img.skyreeves.com/emojis/blobs/ablobcatrainbow.png</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">https://img.skyreeves.com/emojis/blobs/blobcatsaitama.png</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">https://img.skyreeves.com/emojis/blobs/blobcatflip.png</span></span><br><span class=\"line\">    <span class=\"comment\"># Custom emoji</span></span><br><span class=\"line\">    <span class=\"attr\">emoji:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">https://unpkg.com/@waline/emojis@1.1.0/weibo</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">https://unpkg.com/@waline/emojis@1.1.0/alus</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">https://unpkg.com/@waline/emojis@1.1.0/bilibili</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">https://unpkg.com/@waline/emojis@1.1.0/qq</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">https://unpkg.com/@waline/emojis@1.1.0/tieba</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">https://unpkg.com/@waline/emojis@1.1.0/tw-emoji</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">https://unpkg.com/@waline/emojis@1.1.0/bmoji</span></span><br></pre></td></tr></table></figure> </div></details>\n<h4 id=\"4-2-评论框颜色跟随\">4.2 评论框颜色跟随</h4>\n<p>启用后会发现，评论区域部分元素无法显示，需要修改<code>waline.styl</code>文件，调整颜色对比度。</p>\n<div class=\"tag-plugin colorful note\" child=\"tabs\"><div class=\"body\"><div class=\"tag-plugin tabs\"id=\"tab_2\"><div class=\"nav-tabs\"><div class=\"tab active\"><a href=\"#tab_2-1\">设置失效原因</a></div><div class=\"tab\"><a href=\"#tab_2-2\">修改后stylus文件</a></div></div><div class=\"tab-content\"><div class=\"tab-pane active\" id=\"tab_2-1\"><p>为 <code>.wl-panel</code> 强制设置 <code>background: var(--waline-bgcolor) !important</code>，这样评论框会跟随主题背景色切换。重新编译并刷新页面验证效果。</p></div><div class=\"tab-pane\" id=\"tab_2-2\"><figure class=\"highlight stylus\"><figcaption><span>waline.styl</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-class\">.wl-panel</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">background</span>: <span class=\"built_in\">var</span>(--waline-bgcolor) <span class=\"meta\">!important</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.cmt-body</span> &#123;</span><br><span class=\"line\">  <span class=\"selector-class\">.wl-panel</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">margin</span>: <span class=\"number\">0.5em</span> <span class=\"number\">0</span> <span class=\"meta\">!important</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"selector-class\">.wl-meta-head</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">padding</span>: <span class=\"number\">0</span> <span class=\"meta\">!important</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"attr\">--waline-font-size</span>: <span class=\"number\">0.9375rem</span>;</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"comment\">/* 浅色模式 - 增强工具栏对比度 */</span></span><br><span class=\"line\">  <span class=\"attr\">--waline-white</span>: <span class=\"number\">#ffffff</span>;</span><br><span class=\"line\">  <span class=\"attr\">--waline-light-grey</span>: <span class=\"number\">#2c0e0eff</span>; <span class=\"comment\">/* 加深浅灰色，提升文字可读性 */</span></span><br><span class=\"line\">  <span class=\"attr\">--waline-dark-grey</span>: <span class=\"number\">#333333</span>; <span class=\"comment\">/* 加深深灰色，增强与背景对比 */</span></span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"comment\">/* 主题色强化 - 使工具栏按钮更突出 */</span></span><br><span class=\"line\">  <span class=\"attr\">--waline-theme-color</span>: <span class=\"number\">#1859bbff</span>; <span class=\"comment\">/* 稍深的主题色，增强按钮识别度 */</span></span><br><span class=\"line\">  <span class=\"attr\">--waline-active-color</span>: <span class=\"number\">#5d932b</span>; <span class=\"comment\">/* 更鲜明的活跃色，突出点击状态 */</span></span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"comment\">/* 布局颜色 - 增强工具栏区域区分 */</span></span><br><span class=\"line\">  <span class=\"attr\">--waline-color</span>: <span class=\"number\">#188dd1ff</span>;</span><br><span class=\"line\">  <span class=\"attr\">--waline-bgcolor</span>: <span class=\"number\">#ffffff</span>;</span><br><span class=\"line\">  <span class=\"attr\">--waline-bgcolor-light</span>: <span class=\"number\">#f5f5f5</span>; <span class=\"comment\">/* 稍深的浅色背景，使工具栏区域更明显 */</span></span><br><span class=\"line\">  <span class=\"attr\">--waline-bgcolor-hover</span>: <span class=\"number\">#e0e0e0</span>; <span class=\"comment\">/* 加深悬停背景，提升交互反馈 */</span></span><br><span class=\"line\">  <span class=\"attr\">--waline-border-color</span>: <span class=\"number\">#cccccc</span>; <span class=\"comment\">/* 稍深的边框，使工具栏元素边界更清晰 */</span></span><br><span class=\"line\">  <span class=\"attr\">--waline-disable-bgcolor</span>: <span class=\"number\">#f0f0f0</span>;</span><br><span class=\"line\">  <span class=\"attr\">--waline-disable-color</span>: <span class=\"number\">#888888</span>; <span class=\"comment\">/* 禁用状态颜色加深，明确不可用状态 */</span></span><br><span class=\"line\">  <span class=\"attr\">--waline-code-bgcolor</span>: <span class=\"number\">#adaaaaff</span>; <span class=\"comment\">/* 代码工具栏背景调整 */</span></span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"comment\">/* 特殊颜色 */</span></span><br><span class=\"line\">  <span class=\"attr\">--waline-bq-color</span>: <span class=\"number\">#f0f0f0</span>;</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"comment\">/* 头像 */</span></span><br><span class=\"line\">  <span class=\"attr\">--waline-avatar-size</span>: <span class=\"number\">3.25rem</span>;</span><br><span class=\"line\">  <span class=\"attr\">--waline-m-avatar-size</span>: <span class=\"built_in\">calc</span>(<span class=\"selector-tag\">var</span>(<span class=\"attr\">--waline-avatar-size</span>) * <span class=\"number\">9</span> / <span class=\"number\">13</span>);</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"comment\">/* 徽章 - 增强工具栏内徽章对比度 */</span></span><br><span class=\"line\">  <span class=\"attr\">--waline-badge-color</span>: <span class=\"number\">#2980b9</span>; <span class=\"comment\">/* 稍深的徽章色，更易识别 */</span></span><br><span class=\"line\">  <span class=\"attr\">--waline-badge-font-size</span>: <span class=\"number\">0.725em</span>;</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"comment\">/* 信息区域 - 工具栏辅助信息更清晰 */</span></span><br><span class=\"line\">  <span class=\"attr\">--waline-info-bgcolor</span>: <span class=\"number\">#f5f5f5</span>;</span><br><span class=\"line\">  <span class=\"attr\">--waline-info-color</span>: <span class=\"number\">#555555</span>; <span class=\"comment\">/* 信息文字加深 */</span></span><br><span class=\"line\">  <span class=\"attr\">--waline-info-font-size</span>: <span class=\"number\">0.725em</span>;</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"comment\">/* 渲染选择 - 强化工具栏元素边框 */</span></span><br><span class=\"line\">  <span class=\"attr\">--waline-border</span>: <span class=\"number\">1px</span> solid <span class=\"selector-tag\">var</span>(<span class=\"attr\">--waline-border-color</span>);</span><br><span class=\"line\">  <span class=\"attr\">--waline-avatar-radius</span>: <span class=\"number\">50%</span>;</span><br><span class=\"line\">  <span class=\"attr\">--waline-box-shadow</span>: <span class=\"number\">0</span> <span class=\"number\">1px</span> <span class=\"number\">4px</span> <span class=\"built_in\">rgba</span>(<span class=\"number\">0</span>,<span class=\"number\">0</span>,<span class=\"number\">0</span>,<span class=\"number\">0.15</span>); <span class=\"comment\">/* 稍强阴影，突出工具栏区域 */</span></span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"comment\">/* 工具栏特定元素强化 */</span></span><br><span class=\"line\">  <span class=\"selector-class\">.wl-toolbar</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">border-bottom</span>: <span class=\"number\">1px</span> solid <span class=\"number\">#e0e0e0</span>; <span class=\"comment\">/* 工具栏底部边框加深 */</span></span><br><span class=\"line\">    <span class=\"attribute\">padding</span>: <span class=\"number\">0.5em</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"attribute\">background-color</span>: <span class=\"number\">#fafafa</span>; <span class=\"comment\">/* 工具栏背景与主区域区分 */</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"comment\">/* 工具栏按钮增强 */</span></span><br><span class=\"line\">  <span class=\"selector-class\">.wl-toolbar</span> <span class=\"selector-tag\">button</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">color</span>: <span class=\"number\">#555555</span> <span class=\"meta\">!important</span>; <span class=\"comment\">/* 按钮图标颜色加深 */</span></span><br><span class=\"line\">    <span class=\"attribute\">padding</span>: <span class=\"number\">0.3em</span> <span class=\"number\">0.6em</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"selector-class\">.wl-toolbar</span> <span class=\"selector-tag\">button</span><span class=\"selector-pseudo\">:hover</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">background-color</span>: <span class=\"number\">#e8e8e8</span> <span class=\"meta\">!important</span>; <span class=\"comment\">/* 悬停背景更明显 */</span></span><br><span class=\"line\">    <span class=\"attribute\">color</span>: <span class=\"number\">#222222</span> <span class=\"meta\">!important</span>; <span class=\"comment\">/* 悬停时图标颜色加深 */</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"comment\">/* 输入框强化 */</span></span><br><span class=\"line\">  <span class=\"selector-class\">.wl-editor</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">border</span>: <span class=\"number\">1px</span> solid <span class=\"number\">#dddddd</span> <span class=\"meta\">!important</span>;</span><br><span class=\"line\">    <span class=\"attribute\">box-shadow</span>: inset <span class=\"number\">0</span> <span class=\"number\">1px</span> <span class=\"number\">3px</span> <span class=\"built_in\">rgba</span>(<span class=\"number\">0</span>,<span class=\"number\">0</span>,<span class=\"number\">0</span>,<span class=\"number\">0.05</span>) <span class=\"meta\">!important</span>; <span class=\"comment\">/* 内阴影增强输入框边界感 */</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.cmt-body</span><span class=\"selector-class\">.waline</span> &#123;</span><br><span class=\"line\">  <span class=\"built_in\">ondark</span>() &#123;</span><br><span class=\"line\">    <span class=\"comment\">/* 深色模式增强对比度设置 */</span></span><br><span class=\"line\">    <span class=\"attr\">--waline-white</span>: <span class=\"number\">#0a0a0a</span>;</span><br><span class=\"line\">    <span class=\"attr\">--waline-light-grey</span>: <span class=\"number\">#b0b0b0</span>; <span class=\"comment\">/* 明显提亮的浅灰色 */</span></span><br><span class=\"line\">    <span class=\"attr\">--waline-dark-grey</span>: <span class=\"number\">#e0e0e0</span>; <span class=\"comment\">/* 接近白色的深灰色，提升文字可读性 */</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">/* 布局颜色 - 更大的明暗差异 */</span></span><br><span class=\"line\">    <span class=\"attr\">--waline-color</span>: <span class=\"number\">#f0f0f0</span>; <span class=\"comment\">/* 极亮的文字颜色 */</span></span><br><span class=\"line\">    <span class=\"attr\">--waline-bgcolor</span>: <span class=\"selector-tag\">var</span>(<span class=\"attr\">--block</span>, <span class=\"number\">#121212</span>); <span class=\"comment\">/* 更深的主背景 */</span></span><br><span class=\"line\">    <span class=\"attr\">--waline-bgcolor-light</span>: <span class=\"number\">#222222</span>; <span class=\"comment\">/* 明显浅于主背景的次级背景 */</span></span><br><span class=\"line\">    <span class=\"attr\">--waline-bgcolor-hover</span>: <span class=\"number\">#2C3E50</span>; <span class=\"comment\">/* 悬停状态明显区分 */</span></span><br><span class=\"line\">    <span class=\"attr\">--waline-border-color</span>: <span class=\"number\">#383838</span>; <span class=\"comment\">/* 更粗的视觉边框效果 */</span></span><br><span class=\"line\">    <span class=\"attr\">--waline-disable-bgcolor</span>: <span class=\"number\">#333333</span>;</span><br><span class=\"line\">    <span class=\"attr\">--waline-disable-color</span>: <span class=\"number\">#999999</span>; <span class=\"comment\">/* 禁用状态与可用状态明显区分 */</span></span><br><span class=\"line\">    <span class=\"attr\">--waline-code-bgcolor</span>: <span class=\"number\">#050810</span>; <span class=\"comment\">/* 代码块背景与主背景区分 */</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">/* 特殊颜色 - 增强区块感 */</span></span><br><span class=\"line\">    <span class=\"attr\">--waline-bq-color</span>: <span class=\"number\">#252525</span>; <span class=\"comment\">/* 引用区块明显区分 */</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">/* 主题色 - 在深色背景上更突出 */</span></span><br><span class=\"line\">    <span class=\"attr\">--waline-theme-color</span>: <span class=\"number\">#2983beff</span>;</span><br><span class=\"line\">    <span class=\"attr\">--waline-active-color</span>: <span class=\"number\">#7dd147</span>; <span class=\"comment\">/* 更鲜艳的活跃色 */</span></span><br><span class=\"line\">    <span class=\"attr\">--waline-badge-color</span>: <span class=\"number\">#4da6ff</span>; <span class=\"comment\">/* 徽章颜色更明亮 */</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">/* 信息区域 - 增强区分度 */</span></span><br><span class=\"line\">    <span class=\"attr\">--waline-info-bgcolor</span>: <span class=\"number\">#222222</span>;</span><br><span class=\"line\">    <span class=\"attr\">--waline-info-color</span>: <span class=\"number\">#cccccc</span>; <span class=\"comment\">/* 信息文字更亮 */</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">/* 强化边框和阴影效果 */</span></span><br><span class=\"line\">    <span class=\"attr\">--waline-border</span>: <span class=\"number\">1px</span> solid <span class=\"selector-tag\">var</span>(<span class=\"attr\">--waline-border-color</span>);</span><br><span class=\"line\">    <span class=\"attr\">--waline-box-shadow</span>: <span class=\"number\">0</span> <span class=\"number\">2px</span> <span class=\"number\">8px</span> <span class=\"built_in\">rgba</span>(<span class=\"number\">0</span>,<span class=\"number\">0</span>,<span class=\"number\">0</span>,<span class=\"number\">0.3</span>); <span class=\"comment\">/* 更深的阴影增强层次感 */</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">/* 计数元素特别强化 */</span></span><br><span class=\"line\">    <span class=\"selector-class\">.wl-count</span> &#123;</span><br><span class=\"line\">      <span class=\"attribute\">padding</span>: .<span class=\"number\">375em</span>;</span><br><span class=\"line\">      <span class=\"attribute\">font-weight</span>: bold;</span><br><span class=\"line\">      <span class=\"attribute\">font-size</span>: <span class=\"number\">1.25em</span>;</span><br><span class=\"line\">      <span class=\"attribute\">color</span>: <span class=\"number\">#ffffff</span>;</span><br><span class=\"line\">      <span class=\"attribute\">background-color</span>: <span class=\"number\">#1C1F21</span>;</span><br><span class=\"line\">      <span class=\"attribute\">border-radius</span>: <span class=\"number\">4px</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">/* 评论项之间添加分隔线增强区分 */</span></span><br><span class=\"line\">    <span class=\"selector-class\">.wl-item</span> &#123;</span><br><span class=\"line\">      <span class=\"attribute\">border-bottom</span>: <span class=\"number\">1px</span> solid <span class=\"built_in\">var</span>(--waline-border-color);</span><br><span class=\"line\">      <span class=\"attribute\">padding</span>: <span class=\"number\">1em</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">/* 输入框强化 */</span></span><br><span class=\"line\">    <span class=\"selector-class\">.wl-editor</span> &#123;</span><br><span class=\"line\">      <span class=\"attribute\">background-color</span>: <span class=\"number\">#050810</span> <span class=\"meta\">!important</span>;</span><br><span class=\"line\">      <span class=\"attribute\">border</span>: <span class=\"number\">1px</span> solid <span class=\"number\">#383838</span> <span class=\"meta\">!important</span>;</span><br><span class=\"line\">      <span class=\"attribute\">color</span>: <span class=\"number\">#f0f0f0</span> <span class=\"meta\">!important</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"selector-pseudo\">:root</span><span class=\"selector-attr\">[data-theme=<span class=\"string\">&quot;dark&quot;</span>]</span> &amp; &#123;</span><br><span class=\"line\">    <span class=\"built_in\">ondark</span>();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"selector-pseudo\">:root</span><span class=\"selector-pseudo\">:not</span>(<span class=\"selector-attr\">[data-theme]</span>) &amp; &#123;</span><br><span class=\"line\">    <span class=\"keyword\">@media</span> (<span class=\"attribute\">prefers-color-scheme</span>: dark) &#123;</span><br><span class=\"line\">      <span class=\"built_in\">ondark</span>();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* 修复浅色模式下评论标题显示白色的问题 */</span></span><br><span class=\"line\"><span class=\"comment\">/* 1. 基础覆盖：直接指定 .cmt-title 文本颜色 */</span></span><br><span class=\"line\"><span class=\"selector-class\">.header</span><span class=\"selector-class\">.cmt-title</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: <span class=\"number\">#333333</span> <span class=\"meta\">!important</span>; <span class=\"comment\">/* 浅色模式默认深色文本，与白色背景强对比 */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* 2. 精准适配：结合 data-theme=&quot;light&quot; 确保只作用于浅色模式 */</span></span><br><span class=\"line\"><span class=\"selector-pseudo\">:root</span><span class=\"selector-attr\">[data-theme=<span class=\"string\">&quot;light&quot;</span>]</span> <span class=\"selector-class\">.header</span><span class=\"selector-class\">.cmt-title</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: <span class=\"number\">#222222</span> <span class=\"meta\">!important</span>; <span class=\"comment\">/* 浅色模式下强制深色标题 */</span></span><br><span class=\"line\">  <span class=\"attribute\">opacity</span>: <span class=\"number\">1</span> <span class=\"meta\">!important</span>; <span class=\"comment\">/* 避免被其他样式设置透明 */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* 3. 兜底：防止标题内的 p 标签继承白色 */</span></span><br><span class=\"line\"><span class=\"selector-pseudo\">:root</span><span class=\"selector-attr\">[data-theme=<span class=\"string\">&quot;light&quot;</span>]</span> <span class=\"selector-class\">.header</span><span class=\"selector-class\">.cmt-title</span> <span class=\"selector-tag\">p</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: inherit <span class=\"meta\">!important</span>; <span class=\"comment\">/* 继承父级的深色，而非白色 */</span></span><br><span class=\"line\">  <span class=\"attribute\">margin</span>: <span class=\"number\">0</span>; <span class=\"comment\">/* 可选：修复可能的默认边距问题 */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* 4. 深色模式兼容（避免影响深色模式） */</span></span><br><span class=\"line\"><span class=\"selector-pseudo\">:root</span><span class=\"selector-attr\">[data-theme=<span class=\"string\">&quot;dark&quot;</span>]</span> <span class=\"selector-class\">.header</span><span class=\"selector-class\">.cmt-title</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: <span class=\"number\">#ffffff</span> <span class=\"meta\">!important</span>; <span class=\"comment\">/* 深色模式保持白色标题，确保正常显示 */</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></div></div></div></div></div>\n<h3 id=\"5-面包屑文章字数统计\">5.  面包屑文章字数统计</h3>\n<p>主题布局文件article_banner.ejs中添加如下代码，即可实现功能。</p>\n<details class=\"tag-plugin colorful folding\" ><summary><p>代码折叠</p>\n</summary><div class=\"body\"><figure class=\"highlight plaintext\"><figcaption><span>article_banner.ejs</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;%</span><br><span class=\"line\">var banner = &#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">if (page.banner) &#123;</span><br><span class=\"line\">  banner.url = page.banner</span><br><span class=\"line\">&#125; else if (theme.topic.tree[page.topic]?.banner != null) &#123;</span><br><span class=\"line\">  banner.url = theme.topic.tree[page.topic]?.banner</span><br><span class=\"line\">&#125; else if (theme.wiki.tree[page.wiki]?.banner != null) &#123;</span><br><span class=\"line\">  banner.url = theme.wiki.tree[page.wiki]?.banner</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">banner = Object.assign(banner, page.banner_info)</span><br><span class=\"line\">// 标题</span><br><span class=\"line\">if (banner.title == null) &#123;</span><br><span class=\"line\">  banner.title = page.h1 != null ? page.h1 : page.title</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">// 副标题</span><br><span class=\"line\">if (banner.subtitle == null) &#123;</span><br><span class=\"line\">  banner.subtitle = page.subtitle</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">// 生成日期信息（确保更新时间常显）</span><br><span class=\"line\">function layoutDateInfo() &#123;</span><br><span class=\"line\">  const publishTime = page.date ? page.date.format(&#x27;YYYY-MM-DD&#x27;) : &#x27;未知时间&#x27;;</span><br><span class=\"line\">  // 无论是否更新都显示更新时间</span><br><span class=\"line\">  const updateTime = page.updated ? page.updated.format(&#x27;YYYY-MM-DD&#x27;) : publishTime;</span><br><span class=\"line\">  </span><br><span class=\"line\">  // 使用4个非换行空格分隔（&amp;nbsp;）</span><br><span class=\"line\">  return `&lt;span class=&quot;publish-time&quot;&gt;发布时间：$&#123;publishTime&#125;&lt;/span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;</span><br><span class=\"line\">          &lt;span class=&quot;update-time&quot;&gt;更新时间：$&#123;updateTime&#125;&lt;/span&gt;`;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">function layoutBreadcrumb() &#123;</span><br><span class=\"line\">  if (page.breadcrumb === false) &#123;</span><br><span class=\"line\">    return `&lt;div class=&quot;top&quot;&gt;&lt;/div&gt;`</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  </span><br><span class=\"line\">  // 使用hexo-wordcount计算文章元信息</span><br><span class=\"line\">  let metaInfo = &#x27;&#x27;</span><br><span class=\"line\">  if (page.layout == &#x27;post&#x27; &amp;&amp; page.content) &#123;</span><br><span class=\"line\">    // 调用hexo-wordcount提供的函数</span><br><span class=\"line\">    const wordCount = wordcount(page.content);</span><br><span class=\"line\">    const readTime = min2read(page.content);</span><br><span class=\"line\">    // 使用4个非换行空格分隔（&amp;nbsp;）</span><br><span class=\"line\">    metaInfo = `</span><br><span class=\"line\">      &lt;div class=&quot;breadcrumb-meta text-sm&quot;&gt;</span><br><span class=\"line\">        文章字数：$&#123;wordCount&#125;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;阅读时长：$&#123;readTime&#125;分钟</span><br><span class=\"line\">      &lt;/div&gt;</span><br><span class=\"line\">    `;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  </span><br><span class=\"line\">  // 构建面包屑导航（三行左对齐布局）</span><br><span class=\"line\">  let el = &#x27;&#x27;</span><br><span class=\"line\">  el += `&lt;div class=&quot;top bread-nav footnote&quot;&gt;`</span><br><span class=\"line\">  el += `&lt;div class=&quot;left breadcrumb-container&quot;&gt;`</span><br><span class=\"line\">  </span><br><span class=\"line\">  // 第一行：面包屑导航（左对齐）</span><br><span class=\"line\">  el += `&lt;div class=&quot;flex-row breadcrumb-path text-sm&quot; id=&quot;breadcrumb&quot; style=&quot;text-align: left;&quot;&gt;`</span><br><span class=\"line\">  el += `&lt;a class=&quot;cap breadcrumb&quot; href=&quot;$&#123;pretty_url(config.root)&#125;&quot;&gt;$&#123;__(&quot;btn.home&quot;)&#125;&lt;/a&gt;`</span><br><span class=\"line\">  if (theme.wiki.tree[page.wiki]) &#123;</span><br><span class=\"line\">    el += partial(&#x27;breadcrumb/wiki&#x27;)</span><br><span class=\"line\">  &#125; else if (page.notebook) &#123;</span><br><span class=\"line\">    el += partial(&#x27;breadcrumb/note&#x27;)</span><br><span class=\"line\">  &#125; else if (page.layout == &#x27;post&#x27;) &#123;</span><br><span class=\"line\">    el += partial(&#x27;breadcrumb/blog&#x27;)</span><br><span class=\"line\">  &#125; else &#123;</span><br><span class=\"line\">    el += partial(&#x27;breadcrumb/page&#x27;)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  el += `&lt;/div&gt;`</span><br><span class=\"line\">  </span><br><span class=\"line\">  // 第二行：文章元信息（左对齐）</span><br><span class=\"line\">  el += metaInfo ? `&lt;div style=&quot;text-align: left; padding: 4px 0;&quot;&gt;$&#123;metaInfo&#125;&lt;/div&gt;` : &#x27;&#x27;</span><br><span class=\"line\">  </span><br><span class=\"line\">  // 第三行：日期信息（左对齐，更新时间常显）</span><br><span class=\"line\">  el += `&lt;div class=&quot;breadcrumb-date text-sm&quot; style=&quot;text-align: left; padding: 4px 0;&quot;&gt;`</span><br><span class=\"line\">  el += layoutDateInfo()</span><br><span class=\"line\">  el += `&lt;/div&gt;`</span><br><span class=\"line\">  </span><br><span class=\"line\">  el += `&lt;/div&gt;` // 关闭.left</span><br><span class=\"line\">  el += `&lt;/div&gt;` // 关闭.top</span><br><span class=\"line\">  return el</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">function layoutTitle() &#123;</span><br><span class=\"line\">  if (banner.title?.length &gt; 0) &#123;</span><br><span class=\"line\">    return `&lt;h1 class=&quot;text title&quot;&gt;&lt;span&gt;$&#123;banner.title&#125;&lt;/span&gt;&lt;/h1&gt;`</span><br><span class=\"line\">  &#125; else &#123;</span><br><span class=\"line\">    return &#x27;&#x27;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">function layoutSubtitle() &#123;</span><br><span class=\"line\">  if (banner.subtitle?.length &gt; 0) &#123;</span><br><span class=\"line\">    return `&lt;div class=&quot;text subtitle&quot;&gt;$&#123;banner.subtitle&#125;&lt;/div&gt;`</span><br><span class=\"line\">  &#125; else &#123;</span><br><span class=\"line\">    return &#x27;&#x27;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">function layoutIcon() &#123;</span><br><span class=\"line\">  if (banner.avatar?.length &gt; 0 || banner.icon?.length &gt; 0) &#123;</span><br><span class=\"line\">    return `&lt;img class=&quot;lazy avatar&quot; data-src=&quot;$&#123;banner.avatar || banner.icon&#125;&quot;&gt;`</span><br><span class=\"line\">  &#125; else &#123;</span><br><span class=\"line\">    return &#x27;&#x27;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">function layoutBottom() &#123;</span><br><span class=\"line\">  const el_icon = layoutIcon()</span><br><span class=\"line\">  const el_title = layoutTitle()</span><br><span class=\"line\">  const el_subtitle = layoutSubtitle()</span><br><span class=\"line\">  let cls = &#x27;&#x27;</span><br><span class=\"line\">  if (el_title.length &gt; 0 &amp;&amp; el_subtitle.length == 0) &#123;</span><br><span class=\"line\">    cls += &#x27; only-title&#x27;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  if (el_title.length &gt; 0) &#123;</span><br><span class=\"line\">    return `</span><br><span class=\"line\">    &lt;div class=&quot;bottom$&#123;cls&#125;&quot;&gt;</span><br><span class=\"line\">      $&#123;el_icon&#125;</span><br><span class=\"line\">      &lt;div class=&quot;text-area&quot;&gt;</span><br><span class=\"line\">        $&#123;el_title&#125;</span><br><span class=\"line\">        $&#123;el_subtitle&#125;</span><br><span class=\"line\">      &lt;/div&gt;</span><br><span class=\"line\">    &lt;/div&gt;</span><br><span class=\"line\">    `</span><br><span class=\"line\">  &#125; else &#123;</span><br><span class=\"line\">    return ``</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">function layoutDiv() &#123;</span><br><span class=\"line\">  const bottom = layoutBottom()</span><br><span class=\"line\">  if (page.breadcrumb === false &amp;&amp; bottom.length == 0) &#123;</span><br><span class=\"line\">    return ``</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  const top = layoutBreadcrumb()</span><br><span class=\"line\">  let style = ``</span><br><span class=\"line\">  let el = ``</span><br><span class=\"line\">  el += `&lt;div class=&quot;article banner$&#123;scrollreveal(&#x27; &#x27;)&#125; top&quot;&gt;`</span><br><span class=\"line\">  if (banner.url?.length &gt; 0) &#123;</span><br><span class=\"line\">    el += `&lt;img class=&quot;lazy bg&quot; data-src=&quot;$&#123;banner.url&#125;&quot;&gt;`</span><br><span class=\"line\">    if (banner.color) &#123;</span><br><span class=\"line\">      style += &#x27; style=&quot;--text-banner:&#x27; + banner.color + &#x27;&quot;&#x27;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  el += `</span><br><span class=\"line\">  &lt;div class=&quot;content&quot;$&#123;style&#125;&gt;</span><br><span class=\"line\">    $&#123;top&#125;</span><br><span class=\"line\">    $&#123;bottom&#125;</span><br><span class=\"line\">  &lt;/div&gt;</span><br><span class=\"line\">  `</span><br><span class=\"line\">  el += `&lt;/div&gt;`</span><br><span class=\"line\">  return el</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">%&gt;</span><br><span class=\"line\">&lt;%- layoutDiv() %&gt;</span><br></pre></td></tr></table></figure> </div></details>\n<p><img src=\"https://u.sam7.top/ntjjmz\" alt=\"image-20251018133145461\"></p>\n<h3 id=\"6-动态图标配置\">6. 动态图标配置</h3>\n<p>在主题配置文件_config.stellar.yml中增加以下CSS文件，引入font-awesome图标库。在<a href=\"https://www.bootcdn.cn/font-awesome/\">font-awesome v7 CDN</a>里面找一个CDN。</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 动态图标引入</span></span><br><span class=\"line\"><span class=\"attr\">inject:</span></span><br><span class=\"line\">  <span class=\"attr\">head:</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"string\">&lt;link</span> <span class=\"string\">href=&quot;https://cdn.bootcdn.net/ajax/libs/font-awesome/7.0.0/css/all.css&quot;</span> <span class=\"string\">rel=&quot;stylesheet&quot;&gt;</span>  <span class=\"comment\"># fontawesome动态图标引入</span></span><br></pre></td></tr></table></figure>\n<p>图标格式张这样<code>&lt;i class=&quot;fa-solid fa-github fa-brands fa-bounce&quot;&gt;&lt;/i&gt;</code>，然后就可以在想要添加图标的地方使用了，<a href=\"https://fontawesome.com/\">Font Awesome</a>主页搜索相应特性的图标，大部分都是免费的。</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">footer:</span> </span><br><span class=\"line\">  <span class=\"attr\">social:</span></span><br><span class=\"line\">    <span class=\"attr\">github:</span></span><br><span class=\"line\">      <span class=\"attr\">icon:</span> <span class=\"string\">&#x27;&lt;i class=&quot;fa-solid fa-github fa-brands fa-bounce&quot;&gt;&lt;/i&gt;&#x27;</span></span><br><span class=\"line\">      <span class=\"attr\">title:</span> <span class=\"string\">&#x27;Github&#x27;</span></span><br><span class=\"line\">      <span class=\"attr\">url :</span> <span class=\"string\">/</span> </span><br></pre></td></tr></table></figure>\n<p><img src=\"https://u.sam7.top/WjAEkb\" alt=\"image-20251008112814230\"></p>\n<h3 id=\"7-图床、图片配置\">7. 图床、图片配置</h3>\n<ul>\n<li><a href=\"https://imgtolinkx.com/\">ImgToLink+</a>是一款免费、免登录图床软件，支持单个文件50M，返回短链。</li>\n</ul>\n<p><img src=\"https://u.sam7.top/QZjdN7\" alt=\"image-20251018221547852\"></p>\n<ul>\n<li>\n<p><a href=\"https://111666.best/\">16图床，永久免费，无需登录的图床</a>免费的往往很容易挂掉，用作评论区上传图床临时用可以。</p>\n<p><img src=\"https://u.sam7.top/siiZmD\" alt=\"image-20251018221644226\"></p>\n</li>\n<li>\n<p>Cloudflare好像也有免费的image服务。</p>\n</li>\n</ul>\n<h4 id=\"7-1-Piclist-Github图床配置\">7.1 Piclist Github图床配置</h4>\n<p>由于typora支持picgo和piclist图床上传，所以选用了目前还在持续更新的piclist。</p>\n<p>typora图片设置如下，插入图片时直接上传piclist图床，然后自动转义图片url。</p>\n<p><img src=\"https://u.sam7.top/mTDhyZ\" alt=\"image-20251018222011517\"></p>\n<p><a href=\"https://piclist.cn/\">PicList</a>主页下载安装最新版，选择Github图床搭建，参考<a href=\"https://doc.theojs.cn/notes/build-picture-bed\">PicGo/PicList + Github 搭建图床 | Theo Docs</a></p>\n<p>piclist相关设置</p>\n<ul>\n<li>\n<p>piclist设置图片最大800px宽度，大于800压缩至800，小于800不处理。</p>\n</li>\n<li>\n<p>使用<code>https://cdn.jsdmirror.com/gh</code>加速Github图床。</p>\n</li>\n<li>\n<p>上传成功直接复制url链接</p>\n</li>\n<li>\n<p>开启时间戳重命名</p>\n</li>\n<li>\n<p>添加图片水印</p>\n</li>\n<li>\n<p>使用短链接</p>\n</li>\n<li>\n<p>图片格式转换成压缩率更高的AVIF格式</p>\n</li>\n</ul>\n<h4 id=\"7-2-搭建图床短链接\">7.2 搭建图床短链接</h4>\n<p>为什么要用短链，部分平台（尤其是社交平台、论坛、旧版编辑器）对 URL 长度或格式有严格限制，包含特殊字符（如 <code>?</code> <code>&amp;</code> <code>/</code>）的长链接，可能被平台误判为 “恶意链接” 而拦截，且原始图床链接可能泄露敏感信息。</p>\n<p>piclist上传的图片链接也是一堆乱码，widowns文件系统目录<code>\\</code>被转义，可以按时间戳重命名图像名称，也可以搭建短链接网站。</p>\n<p>参考<a href=\"https://github.com/xyTom/Url-Shorten-Worker/\">xyTom/Url-Shorten-Worker</a> 主页wiki和<a href=\"https://blog.houzhongcheng.com/2025/05/30/%E7%94%A8cloudflare%E6%90%AD%E5%BB%BA%E7%9F%AD%E9%93%BE%E6%8E%A5%E7%BD%91%E7%AB%99.html\">用cloudflare搭建短链接网站</a>搭建。</p>\n<p><img src=\"https://u.sam7.top/erBf5k\" alt=\"image-20251018112143204\"></p>\n<p><img src=\"https://u.sam7.top/AEF2tc\" alt=\"image-20251018105813478\"></p>\n<h4 id=\"7-3-waline评论图床上传\">7.3 waline评论图床上传</h4>\n<p>开启waline评论区图床上传，图片能上传成功，但是的识别不了链接。</p>\n<p>已经关掉了，PicList回传的不是json，只能选择URL、markdown格式。</p>\n<h4 id=\"7-4-fancybox设置\">7.4 fancybox设置</h4>\n<p>stellar集成fancybox灯箱插件，可以在放大网页上面的图片，功能很多。</p>\n<p><a href=\"https://xaoxuu.com/wiki/stellar/tag-plugins/express/#image-%E5%9B%BE%E7%89%87%E6%A0%87%E7%AD%BE\">Stellar：表达类标签组件（33+个） - XAOXUU</a> stellar wiki介绍很详细。</p>\n<p>md语法图片格式支持默认全局打开，有个问题就是点击文章海报图片也会放大。</p>\n<figure class=\"highlight yml\"><figcaption><span>主题配置文件</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">plugins:</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"attr\">fancybox:</span></span><br><span class=\"line\">    <span class=\"attr\">enable:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">    <span class=\"attr\">loader:</span> <span class=\"string\">/js/plugins/fancybox-loader.js</span></span><br><span class=\"line\">    <span class=\"attr\">js:</span> <span class=\"string\">https://gcore.jsdelivr.net/npm/@fancyapps/ui@6/dist/fancybox/fancybox.umd.js</span></span><br><span class=\"line\">    <span class=\"attr\">css:</span> <span class=\"string\">https://gcore.jsdelivr.net/npm/@fancyapps/ui@6/dist/fancybox/fancybox.css</span></span><br><span class=\"line\">    <span class=\"comment\"># 让 md 语法图片支持放大可以这样写: .md-text img:not([class]), .md-text .image img</span></span><br><span class=\"line\">    <span class=\"comment\"># 可以处理评论区的图片（不支持 iframe 类评论系统）例如：</span></span><br><span class=\"line\">    <span class=\"comment\"># 使用 twikoo 评论可以写: .tk-content img:not([class*=&quot;emo&quot;])</span></span><br><span class=\"line\">    <span class=\"comment\"># 使用 waline 评论可以写: #waline_container .vcontent img</span></span><br><span class=\"line\">    <span class=\"attr\">selector:</span> <span class=\"string\">.timenode</span> <span class=\"string\">p&gt;img,</span> <span class=\"string\">waline_container</span> <span class=\"string\">.vcontent</span> <span class=\"string\">img,</span> <span class=\"string\">.custom-image-container</span> <span class=\"string\">a,</span> <span class=\"string\">.md-text</span> <span class=\"string\">img:not([class]),</span> <span class=\"string\">.md-text</span> <span class=\"string\">.image</span> <span class=\"string\">img</span> <span class=\"comment\"># 多个选择器用英文逗号隔开</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"8-侧边栏配置\">8. 侧边栏配置</h3>\n<h4 id=\"8-1-左侧栏页脚图标\">8.1 左侧栏页脚图标</h4>\n<p>stellar主题预留有7个位置，主题配置如下，footer下面添加以下内容。</p>\n<figure class=\"highlight yaml\"><figcaption><span>主题配置文件</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">######## Footer ########</span></span><br><span class=\"line\"><span class=\"attr\">footer:</span> </span><br><span class=\"line\">  <span class=\"attr\">social:</span></span><br><span class=\"line\">    <span class=\"attr\">github:</span></span><br><span class=\"line\">      <span class=\"attr\">icon:</span> <span class=\"string\">&#x27;&lt;i class=&quot;fa-solid fa-github fa-brands&quot; style=&quot;font-size:1em;&quot;&gt;&lt;/i&gt;&#x27;</span></span><br><span class=\"line\">      <span class=\"attr\">title:</span> <span class=\"string\">&#x27;Github&#x27;</span></span><br><span class=\"line\">      <span class=\"attr\">url :</span> <span class=\"string\">https://github.com/sam7xx</span> </span><br><span class=\"line\">    <span class=\"attr\">rss:</span> </span><br><span class=\"line\">      <span class=\"attr\">icon:</span> <span class=\"string\">&#x27;&lt;i class=&quot;fa-solid fa-rss&quot; style=&quot;color: #FF5722;font-size:1em;&quot;&gt;&lt;/i&gt;&#x27;</span></span><br><span class=\"line\">      <span class=\"attr\">title:</span> <span class=\"string\">&#x27;RSS&#x27;</span></span><br><span class=\"line\">      <span class=\"attr\">url :</span> <span class=\"string\">/atom.xml</span></span><br><span class=\"line\">    <span class=\"attr\">email:</span> </span><br><span class=\"line\">      <span class=\"attr\">icon:</span> <span class=\"string\">&#x27;&lt;i class=&quot;fa-solid fa-envelope fa-bounce&quot; style=&quot;color: #B197FC;font-size:1em;&quot;&gt;&lt;/i&gt;&#x27;</span></span><br><span class=\"line\">      <span class=\"attr\">title:</span> <span class=\"string\">&#x27;Email&#x27;</span></span><br><span class=\"line\">      <span class=\"attr\">url :</span> <span class=\"string\">&quot;mailto://2690640537@qq.com&quot;</span></span><br><span class=\"line\">    <span class=\"attr\">theme:</span></span><br><span class=\"line\">      <span class=\"attr\">icon:</span> <span class=\"string\">&#x27;&lt;i class=&quot;fa-solid fa-circle-half-stroke fa-flip&quot; style=&quot;color: #FFD600;font-size:1em;&quot;&gt;&lt;/i&gt;&#x27;</span></span><br><span class=\"line\">      <span class=\"attr\">title:</span> <span class=\"string\">&#x27;主题切换&#x27;</span></span><br><span class=\"line\">      <span class=\"attr\">url:</span> <span class=\"string\">&#x27;javascript:void(0);&#x27;</span></span><br><span class=\"line\">    <span class=\"attr\">message:</span></span><br><span class=\"line\">      <span class=\"attr\">icon:</span> <span class=\"string\">&#x27;&lt;i class=&quot;fa-solid fa-message fa-bounce&quot; style=&quot;color:#FF9800;font-size:1em;&quot;&gt;&lt;/i&gt;&#x27;</span></span><br><span class=\"line\">      <span class=\"attr\">title:</span> <span class=\"string\">&#x27;留言板&#x27;</span></span><br><span class=\"line\">      <span class=\"attr\">url:</span> <span class=\"string\">&#x27;/messages&#x27;</span></span><br><span class=\"line\">    <span class=\"attr\">about:</span></span><br><span class=\"line\">      <span class=\"attr\">icon:</span> <span class=\"string\">&#x27;&lt;i class=&quot;fa-solid fa-user&quot; style=&quot;color:#4CAF50;font-size:1em;&quot;&gt;&lt;/i&gt;&#x27;</span></span><br><span class=\"line\">      <span class=\"attr\">title:</span> <span class=\"string\">&#x27;关于作者&#x27;</span></span><br><span class=\"line\">      <span class=\"attr\">url:</span> <span class=\"string\">&#x27;/about&#x27;</span></span><br><span class=\"line\">    <span class=\"attr\">friends:</span></span><br><span class=\"line\">      <span class=\"attr\">icon:</span> <span class=\"string\">&#x27;&lt;i class=&quot;fa-solid fa-link&quot; style=&quot;color:#2196F3;font-size:1em;&quot;&gt;&lt;/i&gt;&#x27;</span></span><br><span class=\"line\">      <span class=\"attr\">title:</span> <span class=\"string\">&#x27;友链&#x27;</span></span><br><span class=\"line\">      <span class=\"attr\">url:</span> <span class=\"string\">&#x27;/friends&#x27;</span></span><br></pre></td></tr></table></figure>\n<p><img src=\"https://u.sam7.top/GGHPGQ\" alt=\"image-20251018133033178\"></p>\n<h4 id=\"8-2-侧边栏组件\">8.2 侧边栏组件</h4>\n<p>参考主题wiki配置<a href=\"https://xaoxuu.com/wiki/stellar/widgets/\">Stellar：侧边栏组件的配置与使用（9个） - XAOXUU</a></p>\n<p>可以根据需要添加或者自定义喜欢的组件。<a href=\"https://blog.bxzdyg.cn/p/%E4%BD%BF%E7%94%A8Hexo%E5%92%8CStellar%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%E7%BD%91%E7%AB%99/#%E6%8E%A5%E5%85%A5API\">使用Hexo和Stellar搭建个人博客网站【超详细贴心保姆级教程💖】 - BoBoBlog</a></p>\n<p>在 <code>_data/widgets.yml</code> 文件中添加以下内容，需要自己创建：</p>\n<figure class=\"highlight yaml\"><figcaption><span>_data/widgets.yml</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 欢迎语</span></span><br><span class=\"line\"><span class=\"attr\">welcome:</span></span><br><span class=\"line\">  <span class=\"attr\">layout:</span> <span class=\"string\">markdown</span></span><br><span class=\"line\">  <span class=\"attr\">title:</span> <span class=\"string\">🎉欢迎</span></span><br><span class=\"line\">  <span class=\"attr\">content:</span> <span class=\"string\">|</span></span><br><span class=\"line\"><span class=\"string\">    本站托管于Cloudflare, 加载缓慢请耐心等待，欢迎大家畅所欲言。</span></span><br><span class=\"line\"><span class=\"string\">    &lt;hr style=&quot;border: 1px solid black; background-color: black;&quot;&gt;</span></span><br><span class=\"line\"><span class=\"string\">    &lt;span id=&quot;jinrishici-sentence&quot;&gt;&lt;/span&gt;</span></span><br><span class=\"line\"><span class=\"string\">    &lt;script src=&quot;https://sdk.jinrishici.com/v2/browser/jinrishici.js&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;</span></span><br></pre></td></tr></table></figure>\n<p>修改主题配置文件，在想要显示的页面添加welcome组件，</p>\n<figure class=\"highlight yaml\"><figcaption><span>主题配置文件</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">home:</span></span><br><span class=\"line\">  <span class=\"attr\">leftbar:</span>  <span class=\"string\">welcome,</span> <span class=\"string\">recent,</span> <span class=\"string\">music</span></span><br><span class=\"line\">  <span class=\"attr\">rightbar:</span> <span class=\"string\">tagcloud</span></span><br><span class=\"line\"><span class=\"comment\"># 博客列表页配置</span></span><br><span class=\"line\"><span class=\"attr\">index_blog:</span></span><br><span class=\"line\">  <span class=\"attr\">base_dir:</span> <span class=\"string\">blog</span> <span class=\"comment\"># 只影响自动生成的页面路径</span></span><br><span class=\"line\">  <span class=\"attr\">menu_id:</span> <span class=\"string\">post</span> <span class=\"comment\"># 未在 front-matter 中指定 menu_id 时，layout 为 post 的页面默认使用这里配置的 menu_id</span></span><br><span class=\"line\">  <span class=\"attr\">leftbar:</span>  <span class=\"string\">welcome,</span> <span class=\"string\">recent</span>  <span class=\"comment\"># for categories/tags/archives</span></span><br><span class=\"line\">  <span class=\"attr\">rightbar:</span> <span class=\"string\">tagcloud</span></span><br><span class=\"line\">  <span class=\"attr\">nav_tabs:</span>  <span class=\"comment\"># 近期发布 分类 标签 专栏 归档 and ...</span></span><br><span class=\"line\">    <span class=\"comment\"># &#x27;朋友文章&#x27;: /friends/rss/</span></span><br><span class=\"line\"><span class=\"comment\"># 博客专栏列表页配置</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"9-主导航栏配置\">9. 主导航栏配置</h3>\n<h4 id=\"9-1-启用主导航栏菜单\">9.1 启用主导航栏菜单</h4>\n<p>主题配置文件中设置如下，使用fontawesome图标。</p>\n<figure class=\"highlight yaml\"><figcaption><span>主题配置文件</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">menubar:</span></span><br><span class=\"line\">  <span class=\"attr\">columns:</span> <span class=\"number\">5</span> <span class=\"comment\"># 一行多少个</span></span><br><span class=\"line\">  <span class=\"attr\">items:</span> <span class=\"comment\"># 可按照自己需求增加，符合以下格式即可</span></span><br><span class=\"line\">    <span class=\"comment\"># id: 页面中高亮的 menu_id </span></span><br><span class=\"line\">    <span class=\"comment\"># theme: 高亮时的颜色，仅 svg 中 fill=&quot;currentColor&quot; 时有效</span></span><br><span class=\"line\">    <span class=\"comment\"># icon: 支持 svg/img 标签，可以定义在 icons.yml 文件中，也支持外部图片的 URL</span></span><br><span class=\"line\">    <span class=\"comment\"># title: 标题</span></span><br><span class=\"line\">    <span class=\"comment\"># url: 点击跳转到哪，支持相对路径和绝对路径</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"attr\">id:</span> <span class=\"string\">post</span></span><br><span class=\"line\">      <span class=\"attr\">theme:</span> <span class=\"string\">&#x27;#2196F3&#x27;</span></span><br><span class=\"line\">      <span class=\"attr\">icon:</span> <span class=\"string\">&#x27;&lt;i class=&quot;fa-solid fa-newspaper&quot; style=&quot;font-size:1.25em;&quot;&gt;&lt;/i&gt;&#x27;</span></span><br><span class=\"line\">      <span class=\"attr\">title:</span> <span class=\"string\">博客</span></span><br><span class=\"line\">      <span class=\"attr\">url:</span> <span class=\"string\">/blog</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"attr\">id:</span> <span class=\"string\">note</span></span><br><span class=\"line\">      <span class=\"attr\">theme:</span> <span class=\"string\">&#x27;#4CAF50&#x27;</span></span><br><span class=\"line\">      <span class=\"attr\">icon:</span> <span class=\"string\">&#x27;&lt;i class=&quot;fa-solid fa-pen-to-square&quot; style=&quot;font-size:1.25em;&quot;&gt;&lt;/i&gt;&#x27;</span></span><br><span class=\"line\">      <span class=\"attr\">title:</span> <span class=\"string\">笔记</span></span><br><span class=\"line\">      <span class=\"attr\">url:</span> <span class=\"string\">/note</span></span><br></pre></td></tr></table></figure>\n<p>效果展示</p>\n<p><img src=\"https://u.sam7.top/hGbYrj\" alt=\"image-20251018225127149\"></p>\n<h4 id=\"9-2-主导航栏下拉菜单设置\">9.2 主导航栏下拉菜单设置</h4>\n<p>菜单栏位置不够放怎么办，那就增加一个下拉菜单吧。在 Hexo 主题（这里是 Stellar 主题）的菜单栏 “更多” 处增加下拉菜单，可按以下步骤操作：</p>\n<div class=\"tag-plugin tabs\"id=\"tab_3\"><div class=\"nav-tabs\"><div class=\"tab active\"><a href=\"#tab_3-1\">调整内容</a></div><div class=\"tab\"><a href=\"#tab_3-2\">主题配置文件</a></div></div><div class=\"tab-content\"><div class=\"tab-pane active\" id=\"tab_3-1\"><p>步骤一：修改主题配置文件（<code>_config.yml</code>）找到主题配置文件中 <code>menubar</code> 部分关于 “更多”（<code>id: more</code>）的配置项。</p>\n<p>在 <code>items</code> 里，为 “更多” 添加子菜单结构。</p>\n<p>这里通过 <code>nested</code> 字段来定义 “更多” 的下拉子菜单，每个子项包含 <code>title</code>（子菜单标题）和 <code>url</code>（子菜单跳转链接）。</p></div><div class=\"tab-pane\" id=\"tab_3-2\"><figure class=\"highlight yaml\"><figcaption><span>主题配置文件</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">menubar:</span></span><br><span class=\"line\">  <span class=\"attr\">columns:</span> <span class=\"number\">5</span></span><br><span class=\"line\">  <span class=\"attr\">items:</span></span><br><span class=\"line\">    <span class=\"comment\"># 其他菜单项...</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"attr\">id:</span> <span class=\"string\">more</span></span><br><span class=\"line\">      <span class=\"attr\">theme:</span> <span class=\"string\">&#x27;#CC96F3&#x27;</span></span><br><span class=\"line\">      <span class=\"attr\">icon:</span> <span class=\"string\">&#x27;&lt;i class=&quot;fa-solid fa-caret-down&quot; style=&quot;font-size:1.5em;&quot;&gt;&lt;/i&gt;&#x27;</span></span><br><span class=\"line\">      <span class=\"attr\">title:</span> <span class=\"string\">更多</span></span><br><span class=\"line\">      <span class=\"comment\"># 这里配置子菜单，使用 nested 字段</span></span><br><span class=\"line\">      <span class=\"attr\">nested:</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"attr\">title:</span> <span class=\"string\">子菜单1</span></span><br><span class=\"line\">          <span class=\"attr\">url:</span> <span class=\"string\">/submenu1/</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"attr\">title:</span> <span class=\"string\">子菜单2</span></span><br><span class=\"line\">          <span class=\"attr\">url:</span> <span class=\"string\">/submenu2/</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"attr\">title:</span> <span class=\"string\">子菜单3</span></span><br><span class=\"line\">          <span class=\"attr\">url:</span> <span class=\"string\">/submenu3/</span></span><br></pre></td></tr></table></figure></div></div></div>\n<div class=\"tag-plugin tabs\"id=\"tab_4\"><div class=\"nav-tabs\"><div class=\"tab active\"><a href=\"#tab_4-1\">调整内容</a></div><div class=\"tab\"><a href=\"#tab_4-2\">menu.ejs</a></div></div><div class=\"tab-content\"><div class=\"tab-pane active\" id=\"tab_4-1\"><p>步骤二：修改主题模板文件（菜单渲染相关）</p>\n<p>Hexo 主题的菜单渲染通常在 <code>layout</code> 目录下的相关模板文件 <code>menu.ejs</code>中，为 “更多” 菜单项添加下拉菜单的渲染逻辑。</p>\n<p>这段代码的作用是：当菜单项（这里是 “更多”）存在 <code>nested</code> 子菜单配置时，渲染下拉菜单结构；否则渲染普通链接。</p></div><div class=\"tab-pane\" id=\"tab_4-2\"><details class=\"tag-plugin colorful folding\" ><summary><p>查看代码</p>\n</summary><div class=\"body\"><figure class=\"highlight html\"><figcaption><span>menu.ejs</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;%</span><br><span class=\"line\">function layoutDiv() &#123;</span><br><span class=\"line\">  var el = &#x27;&#x27;</span><br><span class=\"line\">  el += `<span class=\"tag\">&lt;<span class=\"name\">nav</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;menu dis-select$&#123;where == &#x27;main&#x27; ? &#x27; mobile-hidden&#x27; : &#x27;&#x27;&#125;&quot;</span>&gt;</span>`</span><br><span class=\"line\">  </span><br><span class=\"line\">  // 分离普通菜单项和&quot;更多&quot;菜单项</span><br><span class=\"line\">  const moreItem = (theme.menubar.items || []).find(item =&gt; item?.id === &#x27;more&#x27;);</span><br><span class=\"line\">  const regularItems = (theme.menubar.items || []).filter(item =&gt; </span><br><span class=\"line\">    item &amp;&amp; item.id != null &amp;&amp; item.url != null &amp;&amp; item.id !== &#x27;more&#x27;</span><br><span class=\"line\">  );</span><br><span class=\"line\">  </span><br><span class=\"line\">  // 渲染普通菜单项</span><br><span class=\"line\">  for (let item of regularItems) &#123;</span><br><span class=\"line\">    el += `<span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;nav-item$&#123;item.id == page.menu_id ? &#x27; active&#x27; : &#x27;&#x27;&#125;&quot;</span> <span class=\"attr\">title</span>=<span class=\"string\">&quot;$&#123;item.title&#125;&quot;</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;$&#123;pretty_url(item.url)&#125;&quot;</span>`</span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">if</span> (<span class=\"attr\">item.theme</span>?<span class=\"attr\">.length</span> &gt;</span> 0) &#123;</span><br><span class=\"line\">      el += ` style=&quot;color:$&#123;item.theme&#125;&quot;`</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    el += `&gt;`</span><br><span class=\"line\">    if (item.icon?.length &gt; 0) &#123;</span><br><span class=\"line\">      el += icon(item.icon, &#x27;no-lazy&#x27;)</span><br><span class=\"line\">    &#125; else &#123;</span><br><span class=\"line\">      el += `<span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span>$&#123;__(item.title)&#125;<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span>`</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    el += `<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span>`</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  </span><br><span class=\"line\">  // 渲染&quot;更多&quot;菜单项及下拉菜单</span><br><span class=\"line\">  if (moreItem) &#123;</span><br><span class=\"line\">    // 检查是否有子菜单配置</span><br><span class=\"line\">    const hasSubmenu = moreItem.nested &amp;&amp; moreItem.nested.length &gt; 0;</span><br><span class=\"line\">    </span><br><span class=\"line\">    el += `<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;nav-item more-dropdown$&#123;moreItem.id == page.menu_id ? &#x27; active&#x27; : &#x27;&#x27;&#125;&quot;</span>`;</span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">if</span> (<span class=\"attr\">moreItem.theme</span>?<span class=\"attr\">.length</span> &gt;</span> 0) &#123;</span><br><span class=\"line\">      el += ` style=&quot;color:$&#123;moreItem.theme&#125;&quot;`;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    el += `&gt;`;</span><br><span class=\"line\">    </span><br><span class=\"line\">    // 更多按钮</span><br><span class=\"line\">    el += `<span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;more-toggle&quot;</span> <span class=\"attr\">title</span>=<span class=\"string\">&quot;$&#123;moreItem.title&#125;&quot;</span>`;</span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">if</span> (!<span class=\"attr\">hasSubmenu</span>) &#123;</span></span><br><span class=\"line\"><span class=\"tag\">      <span class=\"attr\">el</span> += ` <span class=\"attr\">href</span>=<span class=\"string\">&quot;$&#123;pretty_url(moreItem.url)&#125;&quot;</span>`;</span></span><br><span class=\"line\"><span class=\"tag\">    &#125;</span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">el</span> += `&gt;</span>`;</span><br><span class=\"line\">    if (moreItem.icon?.length &gt; 0) &#123;</span><br><span class=\"line\">      el += icon(moreItem.icon, &#x27;no-lazy&#x27;);</span><br><span class=\"line\">    &#125; else &#123;</span><br><span class=\"line\">      el += `<span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span>$&#123;__(moreItem.title)&#125;<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span>`;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    el += `<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span>`;</span><br><span class=\"line\">    </span><br><span class=\"line\">    // 下拉菜单</span><br><span class=\"line\">    if (hasSubmenu) &#123;</span><br><span class=\"line\">      el += `<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;more-dropdown-menu&quot;</span>&gt;</span>`;</span><br><span class=\"line\">      for (let subItem of moreItem.nested) &#123;</span><br><span class=\"line\">        if (subItem &amp;&amp; subItem.title &amp;&amp; subItem.url) &#123;</span><br><span class=\"line\">          el += `<span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;dropdown-item&quot;</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;$&#123;pretty_url(subItem.url)&#125;&quot;</span> <span class=\"attr\">title</span>=<span class=\"string\">&quot;$&#123;subItem.title&#125;&quot;</span>&gt;</span>`;</span><br><span class=\"line\">          el += `<span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span>$&#123;__(subItem.title)&#125;<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span>`;</span><br><span class=\"line\">          el += `<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span>`;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      el += `<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span>`;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    el += `<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span>`;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  </span><br><span class=\"line\">  el += `<span class=\"tag\">&lt;/<span class=\"name\">nav</span>&gt;</span>`</span><br><span class=\"line\">  return el</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">%&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;%- layoutDiv() %&gt;</span><br></pre></td></tr></table></figure> </div></details></div></div></div>\n<div class=\"tag-plugin tabs\"id=\"tab_5\"><div class=\"nav-tabs\"><div class=\"tab active\"><a href=\"#tab_5-1\">调整内容</a></div><div class=\"tab\"><a href=\"#tab_5-2\">menu.styl</a></div></div><div class=\"tab-content\"><div class=\"tab-pane active\" id=\"tab_5-1\"><p>步骤三：添加样式</p>\n<p>如果需要对下拉菜单的样式（如显示 / 隐藏、 hover 效果等）进行自定义，可在主题的样式文件<code>menu.styl</code>中添加相关 CSS 规则。示例：</p></div><div class=\"tab-pane\" id=\"tab_5-2\"><details class=\"tag-plugin colorful folding\" ><summary><p>查看代码</p>\n</summary><div class=\"body\"><figure class=\"highlight stylus\"><figcaption><span>menu.styl</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br><span class=\"line\">184</span><br><span class=\"line\">185</span><br><span class=\"line\">186</span><br><span class=\"line\">187</span><br><span class=\"line\">188</span><br><span class=\"line\">189</span><br><span class=\"line\">190</span><br><span class=\"line\">191</span><br><span class=\"line\">192</span><br><span class=\"line\">193</span><br><span class=\"line\">194</span><br><span class=\"line\">195</span><br><span class=\"line\">196</span><br><span class=\"line\">197</span><br><span class=\"line\">198</span><br><span class=\"line\">199</span><br><span class=\"line\">200</span><br><span class=\"line\">201</span><br><span class=\"line\">202</span><br><span class=\"line\">203</span><br><span class=\"line\">204</span><br><span class=\"line\">205</span><br><span class=\"line\">206</span><br><span class=\"line\">207</span><br><span class=\"line\">208</span><br><span class=\"line\">209</span><br><span class=\"line\">210</span><br><span class=\"line\">211</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 导航区域菜单容器样式</span></span><br><span class=\"line\"><span class=\"selector-class\">.nav-area</span> <span class=\"selector-class\">.menu</span></span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">100%</span> // 宽度占满父容器</span><br><span class=\"line\">  <span class=\"attribute\">display</span>: grid // 使用网格布局</span><br><span class=\"line\">  <span class=\"attribute\">margin</span>: <span class=\"number\">8px</span> <span class=\"number\">0</span> // 上下外边距<span class=\"number\">8px</span>，左右<span class=\"number\">0</span></span><br><span class=\"line\">  <span class=\"attribute\">grid-template-columns</span>: <span class=\"built_in\">repeat</span>(<span class=\"built_in\">hexo-config</span>(<span class=\"string\">&#x27;menubar.columns&#x27;</span>), <span class=\"number\">1</span>fr) // 从Hexo配置读取列数</span><br><span class=\"line\">  <span class=\"attribute\">grid-gap</span>: <span class=\"number\">8px</span> // 网格项间距<span class=\"number\">8px</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 导航区域菜单滚动条（隐藏）</span></span><br><span class=\"line\">  &amp;::-webkit-scrollbar</span><br><span class=\"line\">    <span class=\"attribute\">display</span>: none // 隐藏滚动条本体</span><br><span class=\"line\">  &amp;::-webkit-scrollbar-track-piece</span><br><span class=\"line\">    <span class=\"attribute\">background</span>: transparent // 滚动条轨道透明</span><br><span class=\"line\">  &amp;::-webkit-scrollbar-thumb</span><br><span class=\"line\">    <span class=\"attribute\">display</span>: none // 隐藏滚动条滑块</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 导航区域菜单项样式</span></span><br><span class=\"line\">  <span class=\"selector-class\">.nav-item</span></span><br><span class=\"line\">    <span class=\"attribute\">box-sizing</span>: border-box // 边框盒模型（padding和border不影响宽度）</span><br><span class=\"line\">    <span class=\"attribute\">width</span>: <span class=\"number\">100%</span> // 宽度<span class=\"number\">100%</span></span><br><span class=\"line\">    <span class=\"attribute\">min-height</span>: <span class=\"number\">40px</span> // 最小高度<span class=\"number\">40px</span></span><br><span class=\"line\">    <span class=\"attribute\">border-radius</span>: <span class=\"built_in\">var</span>(--border-bar) // 使用圆角变量</span><br><span class=\"line\">    <span class=\"attribute\">font-size</span>: <span class=\"built_in\">var</span>(--fs-<span class=\"number\">15</span>) // <span class=\"number\">15px</span>字体变量</span><br><span class=\"line\">    <span class=\"attribute\">font-weight</span>: <span class=\"number\">500</span> // 中等粗细</span><br><span class=\"line\">    <span class=\"attribute\">color</span>: <span class=\"built_in\">var</span>(--text-p3) // 三级文字色</span><br><span class=\"line\">    <span class=\"attribute\">text-align</span>: center // 文字居中</span><br><span class=\"line\">    <span class=\"attribute\">background</span>: <span class=\"built_in\">var</span>(--bg-a50) // <span class=\"number\">50%</span>透明度背景</span><br><span class=\"line\">    <span class=\"attribute\">transition</span>: background <span class=\"number\">0.3s</span> ease // 背景过渡动画</span><br><span class=\"line\">    <span class=\"attribute\">position</span>: relative // 相对定位</span><br><span class=\"line\">    <span class=\"attribute\">display</span>: flex // Flex布局</span><br><span class=\"line\">    <span class=\"attribute\">flex-direction</span>: column // 子元素垂直排列</span><br><span class=\"line\">    <span class=\"attribute\">align-items</span>: center // 水平居中</span><br><span class=\"line\">    <span class=\"attribute\">justify-content</span>: center // 垂直居中</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 导航项文字样式</span></span><br><span class=\"line\">    <span class=\"selector-tag\">span</span></span><br><span class=\"line\">      <span class=\"attribute\">text-overflow</span>: ellipsis // 溢出显示省略号</span><br><span class=\"line\">      <span class=\"attribute\">word-break</span>: keep-all // 不拆分单词</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 激活/悬停状态</span></span><br><span class=\"line\">    &amp;<span class=\"selector-class\">.active</span>, <span class=\"selector-pseudo\">&amp;:hover</span></span><br><span class=\"line\">      <span class=\"attribute\">color</span>: <span class=\"built_in\">var</span>(--text-p1) // 一级文字色</span><br><span class=\"line\">      <span class=\"attribute\">background</span>: <span class=\"built_in\">var</span>(--bg-a100) // <span class=\"number\">100%</span>透明度背景</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 激活状态底部指示条</span></span><br><span class=\"line\">    &amp;<span class=\"selector-class\">.active</span><span class=\"selector-pseudo\">:after</span></span><br><span class=\"line\">      <span class=\"attribute\">content</span>: <span class=\"string\">&#x27;&#x27;</span> // 空内容伪元素</span><br><span class=\"line\">      <span class=\"attribute\">position</span>: absolute // 绝对定位</span><br><span class=\"line\">      <span class=\"attribute\">width</span>: <span class=\"number\">16px</span> // 宽度<span class=\"number\">16px</span></span><br><span class=\"line\">      <span class=\"attribute\">height</span>: <span class=\"number\">2px</span> // 高度<span class=\"number\">2px</span></span><br><span class=\"line\">      <span class=\"attribute\">left</span>: <span class=\"number\">50%</span> // 水平居中</span><br><span class=\"line\">      <span class=\"attribute\">transform</span>: <span class=\"built_in\">translateX</span>(-<span class=\"number\">50%</span>) // 水平居中偏移</span><br><span class=\"line\">      <span class=\"attribute\">border-radius</span>: <span class=\"number\">2px</span> // 圆角<span class=\"number\">2px</span></span><br><span class=\"line\">      <span class=\"attribute\">bottom</span>: <span class=\"number\">2px</span> // 距离底部<span class=\"number\">2px</span></span><br><span class=\"line\">      <span class=\"attribute\">background</span>: currentColor // 继承文字颜色</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 基础菜单样式</span></span><br><span class=\"line\"><span class=\"selector-class\">.menu</span></span><br><span class=\"line\">  <span class=\"attribute\">display</span>: flex // Flex布局（横向排列）</span><br><span class=\"line\">  <span class=\"attribute\">list-style</span>: none // 移除列表默认样式</span><br><span class=\"line\">  <span class=\"attribute\">padding</span>: <span class=\"number\">0</span> // 无内边距</span><br><span class=\"line\">  <span class=\"attribute\">margin</span>: <span class=\"number\">0</span> // 无外边距</span><br><span class=\"line\">  <span class=\"attribute\">gap</span>: <span class=\"number\">1rem</span> // 菜单项间距<span class=\"number\">1rem</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 通用导航项样式</span></span><br><span class=\"line\"><span class=\"selector-class\">.nav-item</span></span><br><span class=\"line\">  <span class=\"attribute\">display</span>: flex // Flex布局</span><br><span class=\"line\">  <span class=\"attribute\">align-items</span>: center // 垂直居中</span><br><span class=\"line\">  <span class=\"attribute\">justify-content</span>: center // 水平居中</span><br><span class=\"line\">  <span class=\"attribute\">text-decoration</span>: none // 无下划线</span><br><span class=\"line\">  <span class=\"attribute\">position</span>: relative // 相对定位（用于下拉菜单）</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 更多菜单下拉容器</span></span><br><span class=\"line\"><span class=\"selector-class\">.more-dropdown</span></span><br><span class=\"line\">  <span class=\"attribute\">position</span>: relative // 相对定位</span><br><span class=\"line\">  <span class=\"attribute\">display</span>: inline-block // 行内块布局</span><br><span class=\"line\">  <span class=\"attribute\">z-index</span>: <span class=\"number\">100</span> // 层级<span class=\"number\">100</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 更多下拉菜单样式（恢复原始宽度40px）</span></span><br><span class=\"line\">  <span class=\"selector-class\">.more-dropdown-menu</span></span><br><span class=\"line\">    <span class=\"attribute\">display</span>: none // 默认隐藏</span><br><span class=\"line\">    <span class=\"attribute\">position</span>: absolute // 绝对定位</span><br><span class=\"line\">    <span class=\"attribute\">right</span>: <span class=\"number\">0</span> // 右对齐</span><br><span class=\"line\">    <span class=\"attribute\">top</span>: -<span class=\"number\">80px</span> // 上移<span class=\"number\">80px</span></span><br><span class=\"line\">    <span class=\"attribute\">background-color</span>: <span class=\"number\">#fff</span> // 亮色背景</span><br><span class=\"line\">    <span class=\"attribute\">min-width</span>: <span class=\"number\">40px</span> // 恢复原始最小宽度（适配紧凑布局）</span><br><span class=\"line\">    <span class=\"attribute\">max-height</span>: <span class=\"number\">120px</span> // 最大高度</span><br><span class=\"line\">    <span class=\"attribute\">box-shadow</span>: <span class=\"number\">0</span> <span class=\"number\">2px</span> <span class=\"number\">12px</span> <span class=\"built_in\">rgba</span>(<span class=\"number\">0</span>,<span class=\"number\">0</span>,<span class=\"number\">0</span>,<span class=\"number\">0.15</span>) // 亮色阴影</span><br><span class=\"line\">    <span class=\"attribute\">z-index</span>: <span class=\"number\">9999</span> // 高层级避免遮挡</span><br><span class=\"line\">    <span class=\"attribute\">border-radius</span>: <span class=\"number\">6px</span> // 圆角<span class=\"number\">6px</span></span><br><span class=\"line\">    <span class=\"attribute\">overflow-y</span>: auto // 垂直滚动</span><br><span class=\"line\">    <span class=\"attribute\">overflow-x</span>: hidden // 水平隐藏溢出</span><br><span class=\"line\">    <span class=\"attribute\">padding</span>: <span class=\"number\">6px</span> <span class=\"number\">0</span> // 上下内边距<span class=\"number\">6px</span></span><br><span class=\"line\">    <span class=\"attribute\">box-sizing</span>: border-box // 边框盒模型</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 更多下拉菜单滚动条</span></span><br><span class=\"line\">    &amp;::-webkit-scrollbar</span><br><span class=\"line\">      <span class=\"attribute\">width</span>: <span class=\"number\">4px</span> // 滚动条宽度<span class=\"number\">4px</span></span><br><span class=\"line\">    &amp;::-webkit-scrollbar-thumb</span><br><span class=\"line\">      <span class=\"attribute\">background-color</span>: <span class=\"built_in\">rgba</span>(<span class=\"number\">0</span>,<span class=\"number\">0</span>,<span class=\"number\">0</span>,<span class=\"number\">0.15</span>) // 亮色滚动条滑块</span><br><span class=\"line\">      <span class=\"attribute\">border-radius</span>: <span class=\"number\">2px</span> // 滑块圆角</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 悬停显示更多下拉菜单</span></span><br><span class=\"line\">  <span class=\"selector-pseudo\">&amp;:hover</span> <span class=\"selector-class\">.more-dropdown-menu</span></span><br><span class=\"line\">    <span class=\"attribute\">display</span>: block // 显示菜单</span><br><span class=\"line\">    <span class=\"attribute\">animation</span>: fadeIn <span class=\"number\">0.2s</span> ease // 淡入动画</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 下拉菜单项样式</span></span><br><span class=\"line\"><span class=\"selector-class\">.dropdown-item</span></span><br><span class=\"line\">  <span class=\"attribute\">display</span>: flex // Flex布局</span><br><span class=\"line\">  <span class=\"attribute\">align-items</span>: center // 垂直居中</span><br><span class=\"line\">  <span class=\"attribute\">justify-content</span>: center // 水平居中</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">100%</span> // 宽度<span class=\"number\">100%</span></span><br><span class=\"line\">  <span class=\"attribute\">padding</span>: <span class=\"number\">10px</span> // 内边距<span class=\"number\">10px</span></span><br><span class=\"line\">  <span class=\"attribute\">color</span>: <span class=\"number\">#333</span> // 亮色文字</span><br><span class=\"line\">  <span class=\"attribute\">text-decoration</span>: none // 无下划线</span><br><span class=\"line\">  <span class=\"attribute\">box-sizing</span>: border-box // 边框盒模型</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 悬停效果（亮色）</span></span><br><span class=\"line\">  <span class=\"selector-pseudo\">&amp;:hover</span></span><br><span class=\"line\">    <span class=\"attribute\">background-color</span>: <span class=\"number\">#f5f5f5</span> // 亮色悬停背景</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 普通下拉菜单容器</span></span><br><span class=\"line\"><span class=\"selector-class\">.dropdown</span></span><br><span class=\"line\">  <span class=\"attribute\">position</span>: relative // 相对定位</span><br><span class=\"line\">  <span class=\"attribute\">display</span>: inline-block // 行内块布局</span><br><span class=\"line\">  <span class=\"attribute\">z-index</span>: <span class=\"number\">100</span> // 层级<span class=\"number\">100</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 普通下拉菜单样式（恢复原始宽度40px）</span></span><br><span class=\"line\">  <span class=\"selector-class\">.dropdown-menu</span></span><br><span class=\"line\">    <span class=\"attribute\">display</span>: none // 默认隐藏</span><br><span class=\"line\">    <span class=\"attribute\">position</span>: absolute // 绝对定位</span><br><span class=\"line\">    <span class=\"attribute\">top</span>: -<span class=\"number\">80px</span> // 上移<span class=\"number\">80px</span></span><br><span class=\"line\">    <span class=\"attribute\">background-color</span>: <span class=\"number\">#f9f9f9</span> // 亮色背景</span><br><span class=\"line\">    <span class=\"attribute\">min-width</span>: <span class=\"number\">40px</span> // 恢复原始最小宽度（适配紧凑布局）</span><br><span class=\"line\">    <span class=\"attribute\">max-height</span>: <span class=\"number\">120px</span> // 最大高度</span><br><span class=\"line\">    <span class=\"attribute\">box-shadow</span>: <span class=\"number\">0</span> <span class=\"number\">2px</span> <span class=\"number\">12px</span> <span class=\"built_in\">rgba</span>(<span class=\"number\">0</span>,<span class=\"number\">0</span>,<span class=\"number\">0</span>,<span class=\"number\">0.2</span>) // 亮色阴影</span><br><span class=\"line\">    <span class=\"attribute\">z-index</span>: <span class=\"number\">9999</span> // 高层级避免遮挡</span><br><span class=\"line\">    <span class=\"attribute\">overflow-y</span>: auto // 垂直滚动</span><br><span class=\"line\">    <span class=\"attribute\">overflow-x</span>: hidden // 水平隐藏溢出</span><br><span class=\"line\">    <span class=\"attribute\">padding</span>: <span class=\"number\">6px</span> <span class=\"number\">0</span> // 上下内边距<span class=\"number\">6px</span></span><br><span class=\"line\">    <span class=\"attribute\">box-sizing</span>: border-box // 边框盒模型</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 普通下拉菜单滚动条</span></span><br><span class=\"line\">    &amp;::-webkit-scrollbar</span><br><span class=\"line\">      <span class=\"attribute\">width</span>: <span class=\"number\">4px</span> // 滚动条宽度<span class=\"number\">4px</span></span><br><span class=\"line\">    &amp;::-webkit-scrollbar-thumb</span><br><span class=\"line\">      <span class=\"attribute\">background-color</span>: <span class=\"built_in\">rgba</span>(<span class=\"number\">0</span>,<span class=\"number\">0</span>,<span class=\"number\">0</span>,<span class=\"number\">0.15</span>) // 亮色滚动条滑块</span><br><span class=\"line\">      <span class=\"attribute\">border-radius</span>: <span class=\"number\">2px</span> // 滑块圆角</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 悬停显示普通下拉菜单</span></span><br><span class=\"line\">  <span class=\"selector-pseudo\">&amp;:hover</span> <span class=\"selector-class\">.dropdown-menu</span></span><br><span class=\"line\">    <span class=\"attribute\">display</span>: block // 显示菜单</span><br><span class=\"line\">    <span class=\"attribute\">animation</span>: fadeIn <span class=\"number\">0.2s</span> ease // 淡入动画</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 普通下拉菜单项样式</span></span><br><span class=\"line\">  <span class=\"selector-class\">.dropdown-menu</span> <span class=\"selector-tag\">a</span></span><br><span class=\"line\">    <span class=\"attribute\">display</span>: flex // Flex布局</span><br><span class=\"line\">    <span class=\"attribute\">align-items</span>: center // 垂直居中</span><br><span class=\"line\">    <span class=\"attribute\">justify-content</span>: center // 水平居中</span><br><span class=\"line\">    <span class=\"attribute\">padding</span>: <span class=\"number\">10px</span> // 内边距<span class=\"number\">10px</span></span><br><span class=\"line\">    <span class=\"attribute\">text-decoration</span>: none // 无下划线</span><br><span class=\"line\">    <span class=\"attribute\">color</span>: <span class=\"number\">#333</span> // 亮色文字</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 悬停效果（亮色）</span></span><br><span class=\"line\">    <span class=\"selector-pseudo\">&amp;:hover</span></span><br><span class=\"line\">      <span class=\"attribute\">background-color</span>: <span class=\"number\">#ddd</span> // 亮色悬停背景</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 暗色模式适配</span></span><br><span class=\"line\"><span class=\"selector-attr\">[data-theme=<span class=\"string\">&quot;dark&quot;</span>]</span></span><br><span class=\"line\">  <span class=\"comment\">// 更多下拉菜单</span></span><br><span class=\"line\">  <span class=\"selector-class\">.more-dropdown-menu</span></span><br><span class=\"line\">    <span class=\"attribute\">background-color</span>: <span class=\"number\">#2d2d2d</span> // 暗色背景</span><br><span class=\"line\">    <span class=\"attribute\">box-shadow</span>: <span class=\"number\">0</span> <span class=\"number\">2px</span> <span class=\"number\">12px</span> <span class=\"built_in\">rgba</span>(<span class=\"number\">0</span>,<span class=\"number\">0</span>,<span class=\"number\">0</span>,<span class=\"number\">0.3</span>) // 暗色阴影</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 下拉菜单项文字及悬停</span></span><br><span class=\"line\">  <span class=\"selector-class\">.dropdown-item</span></span><br><span class=\"line\">    <span class=\"attribute\">color</span>: <span class=\"number\">#f0f0f0</span> // 暗色文字</span><br><span class=\"line\">    <span class=\"selector-pseudo\">&amp;:hover</span></span><br><span class=\"line\">      <span class=\"attribute\">background-color</span>: <span class=\"number\">#444</span> // 暗色悬停背景</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 普通下拉菜单</span></span><br><span class=\"line\">  <span class=\"selector-class\">.dropdown-menu</span></span><br><span class=\"line\">    <span class=\"attribute\">background-color</span>: <span class=\"number\">#2d2d2d</span> // 暗色背景</span><br><span class=\"line\">    <span class=\"attribute\">box-shadow</span>: <span class=\"number\">0</span> <span class=\"number\">2px</span> <span class=\"number\">12px</span> <span class=\"built_in\">rgba</span>(<span class=\"number\">0</span>,<span class=\"number\">0</span>,<span class=\"number\">0</span>,<span class=\"number\">0.3</span>) // 暗色阴影</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 普通下拉菜单项文字及悬停</span></span><br><span class=\"line\">    <span class=\"selector-tag\">a</span></span><br><span class=\"line\">      <span class=\"attribute\">color</span>: <span class=\"number\">#f0f0f0</span> // 暗色文字</span><br><span class=\"line\">      <span class=\"selector-pseudo\">&amp;:hover</span></span><br><span class=\"line\">        <span class=\"attribute\">background-color</span>: <span class=\"number\">#444</span> // 暗色悬停背景</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 暗色模式滚动条滑块</span></span><br><span class=\"line\">  <span class=\"selector-class\">.more-dropdown-menu</span>::-webkit-scrollbar-thumb,</span><br><span class=\"line\">  <span class=\"selector-class\">.dropdown-menu</span>::-webkit-scrollbar-thumb</span><br><span class=\"line\">    <span class=\"attribute\">background-color</span>: <span class=\"built_in\">rgba</span>(<span class=\"number\">255</span>,<span class=\"number\">255</span>,<span class=\"number\">255</span>,<span class=\"number\">0.2</span>) // 暗色滚动条滑块</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 下拉菜单入场动画</span></span><br><span class=\"line\"><span class=\"keyword\">@keyframes</span> fadeIn</span><br><span class=\"line\">  from</span><br><span class=\"line\">    <span class=\"attribute\">opacity</span>: <span class=\"number\">0</span> // 初始透明度<span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"attribute\">transform</span>: <span class=\"built_in\">translateY</span>(<span class=\"number\">5px</span>) // 初始位置下移<span class=\"number\">5px</span></span><br><span class=\"line\">  to</span><br><span class=\"line\">    <span class=\"attribute\">opacity</span>: <span class=\"number\">1</span> // 结束透明度<span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"attribute\">transform</span>: <span class=\"built_in\">translateY</span>(<span class=\"number\">0</span>) // 恢复位置</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 响应式调整（≤768px）</span></span><br><span class=\"line\"><span class=\"keyword\">@media</span> (<span class=\"attribute\">max-width</span>: <span class=\"number\">768px</span>)</span><br><span class=\"line\">  .menu.mobile-hidden</span><br><span class=\"line\">    display: none // 小屏幕隐藏指定菜单</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure> </div></details></div></div></div>\n<p>步骤四：重启 Hexo 服务</p>\n<p>修改完成后，在终端中执行 <code>hexo clean &amp;&amp; hexo s</code> 命令，清理并重新启动 Hexo 本地服务，然后在浏览器中查看效果，“更多” 处应能正常显示下拉菜单。</p>\n<p>由于搜索栏遮盖了下拉菜单，需要修改下拉菜单支持滚动模式，容器固定3行高度，上移一段距离。</p>\n<p>图标也不能正常显示，凑合用吧。</p>\n<p><img src=\"https://u.sam7.top/Bh3YjH\" alt=\"image-20251018130238736\"></p>\n<h4 id=\"9-3-网站设置\">9.3 网站设置</h4>\n<ul>\n<li>根目录配置文件中，修改以下内容。</li>\n</ul>\n<figure class=\"highlight yaml\"><figcaption><span>根目录配置文件</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">title:</span> <span class=\"comment\">#博客名称</span></span><br><span class=\"line\"><span class=\"attr\">subtitle:</span> <span class=\"string\">&#x27;纸上得来终觉浅,绝知此事需躬行|文本2&#x27;</span> <span class=\"comment\">#鼠标移至副标题区域即可显示文本2内容</span></span><br><span class=\"line\"><span class=\"attr\">description:</span> <span class=\"string\">&#x27;博客描述&#x27;</span></span><br><span class=\"line\"><span class=\"attr\">keywords:</span> [<span class=\"string\">&#x27;&#x27;</span>,<span class=\"string\">&#x27;&#x27;</span>,<span class=\"string\">&#x27;&#x27;</span>,<span class=\"string\">&#x27;&#x27;</span>,<span class=\"string\">&#x27;&#x27;</span>,<span class=\"string\">&#x27;&#x27;</span>] <span class=\"comment\">#关键词，方便搜索引擎抓取</span></span><br><span class=\"line\"><span class=\"attr\">author:</span> <span class=\"string\">Sam</span> <span class=\"comment\">#作者名字</span></span><br><span class=\"line\"><span class=\"attr\">avatar:</span> <span class=\"string\">/path/x.avif</span> <span class=\"comment\">#头像</span></span><br><span class=\"line\"><span class=\"attr\">language:</span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"string\">zh-CN</span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"string\">en</span></span><br><span class=\"line\"><span class=\"attr\">timezone:</span> <span class=\"string\">&#x27;Asia/Shanghai&#x27;</span> <span class=\"comment\">#时区</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<ul>\n<li>\n<p>网站标题艺术字设置</p>\n<ul>\n<li>\n<p>在主题source目录下新建<code>art-title.css</code>,新增以下内容</p>\n<figure class=\"highlight css\"><figcaption><span>art-title.css</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">div</span><span class=\"selector-class\">.main</span> &#123;</span><br><span class=\"line\">  <span class=\"comment\">/* 中英文统一手写字体（保持风格一致） */</span></span><br><span class=\"line\">  <span class=\"attribute\">font-family</span>: <span class=\"string\">&quot;Ma Shan Zheng&quot;</span>, <span class=\"string\">&quot;Pacifico&quot;</span>, cursive <span class=\"meta\">!important</span>;</span><br><span class=\"line\">  <span class=\"attribute\">font-size</span>: <span class=\"number\">36px</span> <span class=\"meta\">!important</span>;</span><br><span class=\"line\">  <span class=\"attribute\">font-weight</span>: normal <span class=\"meta\">!important</span>;</span><br><span class=\"line\">  <span class=\"attribute\">line-height</span>: <span class=\"number\">1.3</span> <span class=\"meta\">!important</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/* 红色到紫色渐变（主色调调整） */</span></span><br><span class=\"line\">  <span class=\"attribute\">background</span>: <span class=\"built_in\">linear-gradient</span>(<span class=\"number\">135deg</span>, <span class=\"number\">#ff6b6b</span>, <span class=\"number\">#4ecdc4</span>, <span class=\"number\">#8e44ad</span>, <span class=\"number\">#f39c12</span>) <span class=\"meta\">!important</span>;</span><br><span class=\"line\">  <span class=\"attribute\">background-size</span>: <span class=\"number\">70%</span> <span class=\"number\">70%</span> <span class=\"meta\">!important</span>; <span class=\"comment\">/* 适配渐变流动动画 */</span></span><br><span class=\"line\">  -webkit-<span class=\"attribute\">background-clip</span>: text <span class=\"meta\">!important</span>;</span><br><span class=\"line\">  <span class=\"attribute\">background-clip</span>: text <span class=\"meta\">!important</span>;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: transparent <span class=\"meta\">!important</span>; <span class=\"comment\">/* 核心：文字透明显示渐变 */</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/* 阴影增强层次感 */</span></span><br><span class=\"line\">  <span class=\"attribute\">text-shadow</span>: <span class=\"number\">0</span> <span class=\"number\">2px</span> <span class=\"number\">5px</span> <span class=\"built_in\">rgba</span>(<span class=\"number\">0</span>,<span class=\"number\">0</span>,<span class=\"number\">0</span>,<span class=\"number\">0.15</span>) <span class=\"meta\">!important</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/* 渐变流动动画 */</span></span><br><span class=\"line\">  <span class=\"attribute\">animation</span>: gradientShift <span class=\"number\">7s</span> ease infinite <span class=\"meta\">!important</span>;</span><br><span class=\"line\">  <span class=\"attribute\">display</span>: inline-block <span class=\"meta\">!important</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* 动画关键帧 */</span></span><br><span class=\"line\"><span class=\"keyword\">@keyframes</span> gradientShift &#123;</span><br><span class=\"line\">  <span class=\"number\">0%</span> &#123; <span class=\"attribute\">background-position</span>: <span class=\"number\">0%</span> <span class=\"number\">50%</span>; &#125;</span><br><span class=\"line\">  <span class=\"number\">50%</span> &#123; <span class=\"attribute\">background-position</span>: <span class=\"number\">100%</span> <span class=\"number\">50%</span>; &#125;</span><br><span class=\"line\">  <span class=\"number\">100%</span> &#123; <span class=\"attribute\">background-position</span>: <span class=\"number\">0%</span> <span class=\"number\">50%</span>; &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* 悬停强化效果 */</span></span><br><span class=\"line\"><span class=\"selector-tag\">div</span><span class=\"selector-class\">.main</span><span class=\"selector-pseudo\">:hover</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">text-shadow</span>: <span class=\"number\">0</span> <span class=\"number\">3px</span> <span class=\"number\">8px</span> <span class=\"built_in\">rgba</span>(<span class=\"number\">0</span>,<span class=\"number\">0</span>,<span class=\"number\">0</span>,<span class=\"number\">0.2</span>) <span class=\"meta\">!important</span>;</span><br><span class=\"line\">  <span class=\"attribute\">transform</span>: <span class=\"built_in\">scale</span>(<span class=\"number\">1.05</span>) <span class=\"meta\">!important</span>;</span><br><span class=\"line\">  <span class=\"attribute\">transition</span>: all <span class=\"number\">0.3s</span> ease <span class=\"meta\">!important</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>然后在根目录配置文件增加以下内容，将中英文手写字体和art-title.CSS引入head标签内。</p>\n</li>\n</ul>\n</li>\n</ul>\n<figure class=\"highlight yaml\"><figcaption><span>根目录配置文件</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">inject:</span></span><br><span class=\"line\">  <span class=\"attr\">head:</span></span><br><span class=\"line\">  \t<span class=\"bullet\">-</span> <span class=\"string\">&lt;link</span> <span class=\"string\">rel=&quot;stylesheet&quot;</span> <span class=\"string\">href=&quot;/art-title.css&quot;&gt;</span>  <span class=\"comment\"># 自定义艺术字样式引入</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"string\">&lt;link</span> <span class=\"string\">rel=&quot;stylesheet&quot;</span> <span class=\"string\">href=&quot;https://fonts.loli.net/css2?family=Ma+Shan+Zheng&amp;family=Pacifico&amp;display=swap&quot;&gt;</span> <span class=\"comment\">#引入Pacifico字体 中英文手写</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"9-4-网页小图标\">9.4 网页小图标</h4>\n<ul>\n<li>\n<p>让豆包生成一个logo图标，修改为成128x128px，像素小加载快。</p>\n<p><img src=\"https://u.sam7.top/6QcmtF\" alt=\"创建极简线条风标识\"></p>\n</li>\n<li>\n<p>然后在根目录配置文件增加以下内容，将Favicon图标引入head标签内。</p>\n<figure class=\"highlight yaml\"><figcaption><span>根目录配置文件</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">inject:</span></span><br><span class=\"line\">  <span class=\"attr\">head:</span></span><br><span class=\"line\">  \t<span class=\"bullet\">-</span> <span class=\"string\">&lt;link</span> <span class=\"string\">rel=&quot;icon&quot;</span> <span class=\"string\">href=&quot;https://u.sam7.top/6QcmtF&quot;</span> <span class=\"string\">type=&quot;image/avif&quot;&gt;</span>  <span class=\"comment\"># Favicon图标引入</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>效果展示</p>\n<img src=\"https://u.sam7.top/XrwW8K\" alt=\"效果展示\" style=\"zoom:200%;\" />\n</li>\n</ul>\n<h3 id=\"10-顶部导航栏显示异常\">10. 顶部导航栏显示异常</h3>\n<p>浏览器设置浅色模式，主题切换为深色，顶部导航栏字体看起来比较奇怪，navbra.styl修改，<code>.navbar-blur</code>取消模糊效果。</p>\n<p><img src=\"https://u.sam7.top/pGMf3Y\" alt=\"image-20251018130314321\"></p>\n<figure class=\"highlight stylus\"><figcaption><span>navbar.styl</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 顶栏容器样式（替代newblur()的背景）</span></span><br><span class=\"line\"><span class=\"selector-class\">.navbar-blur</span> </span><br><span class=\"line\">  <span class=\"attribute\">margin</span>: <span class=\"number\">0</span> <span class=\"number\">1rem</span></span><br><span class=\"line\">  <span class=\"attribute\">border-radius</span>: <span class=\"number\">64px</span></span><br><span class=\"line\">  <span class=\"attribute\">position</span>: relative</span><br><span class=\"line\">  <span class=\"comment\">// 新增背景样式：使用主题卡片色+轻微透明度，不依赖模糊</span></span><br><span class=\"line\">  <span class=\"attribute\">background</span>: <span class=\"built_in\">var</span>(--card, <span class=\"built_in\">rgba</span>(<span class=\"number\">255</span>, <span class=\"number\">255</span>, <span class=\"number\">255</span>, <span class=\"number\">0.9</span>))  // 主背景（优先用主题变量）</span><br><span class=\"line\">  <span class=\"attribute\">border</span>: <span class=\"built_in\">var</span>(--card-border, <span class=\"number\">1px</span> solid <span class=\"built_in\">rgba</span>(<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0.05</span>))  // 边框（可选，增强轮廓）</span><br><span class=\"line\">  <span class=\"attribute\">box-shadow</span>: <span class=\"number\">0</span> <span class=\"number\">1px</span> <span class=\"number\">3px</span> <span class=\"built_in\">rgba</span>(<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0.05</span>)  // 轻微阴影，区分层级</span><br><span class=\"line\">  <span class=\"comment\">// 如需半透明效果可调整alpha值，如：background: rgba(255, 255, 255, 0.85)</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"11-页面布局调整\">11. 页面布局调整</h3>\n<ul>\n<li>在主题样式<code>custom.styl</code>中添加<code>$leftbar-bottom-margin = 20px）</code>,调整主内容界面宽度为1080px，侧边栏宽度最大为277px，元素内部和外部距离都调整为15px。</li>\n</ul>\n<figure class=\"highlight stylus\"><figcaption><span>custom.styl</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable\">$leftbar</span>-<span class=\"attribute\">bottom</span>-margin = <span class=\"number\">20px</span>  // 左侧栏底部距离（根据需求调整，单位px/rem）</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 可以动态变化的属性</span></span><br><span class=\"line\"><span class=\"selector-pseudo\">:root</span></span><br><span class=\"line\">  <span class=\"attr\">--width-main</span>: <span class=\"number\">1080px</span> <span class=\"comment\">// 主内容区域宽度（默认1080px）</span></span><br><span class=\"line\">  <span class=\"attr\">--fsp</span>: <span class=\"variable\">$fs</span>-<span class=\"selector-tag\">body</span> <span class=\"comment\">// 段落字体大小（关联正文基础大小）</span></span><br><span class=\"line\">  <span class=\"attr\">--fsh2</span>: <span class=\"string\">&#x27;calc(%s + 11px)&#x27;</span> % <span class=\"selector-tag\">var</span>(<span class=\"attr\">--fsp</span>) <span class=\"comment\">// h2标题大小（基于段落字体动态计算）</span></span><br><span class=\"line\">  <span class=\"attr\">--fsh3</span>: <span class=\"string\">&#x27;calc(%s + 7px)&#x27;</span> % <span class=\"selector-tag\">var</span>(<span class=\"attr\">--fsp</span>) <span class=\"comment\">// h3标题大小（基于段落字体动态计算）</span></span><br><span class=\"line\">  <span class=\"attr\">--fsh4</span>: <span class=\"string\">&#x27;calc(%s + 4px)&#x27;</span> % <span class=\"selector-tag\">var</span>(<span class=\"attr\">--fsp</span>) <span class=\"comment\">// h4标题大小（基于段落字体动态计算）</span></span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"attr\">--side-content-width</span>: <span class=\"number\">255px</span> <span class=\"comment\">// 侧边栏内容宽度（默认255px）</span></span><br><span class=\"line\">  <span class=\"attr\">--gap-margin</span>: <span class=\"number\">11px</span> <span class=\"comment\">// 元素外部间距（元素间距离）</span></span><br><span class=\"line\">  <span class=\"attr\">--gap-padding</span>: <span class=\"number\">11px</span> <span class=\"comment\">// 元素内部间距（内容到边框距离）</span></span><br></pre></td></tr></table></figure>\n<ul>\n<li>同时还需要在layout.styl中添加如下内容，高度随内容自适应，且底部有适度留白，兼顾功能和美观。</li>\n</ul>\n<figure class=\"highlight stylus\"><figcaption><span>layout.styl</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 普通屏幕布局</span></span><br><span class=\"line\"><span class=\"selector-class\">.l_body</span> <span class=\"selector-class\">.l_left</span></span><br><span class=\"line\">  <span class=\"attribute\">margin-bottom</span>: <span class=\"number\">16px</span>; <span class=\"comment\">// 只保留少量底部留白（数值按需调整）</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 手机端布局</span></span><br><span class=\"line\"><span class=\"keyword\">@media</span> screen <span class=\"keyword\">and</span> (<span class=\"attribute\">max-width</span>: $device-mobile-max)</span><br><span class=\"line\">  .l_body</span><br><span class=\"line\">    .l_left</span><br><span class=\"line\">      padding-bottom: <span class=\"number\">8px</span>; <span class=\"comment\">// 少量底部内边距（按需调整）</span></span><br></pre></td></tr></table></figure>\n<ul>\n<li>调整后页面整体效果如下</li>\n</ul>\n<img src=\"https://u.sam7.top/ZdpH23\" alt=\"image-20251018132921523\" style=\"zoom: 67%;\" />\n<h3 id=\"12-添加音乐播放器\">12. 添加音乐播放器</h3>\n<p>参考 <a href=\"https://blog.bxzdyg.cn/p/stellar-aplayer-metingjs/\">stellar主题使用meetingjs接入aplayer音乐播放器 - BoBoBlog</a></p>\n<p>首先需要安装音乐播放器插件<code>npm install --save hexo-tag-aplayer</code>,在根目录主题配置文件里面添加以下内容，开启metingjs。</p>\n<figure class=\"highlight yaml\"><figcaption><span>_config.yaml</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">aplayer:</span></span><br><span class=\"line\">  <span class=\"comment\"># 示例配置</span></span><br><span class=\"line\">  <span class=\"attr\">cdn:</span> <span class=\"string\">https://cdn.jsdelivr.net/npm/aplayer@latest/dist/APlayer.min.js</span></span><br><span class=\"line\">  <span class=\"attr\">style_cdn:</span> <span class=\"string\">https://cdn.jsdelivr.net/npm/aplayer@latest/dist/APlayer.min.css</span></span><br><span class=\"line\">  <span class=\"attr\">meting:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">  <span class=\"attr\">meting_cdn:</span> <span class=\"string\">https://cdn.jsdelivr.net/npm/meting@1/dist/Meting.min.js</span></span><br></pre></td></tr></table></figure>\n<p>在想要添加音乐播放器的位置添加以下代码块，这是一个md格式的网易云歌单，有时候会和toc有冲突，无法实现跳转。</p>\n<figure class=\"highlight markdown\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;% meting &quot;14222331844&quot; &quot;netease&quot; &quot;playlist&quot; &quot;autoplay&quot;  &quot;mutex:true&quot; &quot;listmaxheight:340px&quot; &quot;lrctype:0&quot; &quot;preload:none&quot; &quot;theme:#1cd0fd&quot; &quot;storagename:metingjs&quot;%&#125; </span><br></pre></td></tr></table></figure>\n<p><img src=\"https://u.sam7.top/MKB4bw\" alt=\"image-20251018130415394\"></p>\n<p>修改主题样式文件<code>aplayer.styl</code>，修改播放器参数，播放器颜色跟随系统主题。</p>\n<details class=\"tag-plugin colorful folding\" ><summary><p>查看代码</p>\n</summary><div class=\"body\"><figure class=\"highlight stylus\"><figcaption><span>aplayer.styl</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br><span class=\"line\">184</span><br><span class=\"line\">185</span><br><span class=\"line\">186</span><br><span class=\"line\">187</span><br><span class=\"line\">188</span><br><span class=\"line\">189</span><br><span class=\"line\">190</span><br><span class=\"line\">191</span><br><span class=\"line\">192</span><br><span class=\"line\">193</span><br><span class=\"line\">194</span><br><span class=\"line\">195</span><br><span class=\"line\">196</span><br><span class=\"line\">197</span><br><span class=\"line\">198</span><br><span class=\"line\">199</span><br><span class=\"line\">200</span><br><span class=\"line\">201</span><br><span class=\"line\">202</span><br><span class=\"line\">203</span><br><span class=\"line\">204</span><br><span class=\"line\">205</span><br><span class=\"line\">206</span><br><span class=\"line\">207</span><br><span class=\"line\">208</span><br><span class=\"line\">209</span><br><span class=\"line\">210</span><br><span class=\"line\">211</span><br><span class=\"line\">212</span><br><span class=\"line\">213</span><br><span class=\"line\">214</span><br><span class=\"line\">215</span><br><span class=\"line\">216</span><br><span class=\"line\">217</span><br><span class=\"line\">218</span><br><span class=\"line\">219</span><br><span class=\"line\">220</span><br><span class=\"line\">221</span><br><span class=\"line\">222</span><br><span class=\"line\">223</span><br><span class=\"line\">224</span><br><span class=\"line\">225</span><br><span class=\"line\">226</span><br><span class=\"line\">227</span><br><span class=\"line\">228</span><br><span class=\"line\">229</span><br><span class=\"line\">230</span><br><span class=\"line\">231</span><br><span class=\"line\">232</span><br><span class=\"line\">233</span><br><span class=\"line\">234</span><br><span class=\"line\">235</span><br><span class=\"line\">236</span><br><span class=\"line\">237</span><br><span class=\"line\">238</span><br><span class=\"line\">239</span><br><span class=\"line\">240</span><br><span class=\"line\">241</span><br><span class=\"line\">242</span><br><span class=\"line\">243</span><br><span class=\"line\">244</span><br><span class=\"line\">245</span><br><span class=\"line\">246</span><br><span class=\"line\">247</span><br><span class=\"line\">248</span><br><span class=\"line\">249</span><br><span class=\"line\">250</span><br><span class=\"line\">251</span><br><span class=\"line\">252</span><br><span class=\"line\">253</span><br><span class=\"line\">254</span><br><span class=\"line\">255</span><br><span class=\"line\">256</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-class\">.md-text</span></span><br><span class=\"line\">  <span class=\"selector-class\">.aplayer</span></span><br><span class=\"line\">    <span class=\"attribute\">border-radius</span>: <span class=\"variable\">$border</span>-card</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* aplayer-theme.css - 支持手动和系统主题切换的Aplayer样式 */</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* ===== CSS变量定义 ===== */</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* 默认亮色主题变量 */</span></span><br><span class=\"line\"><span class=\"selector-pseudo\">:root</span> &#123;</span><br><span class=\"line\">  <span class=\"attr\">--aplayer-bg</span>: <span class=\"number\">#ffffff</span>; <span class=\"comment\">/* 播放器主背景色 */</span></span><br><span class=\"line\">  <span class=\"attr\">--aplayer-toolbar-bg</span>: <span class=\"number\">#f8f9fa</span>; <span class=\"comment\">/* 工具栏/控制器背景色 */</span></span><br><span class=\"line\">  <span class=\"attr\">--aplayer-text</span>: <span class=\"number\">#373737</span>; <span class=\"comment\">/* 主要文字颜色 */</span></span><br><span class=\"line\">  <span class=\"attr\">--aplayer-border</span>: <span class=\"number\">#e9e9e9</span>; <span class=\"comment\">/* 边框颜色 */</span></span><br><span class=\"line\">  <span class=\"attr\">--aplayer-hover-bg</span>: <span class=\"number\">#efefef</span>; <span class=\"comment\">/* 鼠标悬停背景色 */</span></span><br><span class=\"line\">  <span class=\"attr\">--aplayer-hover-text</span>: <span class=\"number\">#ff5722</span>; <span class=\"comment\">/* 鼠标悬停文字颜色 */</span></span><br><span class=\"line\">  <span class=\"attr\">--aplayer-active-bg</span>: <span class=\"number\">#e9ecef</span>; <span class=\"comment\">/* 当前选中项背景色（比普通背景更深） */</span></span><br><span class=\"line\">  <span class=\"attr\">--aplayer-active-text</span>: <span class=\"number\">#2c2c2c</span>; <span class=\"comment\">/* 当前选中项文字颜色（亮色主题下保持深色） */</span></span><br><span class=\"line\">  <span class=\"attr\">--aplayer-list-item-height</span>: <span class=\"number\">32px</span>; <span class=\"comment\">/* 列表项高度 */</span></span><br><span class=\"line\">  <span class=\"attr\">--aplayer-list-item-padding</span>: <span class=\"number\">0</span> <span class=\"number\">15px</span>; <span class=\"comment\">/* 列表项内边距 */</span></span><br><span class=\"line\">  <span class=\"attr\">--aplayer-list-item-font-size</span>: <span class=\"number\">12px</span>; <span class=\"comment\">/* 列表项字体大小 */</span></span><br><span class=\"line\">  <span class=\"attr\">--aplayer-list-light-font-size</span>: small; <span class=\"comment\">/* 当前选中项字体大小 */</span></span><br><span class=\"line\">  <span class=\"attr\">--aplayer-list-light-font-weight</span>: bold; <span class=\"comment\">/* 当前选中项字体粗细 */</span></span><br><span class=\"line\">  <span class=\"attr\">--aplayer-hover-font-size</span>: small; <span class=\"comment\">/* 悬停时字体大小 */</span></span><br><span class=\"line\">  <span class=\"attr\">--aplayer-hover-font-weight</span>: bold; <span class=\"comment\">/* 悬停时字体粗细 */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* 暗色主题变量 - 通过[data-theme=&quot;dark&quot;]属性应用 */</span></span><br><span class=\"line\"><span class=\"selector-attr\">[data-theme=<span class=\"string\">&quot;dark&quot;</span>]</span> &#123;</span><br><span class=\"line\">  <span class=\"attr\">--aplayer-bg</span>: <span class=\"number\">#1e1e1e</span>; <span class=\"comment\">/* 播放器主背景色 */</span></span><br><span class=\"line\">  <span class=\"attr\">--aplayer-toolbar-bg</span>: <span class=\"number\">#1e1e1e</span>; <span class=\"comment\">/* 工具栏/控制器背景色 */</span></span><br><span class=\"line\">  <span class=\"attr\">--aplayer-text</span>: <span class=\"number\">#ffffffff</span>; <span class=\"comment\">/* 主要文字颜色 */</span></span><br><span class=\"line\">  <span class=\"attr\">--aplayer-border</span>: <span class=\"number\">#383d42</span>; <span class=\"comment\">/* 边框颜色 */</span></span><br><span class=\"line\">  <span class=\"attr\">--aplayer-hover-bg</span>: <span class=\"number\">#3d3d3d</span>; <span class=\"comment\">/* 鼠标悬停背景色 */</span></span><br><span class=\"line\">  <span class=\"attr\">--aplayer-hover-text</span>: <span class=\"number\">#ff5722</span>; <span class=\"comment\">/* 鼠标悬停文字颜色 */</span></span><br><span class=\"line\">  <span class=\"attr\">--aplayer-active-bg</span>: <span class=\"number\">#4a4a4a</span>; <span class=\"comment\">/* 当前选中项背景色（比普通背景更深） */</span></span><br><span class=\"line\">  <span class=\"attr\">--aplayer-active-text</span>: <span class=\"number\">#01686dff</span>; <span class=\"comment\">/* 当前选中项文字颜色（暗色主题下使用更亮的白色，提高对比度） */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* 系统主题检测作为备用方案 - 当没有手动设置主题时生效 */</span></span><br><span class=\"line\"><span class=\"keyword\">@media</span> (<span class=\"attribute\">prefers-color-scheme</span>: dark) &#123;</span><br><span class=\"line\">  <span class=\"selector-pseudo\">:root</span><span class=\"selector-pseudo\">:not</span>(<span class=\"selector-attr\">[data-theme]</span>) &#123; <span class=\"comment\">/* 选择没有设置data-theme属性的根元素 */</span></span><br><span class=\"line\">    <span class=\"attr\">--aplayer-bg</span>: <span class=\"number\">#1e1e1e</span>; <span class=\"comment\">/* 播放器主背景色 */</span></span><br><span class=\"line\">    <span class=\"attr\">--aplayer-toolbar-bg</span>: <span class=\"number\">#1e1e1e</span>; <span class=\"comment\">/* 工具栏/控制器背景色 */</span></span><br><span class=\"line\">    <span class=\"attr\">--aplayer-text</span>: <span class=\"number\">#ffffffff</span>; <span class=\"comment\">/* 主要文字颜色 */</span></span><br><span class=\"line\">    <span class=\"attr\">--aplayer-border</span>: <span class=\"number\">#383d42</span>; <span class=\"comment\">/* 边框颜色 */</span></span><br><span class=\"line\">    <span class=\"attr\">--aplayer-hover-bg</span>: <span class=\"number\">#3d3d3d</span>; <span class=\"comment\">/* 鼠标悬停背景色 */</span></span><br><span class=\"line\">    <span class=\"attr\">--aplayer-hover-text</span>: <span class=\"number\">#ff5722</span>; <span class=\"comment\">/* 鼠标悬停文字颜色 */</span></span><br><span class=\"line\">    <span class=\"attr\">--aplayer-active-bg</span>: <span class=\"number\">#4a4a4a</span>; <span class=\"comment\">/* 当前选中项背景色（比普通背景更深） */</span></span><br><span class=\"line\">    <span class=\"attr\">--aplayer-active-text</span>: <span class=\"number\">#01686dff</span>; <span class=\"comment\">/* 当前选中项文字颜色（暗色主题下使用更亮的白色，提高对比度） */</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* ===== Aplayer整体样式 ===== */</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.aplayer</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">background</span>: <span class=\"built_in\">var</span>(--aplayer-bg); <span class=\"comment\">/* 背景色使用CSS变量 */</span></span><br><span class=\"line\">  <span class=\"attribute\">color</span>: <span class=\"built_in\">var</span>(--aplayer-text); <span class=\"comment\">/* 文字颜色使用CSS变量 */</span></span><br><span class=\"line\">  <span class=\"attribute\">font-family</span>: -apple-system, BlinkMacSystemFont, <span class=\"string\">&quot;Segoe UI&quot;</span>, Roboto, Oxygen, Ubuntu, Cantarell, <span class=\"string\">&quot;Open Sans&quot;</span>, <span class=\"string\">&quot;Helvetica Neue&quot;</span>, sans-serif; <span class=\"comment\">/* 字体族设置 */</span></span><br><span class=\"line\">  <span class=\"attribute\">border-radius</span>: <span class=\"number\">6px</span>; <span class=\"comment\">/* 圆角边框 */</span></span><br><span class=\"line\">  <span class=\"attribute\">box-shadow</span>: <span class=\"number\">0</span> <span class=\"number\">2px</span> <span class=\"number\">10px</span> <span class=\"built_in\">rgba</span>(<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0.1</span>); <span class=\"comment\">/* 阴影效果 */</span></span><br><span class=\"line\">  <span class=\"attribute\">transition</span>: all <span class=\"number\">0.3s</span> ease; <span class=\"comment\">/* 过渡动画效果 */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* ===== 工具栏/控制器区域样式 ===== */</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.aplayer</span> <span class=\"selector-class\">.aplayer-info</span>,</span><br><span class=\"line\"><span class=\"selector-class\">.aplayer</span> <span class=\"selector-class\">.aplayer-controller</span>,</span><br><span class=\"line\"><span class=\"selector-class\">.aplayer</span> <span class=\"selector-class\">.aplayer-body</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">background</span>: <span class=\"built_in\">var</span>(--aplayer-toolbar-bg); <span class=\"comment\">/* 使用工具栏专用背景色 */</span></span><br><span class=\"line\">  <span class=\"attribute\">transition</span>: background-color <span class=\"number\">0.3s</span> ease; <span class=\"comment\">/* 背景色过渡效果 */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.aplayer</span> <span class=\"selector-class\">.aplayer-info</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">border-bottom</span>: <span class=\"number\">1px</span> solid <span class=\"built_in\">var</span>(--aplayer-border); <span class=\"comment\">/* 底部边框 */</span></span><br><span class=\"line\">  <span class=\"attribute\">padding</span>: <span class=\"number\">12px</span> <span class=\"number\">15px</span>; <span class=\"comment\">/* 内边距 */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.aplayer</span> <span class=\"selector-class\">.aplayer-info</span> <span class=\"selector-class\">.aplayer-music</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: <span class=\"built_in\">var</span>(--aplayer-text); <span class=\"comment\">/* 文字颜色 */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.aplayer</span> <span class=\"selector-class\">.aplayer-info</span> <span class=\"selector-class\">.aplayer-music</span> <span class=\"selector-class\">.aplayer-title</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: <span class=\"built_in\">var</span>(--aplayer-active-text); <span class=\"comment\">/* 使用更突出的颜色 */</span></span><br><span class=\"line\">  <span class=\"attribute\">font-weight</span>: bold; <span class=\"comment\">/* 字体加粗 */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.aplayer</span> <span class=\"selector-class\">.aplayer-controller</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">border-top</span>: <span class=\"number\">1px</span> solid <span class=\"built_in\">var</span>(--aplayer-border); <span class=\"comment\">/* 顶部边框 */</span></span><br><span class=\"line\">  <span class=\"attribute\">padding</span>: <span class=\"number\">8px</span> <span class=\"number\">15px</span>; <span class=\"comment\">/* 内边距 */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* ===== 进度条样式 ===== */</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.aplayer</span> <span class=\"selector-class\">.aplayer-bar</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">background</span>: <span class=\"built_in\">var</span>(--aplayer-border); <span class=\"comment\">/* 轨道背景色 */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.aplayer</span> <span class=\"selector-class\">.aplayer-loaded</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">background</span>: <span class=\"built_in\">var</span>(--aplayer-hover-bg); <span class=\"comment\">/* 已加载部分背景色 */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.aplayer</span> <span class=\"selector-class\">.aplayer-played</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">background</span>: <span class=\"built_in\">var</span>(--aplayer-hover-text); <span class=\"comment\">/* 已播放部分背景色 */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.aplayer</span> <span class=\"selector-class\">.aplayer-thumb</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">background</span>: <span class=\"built_in\">var</span>(--aplayer-hover-text); <span class=\"comment\">/* 拖拽点背景色 */</span></span><br><span class=\"line\">  <span class=\"attribute\">box-shadow</span>: <span class=\"number\">0</span> <span class=\"number\">0</span> <span class=\"number\">5px</span> <span class=\"built_in\">rgba</span>(<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0.2</span>); <span class=\"comment\">/* 拖拽点阴影 */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* ===== 时间显示样式 ===== */</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.aplayer</span> <span class=\"selector-class\">.aplayer-time</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: <span class=\"built_in\">var</span>(--aplayer-text); <span class=\"comment\">/* 时间文字颜色 */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* ===== 音量控制样式 ===== */</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.aplayer</span> <span class=\"selector-class\">.aplayer-volume-wrap</span> <span class=\"selector-class\">.aplayer-volume-bar</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">background</span>: <span class=\"built_in\">var</span>(--aplayer-border); <span class=\"comment\">/* 音量轨道背景色 */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.aplayer</span> <span class=\"selector-class\">.aplayer-volume-wrap</span> <span class=\"selector-class\">.aplayer-volume</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">background</span>: <span class=\"built_in\">var</span>(--aplayer-hover-text); <span class=\"comment\">/* 音量滑块背景色 */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* ===== 播放列表样式 ===== */</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.aplayer</span> <span class=\"selector-class\">.aplayer-list</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">border-top</span>: <span class=\"number\">1px</span> solid <span class=\"built_in\">var</span>(--aplayer-border); <span class=\"comment\">/* 顶部边框 */</span></span><br><span class=\"line\">  <span class=\"attribute\">max-height</span>: <span class=\"number\">300px</span>; <span class=\"comment\">/* 最大高度限制 */</span></span><br><span class=\"line\">  <span class=\"attribute\">overflow-y</span>: auto; <span class=\"comment\">/* 垂直方向溢出时显示滚动条 */</span></span><br><span class=\"line\">  <span class=\"attribute\">background</span>: <span class=\"built_in\">var</span>(--aplayer-bg); <span class=\"comment\">/* 列表背景色 */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.aplayer</span> <span class=\"selector-class\">.aplayer-list</span> <span class=\"selector-tag\">ol</span> <span class=\"selector-tag\">li</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">position</span>: relative; <span class=\"comment\">/* 相对定位 */</span></span><br><span class=\"line\">  <span class=\"attribute\">height</span>: <span class=\"built_in\">var</span>(--aplayer-list-item-height); <span class=\"comment\">/* 固定高度 */</span></span><br><span class=\"line\">  <span class=\"attribute\">line-height</span>: <span class=\"built_in\">var</span>(--aplayer-list-item-height); <span class=\"comment\">/* 行高等于高度，实现垂直居中 */</span></span><br><span class=\"line\">  <span class=\"attribute\">padding</span>: <span class=\"built_in\">var</span>(--aplayer-list-item-padding); <span class=\"comment\">/* 内边距 */</span></span><br><span class=\"line\">  <span class=\"attribute\">font-size</span>: <span class=\"built_in\">var</span>(--aplayer-list-item-font-size); <span class=\"comment\">/* 字体大小 */</span></span><br><span class=\"line\">  <span class=\"attribute\">border-top</span>: <span class=\"number\">1px</span> solid <span class=\"built_in\">var</span>(--aplayer-border); <span class=\"comment\">/* 顶部边框 */</span></span><br><span class=\"line\">  <span class=\"attribute\">cursor</span>: pointer; <span class=\"comment\">/* 鼠标指针样式 */</span></span><br><span class=\"line\">  <span class=\"attribute\">transition</span>: all <span class=\"number\">0.2s</span> ease; <span class=\"comment\">/* 过渡动画效果 */</span></span><br><span class=\"line\">  <span class=\"attribute\">overflow</span>: hidden; <span class=\"comment\">/* 隐藏溢出内容 */</span></span><br><span class=\"line\">  <span class=\"attribute\">margin</span>: <span class=\"number\">0</span>; <span class=\"comment\">/* 外边距归零 */</span></span><br><span class=\"line\">  <span class=\"attribute\">color</span>: <span class=\"built_in\">var</span>(--aplayer-text); <span class=\"comment\">/* 文字颜色 */</span></span><br><span class=\"line\">  <span class=\"attribute\">background-color</span>: <span class=\"built_in\">var</span>(--aplayer-bg); <span class=\"comment\">/* 背景色 */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.aplayer</span> <span class=\"selector-class\">.aplayer-list</span> <span class=\"selector-tag\">ol</span> <span class=\"selector-tag\">li</span><span class=\"selector-pseudo\">:first-child</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">border-top</span>: none; <span class=\"comment\">/* 无边框 */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.aplayer</span> <span class=\"selector-class\">.aplayer-list</span> <span class=\"selector-tag\">ol</span> <span class=\"selector-tag\">li</span><span class=\"selector-class\">.aplayer-list-light</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">background</span>: <span class=\"built_in\">var</span>(--aplayer-active-bg); <span class=\"comment\">/* 使用更深的背景色突出显示 */</span></span><br><span class=\"line\">  <span class=\"attribute\">color</span>: <span class=\"built_in\">var</span>(--aplayer-active-text); <span class=\"comment\">/* 文字颜色使用更亮的白色，提高对比度 */</span></span><br><span class=\"line\">  <span class=\"attribute\">font-size</span>: <span class=\"built_in\">var</span>(--aplayer-list-light-font-size); <span class=\"comment\">/* 字体大小 */</span></span><br><span class=\"line\">  <span class=\"attribute\">font-weight</span>: <span class=\"built_in\">var</span>(--aplayer-list-light-font-weight); <span class=\"comment\">/* 字体粗细 */</span></span><br><span class=\"line\">  <span class=\"attribute\">position</span>: relative; <span class=\"comment\">/* 相对定位 */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.aplayer</span> <span class=\"selector-class\">.aplayer-list</span> <span class=\"selector-tag\">ol</span> <span class=\"selector-tag\">li</span><span class=\"selector-class\">.aplayer-list-light</span><span class=\"selector-pseudo\">::before</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">content</span>: <span class=\"string\">&#x27;&#x27;</span>; <span class=\"comment\">/* 伪元素内容为空 */</span></span><br><span class=\"line\">  <span class=\"attribute\">position</span>: absolute; <span class=\"comment\">/* 绝对定位 */</span></span><br><span class=\"line\">  <span class=\"attribute\">left</span>: <span class=\"number\">0</span>; <span class=\"comment\">/* 左侧对齐 */</span></span><br><span class=\"line\">  <span class=\"attribute\">top</span>: <span class=\"number\">0</span>; <span class=\"comment\">/* 顶部对齐 */</span></span><br><span class=\"line\">  <span class=\"attribute\">height</span>: <span class=\"number\">100%</span>; <span class=\"comment\">/* 高度100% */</span></span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">3px</span>; <span class=\"comment\">/* 宽度3像素 */</span></span><br><span class=\"line\">  <span class=\"attribute\">background</span>: <span class=\"built_in\">var</span>(--aplayer-hover-text); <span class=\"comment\">/* 指示条颜色 */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.aplayer</span> <span class=\"selector-class\">.aplayer-list</span> <span class=\"selector-tag\">ol</span> <span class=\"selector-tag\">li</span><span class=\"selector-pseudo\">:hover</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">background</span>: <span class=\"built_in\">var</span>(--aplayer-hover-bg); <span class=\"comment\">/* 悬停背景色 */</span></span><br><span class=\"line\">  <span class=\"attribute\">color</span>: <span class=\"built_in\">var</span>(--aplayer-hover-text); <span class=\"comment\">/* 悬停文字颜色 */</span></span><br><span class=\"line\">  <span class=\"attribute\">font-size</span>: <span class=\"built_in\">var</span>(--aplayer-hover-font-size); <span class=\"comment\">/* 悬停时字体大小 */</span></span><br><span class=\"line\">  <span class=\"attribute\">font-weight</span>: <span class=\"built_in\">var</span>(--aplayer-hover-font-weight); <span class=\"comment\">/* 悬停时字体粗细 */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* ===== 滚动条样式 ===== */</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.aplayer</span> <span class=\"selector-class\">.aplayer-list</span>::-webkit-scrollbar &#123;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">6px</span>; <span class=\"comment\">/* 滚动条宽度 */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.aplayer</span> <span class=\"selector-class\">.aplayer-list</span>::-webkit-scrollbar-track &#123;</span><br><span class=\"line\">  <span class=\"attribute\">background</span>: <span class=\"built_in\">var</span>(--aplayer-bg); <span class=\"comment\">/* 轨道背景色 */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.aplayer</span> <span class=\"selector-class\">.aplayer-list</span>::-webkit-scrollbar-thumb &#123;</span><br><span class=\"line\">  <span class=\"attribute\">background</span>: <span class=\"built_in\">var</span>(--aplayer-border); <span class=\"comment\">/* 滑块背景色 */</span></span><br><span class=\"line\">  <span class=\"attribute\">border-radius</span>: <span class=\"number\">3px</span>; <span class=\"comment\">/* 滑块圆角 */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.aplayer</span> <span class=\"selector-class\">.aplayer-list</span>::-webkit-scrollbar-thumb<span class=\"selector-pseudo\">:hover</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">background</span>: <span class=\"built_in\">var</span>(--aplayer-hover-text); <span class=\"comment\">/* 悬停时滑块背景色 */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* ===== 播放按钮样式 ===== */</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.aplayer</span> <span class=\"selector-class\">.aplayer-play</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">22px</span>; <span class=\"comment\">/* 宽度 */</span></span><br><span class=\"line\">  <span class=\"attribute\">height</span>: <span class=\"number\">22px</span>; <span class=\"comment\">/* 高度 */</span></span><br><span class=\"line\">  <span class=\"attribute\">border</span>: <span class=\"number\">1px</span> solid <span class=\"built_in\">var</span>(--aplayer-border); <span class=\"comment\">/* 边框 */</span></span><br><span class=\"line\">  <span class=\"attribute\">border-radius</span>: <span class=\"number\">50%</span>; <span class=\"comment\">/* 圆形边框 */</span></span><br><span class=\"line\">  <span class=\"attribute\">display</span>: flex; <span class=\"comment\">/* 弹性布局 */</span></span><br><span class=\"line\">  <span class=\"attribute\">align-items</span>: center; <span class=\"comment\">/* 垂直居中 */</span></span><br><span class=\"line\">  <span class=\"attribute\">justify-content</span>: center; <span class=\"comment\">/* 水平居中 */</span></span><br><span class=\"line\">  <span class=\"attribute\">transition</span>: all <span class=\"number\">0.2s</span> ease; <span class=\"comment\">/* 过渡动画 */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.aplayer</span> <span class=\"selector-class\">.aplayer-play</span><span class=\"selector-pseudo\">:hover</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">border-color</span>: <span class=\"built_in\">var</span>(--aplayer-hover-text); <span class=\"comment\">/* 悬停时边框颜色 */</span></span><br><span class=\"line\">  <span class=\"attribute\">background</span>: <span class=\"built_in\">var</span>(--aplayer-hover-bg); <span class=\"comment\">/* 悬停时背景色 */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* ===== 歌词面板样式 ===== */</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.aplayer</span> <span class=\"selector-class\">.aplayer-lrc</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">background</span>: <span class=\"built_in\">var</span>(--aplayer-toolbar-bg); <span class=\"comment\">/* 背景色 */</span></span><br><span class=\"line\">  <span class=\"attribute\">border-top</span>: <span class=\"number\">1px</span> solid <span class=\"built_in\">var</span>(--aplayer-border); <span class=\"comment\">/* 顶部边框 */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.aplayer</span> <span class=\"selector-class\">.aplayer-lrc</span> <span class=\"selector-class\">.aplayer-lrc-current</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: <span class=\"built_in\">var</span>(--aplayer-active-text); <span class=\"comment\">/* 当前歌词文字颜色使用更亮的颜色 */</span></span><br><span class=\"line\">  <span class=\"attribute\">font-weight</span>: bold; <span class=\"comment\">/* 字体加粗 */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* ===== 迷你模式样式 ===== */</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.aplayer</span><span class=\"selector-class\">.aplayer-mini</span> <span class=\"selector-class\">.aplayer-body</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">background</span>: <span class=\"built_in\">var</span>(--aplayer-toolbar-bg); <span class=\"comment\">/* 背景色 */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.aplayer</span><span class=\"selector-class\">.aplayer-mini</span> <span class=\"selector-class\">.aplayer-info</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">background</span>: transparent; <span class=\"comment\">/* 透明背景 */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.aplayer</span><span class=\"selector-class\">.aplayer-mini</span> <span class=\"selector-class\">.aplayer-info</span> <span class=\"selector-class\">.aplayer-music</span> <span class=\"selector-class\">.aplayer-title</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: <span class=\"built_in\">var</span>(--aplayer-active-text); <span class=\"comment\">/* 使用更突出的颜色 */</span></span><br><span class=\"line\">  <span class=\"attribute\">font-weight</span>: bold; <span class=\"comment\">/* 字体加粗 */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* ===== 艺术家和专辑信息样式 ===== */</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.aplayer</span> <span class=\"selector-class\">.aplayer-info</span> <span class=\"selector-class\">.aplayer-music</span> <span class=\"selector-class\">.aplayer-author</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: <span class=\"built_in\">var</span>(--aplayer-text); <span class=\"comment\">/* 艺术家文字颜色 */</span></span><br><span class=\"line\">  <span class=\"attribute\">opacity</span>: <span class=\"number\">1</span>; <span class=\"comment\">/* 透明度稍低，作为次要信息 */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.aplayer</span> <span class=\"selector-class\">.aplayer-list</span> <span class=\"selector-tag\">ol</span> <span class=\"selector-tag\">li</span><span class=\"selector-class\">.aplayer-list-light</span> <span class=\"selector-class\">.aplayer-list-author</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: <span class=\"built_in\">var</span>(--aplayer-active-text); <span class=\"comment\">/* 当前歌曲艺术家信息使用更亮的颜色 */</span></span><br><span class=\"line\">  <span class=\"attribute\">opacity</span>: <span class=\"number\">1</span>; <span class=\"comment\">/* 降低透明度，但仍保持可读性 */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure> </div></details>\n<h3 id=\"13-背景动态设置\">13. 背景动态设置</h3>\n<h4 id=\"13-1-随机线条效果\">13.1 随机线条效果</h4>\n<p>主题文件layout.ejs文件中添加以下代码</p>\n<figure class=\"highlight plaintext\"><figcaption><span>layout.ejs</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;script type=&quot;text/javascript&quot;color=&quot;0,0,255&quot; opacity=&#x27;0.7&#x27; zIndex=&quot;-2&quot; count=&quot;99&quot; src=&quot;//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>\n<p><code>color</code> ：线条颜色, 默认: <code>'0,0,0'</code>；三个数字分别为(R,G,B)</p>\n</li>\n<li>\n<p><code>opacity</code>: 线条透明度（0~1）, 默认: <code>0.5</code></p>\n</li>\n<li>\n<p><code>count</code>: 线条的总数量, 默认: <code>150</code></p>\n</li>\n<li>\n<p><code>zIndex:</code> 背景的z-index属性，CSS属性用于控制所在层的位置, 默认: <code>-1</code></p>\n</li>\n</ul>\n<p>终端运行hexo clean 清除缓存，hexo g&amp;hexo s渲染网页后本地预览。</p>\n<p>手机端显示很乱，影响阅览网页，已弃用。</p>\n<h4 id=\"13-2-随机樱花效果\">13.2 随机樱花效果</h4>\n<p>参考以下文章，修改成可以替换任意图像元素效果。</p>\n<p><a href=\"https://cnhuazhu.top/butterfly/2021/02/24/Hexo%E9%AD%94%E6%94%B9/Hexo%E6%B7%BB%E5%8A%A0%E9%9B%AA%E8%8A%B1%E5%8A%A8%E6%80%81%E6%95%88%E6%9E%9C%E8%83%8C%E6%99%AF/\">Hexo添加雪花动态效果背景 | 花猪のBlog</a></p>\n<p><a href=\"https://cnhuazhu.top/butterfly/2021/02/19/Hexo%E9%AD%94%E6%94%B9/Hexo%E6%B7%BB%E5%8A%A0%E6%A8%B1%E8%8A%B1%E5%8A%A8%E6%80%81%E6%95%88%E6%9E%9C%E8%83%8C%E6%99%AF/\">Hexo添加樱花动态效果背景 | 花猪のBlog</a></p>\n<p>base64图片太长了，占用空间大，提取base64编码转换成图片，上传图床。</p>\n<p><img src=\"https://u.sam7.top/2NkzEk\" alt=\"result\"></p>\n<p>新建sakura.js文件</p>\n<details class=\"tag-plugin colorful folding\" ><summary><p>代码折叠</p>\n</summary><div class=\"body\"><figure class=\"highlight js\"><figcaption><span>sakura.js</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Sakura</span> &#123;</span><br><span class=\"line\">    <span class=\"title function_\">constructor</span>(<span class=\"params\">x, y, s, r, fn, image</span>) &#123;</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">x</span> = x;</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">y</span> = y;</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">s</span> = s;</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">r</span> = r;</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">fn</span> = fn;</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">image</span> = image;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"title function_\">draw</span>(<span class=\"params\">cxt</span>) &#123;</span><br><span class=\"line\">        cxt.<span class=\"title function_\">save</span>();</span><br><span class=\"line\">        cxt.<span class=\"title function_\">translate</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">x</span>, <span class=\"variable language_\">this</span>.<span class=\"property\">y</span>);</span><br><span class=\"line\">        cxt.<span class=\"title function_\">rotate</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">r</span>);</span><br><span class=\"line\">        <span class=\"keyword\">const</span> size = <span class=\"number\">40</span> * <span class=\"variable language_\">this</span>.<span class=\"property\">s</span>;</span><br><span class=\"line\">        cxt.<span class=\"title function_\">drawImage</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">image</span>, -size/<span class=\"number\">2</span>, -size/<span class=\"number\">2</span>, size, size);</span><br><span class=\"line\">        cxt.<span class=\"title function_\">restore</span>();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"title function_\">update</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">x</span> = <span class=\"variable language_\">this</span>.<span class=\"property\">fn</span>.<span class=\"title function_\">x</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">x</span>, <span class=\"variable language_\">this</span>.<span class=\"property\">y</span>);</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">y</span> = <span class=\"variable language_\">this</span>.<span class=\"property\">fn</span>.<span class=\"title function_\">y</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">y</span>, <span class=\"variable language_\">this</span>.<span class=\"property\">x</span>);</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">r</span> = <span class=\"variable language_\">this</span>.<span class=\"property\">fn</span>.<span class=\"title function_\">r</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">r</span>);</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">x</span> &gt; <span class=\"variable language_\">window</span>.<span class=\"property\">innerWidth</span> || <span class=\"variable language_\">this</span>.<span class=\"property\">x</span> &lt; <span class=\"number\">0</span> || <span class=\"variable language_\">this</span>.<span class=\"property\">y</span> &gt; <span class=\"variable language_\">window</span>.<span class=\"property\">innerHeight</span> || <span class=\"variable language_\">this</span>.<span class=\"property\">y</span> &lt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">            <span class=\"variable language_\">this</span>.<span class=\"title function_\">reset</span>();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"title function_\">reset</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">r</span> = <span class=\"title function_\">getRandom</span>(<span class=\"string\">&#x27;fnr&#x27;</span>)();</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"title class_\">Math</span>.<span class=\"title function_\">random</span>() &gt; <span class=\"number\">0.4</span>) &#123;</span><br><span class=\"line\">            <span class=\"variable language_\">this</span>.<span class=\"property\">x</span> = <span class=\"title function_\">getRandom</span>(<span class=\"string\">&#x27;x&#x27;</span>);</span><br><span class=\"line\">            <span class=\"variable language_\">this</span>.<span class=\"property\">y</span> = <span class=\"number\">0</span>;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"variable language_\">this</span>.<span class=\"property\">x</span> = <span class=\"variable language_\">window</span>.<span class=\"property\">innerWidth</span>;</span><br><span class=\"line\">            <span class=\"variable language_\">this</span>.<span class=\"property\">y</span> = <span class=\"title function_\">getRandom</span>(<span class=\"string\">&#x27;y&#x27;</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">s</span> = <span class=\"title function_\">getRandom</span>(<span class=\"string\">&#x27;s&#x27;</span>);</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">r</span> = <span class=\"title function_\">getRandom</span>(<span class=\"string\">&#x27;r&#x27;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> stop = <span class=\"literal\">null</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 检测是否为移动设备</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">isMobileDevice</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"regexp\">/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i</span>.<span class=\"title function_\">test</span>(navigator.<span class=\"property\">userAgent</span>) || </span><br><span class=\"line\">           <span class=\"variable language_\">window</span>.<span class=\"property\">innerWidth</span> &lt;= <span class=\"number\">768</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">getRandom</span>(<span class=\"params\">option</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">switch</span> (option) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">case</span> <span class=\"string\">&#x27;x&#x27;</span>: <span class=\"keyword\">return</span> <span class=\"title class_\">Math</span>.<span class=\"title function_\">random</span>() * <span class=\"variable language_\">window</span>.<span class=\"property\">innerWidth</span>;</span><br><span class=\"line\">        <span class=\"keyword\">case</span> <span class=\"string\">&#x27;y&#x27;</span>: <span class=\"keyword\">return</span> <span class=\"title class_\">Math</span>.<span class=\"title function_\">random</span>() * <span class=\"variable language_\">window</span>.<span class=\"property\">innerHeight</span>;</span><br><span class=\"line\">        <span class=\"keyword\">case</span> <span class=\"string\">&#x27;s&#x27;</span>: <span class=\"keyword\">return</span> <span class=\"title class_\">Math</span>.<span class=\"title function_\">random</span>() * <span class=\"number\">0.5</span> + <span class=\"number\">0.3</span>;</span><br><span class=\"line\">        <span class=\"keyword\">case</span> <span class=\"string\">&#x27;r&#x27;</span>: <span class=\"keyword\">return</span> <span class=\"title class_\">Math</span>.<span class=\"title function_\">random</span>() * <span class=\"title class_\">Math</span>.<span class=\"property\">PI</span> * <span class=\"number\">2</span>;</span><br><span class=\"line\">        <span class=\"keyword\">case</span> <span class=\"string\">&#x27;fnx&#x27;</span>: <span class=\"keyword\">return</span> <span class=\"function\">(<span class=\"params\">x, y</span>) =&gt;</span> x + (<span class=\"title class_\">Math</span>.<span class=\"title function_\">random</span>() - <span class=\"number\">0.5</span>) * <span class=\"number\">2</span> - <span class=\"number\">1</span>;</span><br><span class=\"line\">        <span class=\"keyword\">case</span> <span class=\"string\">&#x27;fny&#x27;</span>: <span class=\"keyword\">return</span> <span class=\"function\">(<span class=\"params\">y, x</span>) =&gt;</span> y + <span class=\"number\">1.5</span> + <span class=\"title class_\">Math</span>.<span class=\"title function_\">random</span>();</span><br><span class=\"line\">        <span class=\"keyword\">case</span> <span class=\"string\">&#x27;fnr&#x27;</span>: <span class=\"keyword\">return</span> <span class=\"function\">(<span class=\"params\">r</span>) =&gt;</span> r + <span class=\"title class_\">Math</span>.<span class=\"title function_\">random</span>() * <span class=\"number\">0.03</span>;</span><br><span class=\"line\">        <span class=\"attr\">default</span>: <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">startSakura</span>(<span class=\"params\">image</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (stop) &#123;</span><br><span class=\"line\">        <span class=\"title function_\">cancelAnimationFrame</span>(stop);</span><br><span class=\"line\">        <span class=\"keyword\">const</span> canvas = <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&#x27;canvas_sakura&#x27;</span>);</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (canvas) canvas.<span class=\"title function_\">remove</span>();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">const</span> canvas = <span class=\"variable language_\">document</span>.<span class=\"title function_\">createElement</span>(<span class=\"string\">&#x27;canvas&#x27;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">const</span> cxt = canvas.<span class=\"title function_\">getContext</span>(<span class=\"string\">&#x27;2d&#x27;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">const</span> sakuras = [];</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">// 移动端优化</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> isMobile = <span class=\"title function_\">isMobileDevice</span>();</span><br><span class=\"line\">    <span class=\"keyword\">const</span> sakuraCount = isMobile ? <span class=\"number\">15</span> : <span class=\"number\">25</span>; <span class=\"comment\">// 移动端减少樱花数量</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    canvas.<span class=\"property\">height</span> = <span class=\"variable language_\">window</span>.<span class=\"property\">innerHeight</span>;</span><br><span class=\"line\">    canvas.<span class=\"property\">width</span> = <span class=\"variable language_\">window</span>.<span class=\"property\">innerWidth</span>;</span><br><span class=\"line\">    canvas.<span class=\"property\">style</span>.<span class=\"property\">cssText</span> = <span class=\"string\">&#x27;position:fixed;left:0;top:0;pointer-events:none;z-index:9999;&#x27;</span>;</span><br><span class=\"line\">    canvas.<span class=\"property\">id</span> = <span class=\"string\">&#x27;canvas_sakura&#x27;</span>;</span><br><span class=\"line\">    <span class=\"variable language_\">document</span>.<span class=\"property\">body</span>.<span class=\"title function_\">appendChild</span>(canvas);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 创建樱花实例</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; sakuraCount; i++) &#123;</span><br><span class=\"line\">        sakuras.<span class=\"title function_\">push</span>(<span class=\"keyword\">new</span> <span class=\"title class_\">Sakura</span>(</span><br><span class=\"line\">            <span class=\"title function_\">getRandom</span>(<span class=\"string\">&#x27;x&#x27;</span>),</span><br><span class=\"line\">            <span class=\"title function_\">getRandom</span>(<span class=\"string\">&#x27;y&#x27;</span>),</span><br><span class=\"line\">            <span class=\"title function_\">getRandom</span>(<span class=\"string\">&#x27;s&#x27;</span>),</span><br><span class=\"line\">            <span class=\"title function_\">getRandom</span>(<span class=\"string\">&#x27;r&#x27;</span>),</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"attr\">x</span>: <span class=\"title function_\">getRandom</span>(<span class=\"string\">&#x27;fnx&#x27;</span>),</span><br><span class=\"line\">                <span class=\"attr\">y</span>: <span class=\"title function_\">getRandom</span>(<span class=\"string\">&#x27;fny&#x27;</span>),</span><br><span class=\"line\">                <span class=\"attr\">r</span>: <span class=\"title function_\">getRandom</span>(<span class=\"string\">&#x27;fnr&#x27;</span>)</span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            image</span><br><span class=\"line\">        ));</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">function</span> <span class=\"title function_\">animate</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">        cxt.<span class=\"title function_\">clearRect</span>(<span class=\"number\">0</span>, <span class=\"number\">0</span>, canvas.<span class=\"property\">width</span>, canvas.<span class=\"property\">height</span>);</span><br><span class=\"line\">        sakuras.<span class=\"title function_\">forEach</span>(<span class=\"function\"><span class=\"params\">sakura</span> =&gt;</span> &#123;</span><br><span class=\"line\">            sakura.<span class=\"title function_\">update</span>();</span><br><span class=\"line\">            sakura.<span class=\"title function_\">draw</span>(cxt);</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">        stop = <span class=\"title function_\">requestAnimationFrame</span>(animate);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    stop = <span class=\"title function_\">requestAnimationFrame</span>(animate);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">toggleSakura</span>(<span class=\"params\">imageUrl</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (stop) &#123;</span><br><span class=\"line\">        <span class=\"title function_\">cancelAnimationFrame</span>(stop);</span><br><span class=\"line\">        stop = <span class=\"literal\">null</span>;</span><br><span class=\"line\">        <span class=\"keyword\">const</span> canvas = <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&#x27;canvas_sakura&#x27;</span>);</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (canvas) canvas.<span class=\"title function_\">remove</span>();</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">false</span>; <span class=\"comment\">// 返回false表示已停止</span></span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 移动端检测 - 如果性能可能有问题，可以在这里禁用</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"title function_\">isMobileDevice</span>()) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">const</span> enableOnMobile = <span class=\"title function_\">confirm</span>(<span class=\"string\">&quot;在移动设备上运行樱花特效可能会影响性能。是否继续？&quot;</span>);</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (!enableOnMobile) <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"comment\">// 加载图片并启动</span></span><br><span class=\"line\">        <span class=\"keyword\">const</span> img = <span class=\"keyword\">new</span> <span class=\"title class_\">Image</span>();</span><br><span class=\"line\">        img.<span class=\"property\">onload</span> = <span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">            <span class=\"title function_\">startSakura</span>(img);</span><br><span class=\"line\">        &#125;;</span><br><span class=\"line\">        img.<span class=\"property\">src</span> = imageUrl;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">true</span>; <span class=\"comment\">// 返回true表示已启动</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 窗口调整大小时重置canvas</span></span><br><span class=\"line\"><span class=\"variable language_\">window</span>.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;resize&#x27;</span>, <span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> canvas = <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&#x27;canvas_sakura&#x27;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (canvas) &#123;</span><br><span class=\"line\">        canvas.<span class=\"property\">width</span> = <span class=\"variable language_\">window</span>.<span class=\"property\">innerWidth</span>;</span><br><span class=\"line\">        canvas.<span class=\"property\">height</span> = <span class=\"variable language_\">window</span>.<span class=\"property\">innerHeight</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 页面卸载时清理资源</span></span><br><span class=\"line\"><span class=\"variable language_\">window</span>.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;beforeunload&#x27;</span>, <span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (stop) &#123;</span><br><span class=\"line\">        <span class=\"title function_\">cancelAnimationFrame</span>(stop);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 在这里添加你的图片路径并启动特效</span></span><br><span class=\"line\"><span class=\"comment\">// 将下面的 &#x27;your-sakura-image-url.jpg&#x27; 替换为你的樱花图片URL</span></span><br><span class=\"line\"><span class=\"title function_\">toggleSakura</span>(<span class=\"string\">&#x27;https://u.sam7.top/2NkzEk&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 导出函数供外部调用</span></span><br><span class=\"line\"><span class=\"variable language_\">window</span>.<span class=\"property\">toggleSakura</span> = toggleSakura;</span><br><span class=\"line\"><span class=\"variable language_\">window</span>.<span class=\"property\">isMobileDevice</span> = isMobileDevice;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure> </div></details>\n<h3 id=\"14-文章路由\">14. 文章路由</h3>\n<p>参考博主<a href=\"https://blog.bxzdyg.cn/\">BoBoBlog</a>文章</p>\n<p><a href=\"https://blog.bxzdyg.cn/p/%E4%BD%BF%E7%94%A8Hexo%E5%92%8CStellar%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%E7%BD%91%E7%AB%99/#%E6%96%87%E7%AB%A0%E8%B7%AF%E7%94%B1%EF%BC%88%E9%80%89%EF%BC%89\">使用Hexo和Stellar搭建个人博客网站【超详细贴心保姆级教程💖】 - BoBoBlog</a></p>\n<p>能够解决中文网页标题转义的现象，并且创建文章自动添加abbrlink</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install hexo-abbrlink --save</span><br></pre></td></tr></table></figure>\n<p>在 <code>blog/_config.yml</code> 中找到对应 <code>permalink</code> 标签，进行修改即可：</p>\n<figure class=\"highlight yaml\"><figcaption><span>_config.yaml</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">url:</span> <span class=\"string\">sam7.top</span></span><br><span class=\"line\"><span class=\"attr\">permalink:</span> <span class=\"string\">:year:month/:title/</span> <span class=\"comment\">#:year/:month/:day/:title/</span></span><br><span class=\"line\"><span class=\"attr\">abbrlink:</span></span><br><span class=\"line\">  <span class=\"attr\">alg:</span> <span class=\"string\">crc16</span>  <span class=\"comment\">#算法： crc16(default) and crc32</span></span><br><span class=\"line\">  <span class=\"attr\">rep:</span> <span class=\"string\">dec</span>    <span class=\"comment\">#进制： dec(default) and hex</span></span><br><span class=\"line\"><span class=\"attr\">permalink_defaults:</span></span><br></pre></td></tr></table></figure>\n<p>使用了这个每使用命令新建一篇文章会在头代码上插入abbrlink:及对应的转码后的代码,</p>\n<p>这使得他会自动去匹配每个md文件的头代码中的abbrlink</p>\n<p>不同算法、进制生成的链接格式如下：</p>\n<table>\n<thead>\n<tr>\n<th>算法</th>\n<th>进制</th>\n<th>生成链接示例</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>crc16</td>\n<td>hex</td>\n<td><a href=\"https://yourname.github.io/p/66c8.html\">https://yourname.github.io/p/66c8.html</a></td>\n</tr>\n<tr>\n<td>crc16</td>\n<td>dec</td>\n<td><a href=\"https://yourname.github.io/p/65535.html\">https://yourname.github.io/p/65535.html</a></td>\n</tr>\n<tr>\n<td>crc32</td>\n<td>hex</td>\n<td><a href=\"https://yourname.github.io/p/8ddf18fb.html\">https://yourname.github.io/p/8ddf18fb.html</a></td>\n</tr>\n<tr>\n<td>crc32</td>\n<td>dec</td>\n<td><a href=\"https://yourname.github.io/p/1690090958.html\">https://yourname.github.io/p/1690090958.html</a></td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"15-主题深浅色切换\">15. 主题深浅色切换</h3>\n<p>参考博主<a href=\"https://blog.bxzdyg.cn/\">BoBoBlog</a>，主题颜色设置为自动。</p>\n<figure class=\"highlight yaml\"><figcaption><span>主题配置文件</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">style:</span></span><br><span class=\"line\">  <span class=\"attr\">prefers_theme:</span> <span class=\"string\">auto</span> <span class=\"comment\"># auto / light / dark</span></span><br><span class=\"line\">  <span class=\"attr\">smooth_scroll:</span> <span class=\"literal\">true</span> <span class=\"comment\"># true / false 开启时如果目录过长可能无法准确定位</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"15-1-功能实现\">15.1 功能实现</h4>\n<p>首先在 主题配置文件中<code>footer.social</code>处增加“主题切换”按钮配置，图标为半圆，点击可用于一键切换深浅色。</p>\n<figure class=\"highlight yaml\"><figcaption><span>主题配置文件</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">footer:</span> </span><br><span class=\"line\">  <span class=\"attr\">social:</span></span><br><span class=\"line\">    <span class=\"attr\">theme:</span></span><br><span class=\"line\">      <span class=\"attr\">icon:</span> <span class=\"string\">&#x27;&lt;i class=&quot;fa-solid fa-circle-half-stroke fa-fade&quot; style=&quot;color: #F9D923;&quot;&gt;&lt;/i&gt;&#x27;</span></span><br><span class=\"line\">      <span class=\"attr\">title:</span> <span class=\"string\">&#x27;主题切换&#x27;</span></span><br><span class=\"line\">      <span class=\"attr\">url:</span> <span class=\"string\">&#x27;javascript:void(0);&#x27;</span></span><br></pre></td></tr></table></figure>\n<p>下一步需要在前端JS中实现主题切换功能，并为页脚“主题切换”按钮绑定点击事件。</p>\n<p>在main.js末尾增加如下代码，实现以下功能，默认跟随系统颜色变化，单击按钮切换主题深浅色。</p>\n<details class=\"tag-plugin colorful folding\" ><summary><p>查看代码</p>\n</summary><div class=\"body\"><figure class=\"highlight js\"><figcaption><span>main.js</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 主题切换按钮逻辑</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">setTheme</span>(<span class=\"params\">theme</span>) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">document</span>.<span class=\"property\">documentElement</span>.<span class=\"title function_\">setAttribute</span>(<span class=\"string\">&#x27;data-theme&#x27;</span>, theme);</span><br><span class=\"line\">  <span class=\"variable language_\">localStorage</span>.<span class=\"title function_\">setItem</span>(<span class=\"string\">&#x27;theme&#x27;</span>, theme);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">toggleTheme</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> current = <span class=\"variable language_\">document</span>.<span class=\"property\">documentElement</span>.<span class=\"title function_\">getAttribute</span>(<span class=\"string\">&#x27;data-theme&#x27;</span>);</span><br><span class=\"line\">  <span class=\"title function_\">setTheme</span>(current === <span class=\"string\">&#x27;dark&#x27;</span> ? <span class=\"string\">&#x27;light&#x27;</span> : <span class=\"string\">&#x27;dark&#x27;</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// 自动读取本地存储</span></span><br><span class=\"line\">(<span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> saved = <span class=\"variable language_\">localStorage</span>.<span class=\"title function_\">getItem</span>(<span class=\"string\">&#x27;theme&#x27;</span>);</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (saved) <span class=\"title function_\">setTheme</span>(saved);</span><br><span class=\"line\">&#125;)();</span><br><span class=\"line\"><span class=\"comment\">// 跟随系统颜色变化</span></span><br><span class=\"line\">(<span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"comment\">// 优先本地存储</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> saved = <span class=\"variable language_\">localStorage</span>.<span class=\"title function_\">getItem</span>(<span class=\"string\">&#x27;theme&#x27;</span>);</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (saved) &#123;</span><br><span class=\"line\">    <span class=\"title function_\">setTheme</span>(saved);</span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// 跟随系统</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> mq = <span class=\"variable language_\">window</span>.<span class=\"title function_\">matchMedia</span>(<span class=\"string\">&#x27;(prefers-color-scheme: dark)&#x27;</span>);</span><br><span class=\"line\">    <span class=\"title function_\">setTheme</span>(mq.<span class=\"property\">matches</span> ? <span class=\"string\">&#x27;dark&#x27;</span> : <span class=\"string\">&#x27;light&#x27;</span>);</span><br><span class=\"line\">    mq.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;change&#x27;</span>, <span class=\"keyword\">function</span>(<span class=\"params\">e</span>) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// 仅当未手动切换时才跟随系统</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (!<span class=\"variable language_\">localStorage</span>.<span class=\"title function_\">getItem</span>(<span class=\"string\">&#x27;theme&#x27;</span>)) &#123;</span><br><span class=\"line\">        <span class=\"title function_\">setTheme</span>(e.<span class=\"property\">matches</span> ? <span class=\"string\">&#x27;dark&#x27;</span> : <span class=\"string\">&#x27;light&#x27;</span>);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;)();</span><br><span class=\"line\"><span class=\"comment\">// 绑定页脚按钮点击事件</span></span><br><span class=\"line\"><span class=\"variable language_\">window</span>.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;DOMContentLoaded&#x27;</span>, <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"comment\">// 支持多种渲染方式，自动识别按钮</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> themeBtns = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelectorAll</span>(<span class=\"string\">&#x27;.fa-circle-half-stroke&#x27;</span>);</span><br><span class=\"line\">  themeBtns.<span class=\"title function_\">forEach</span>(<span class=\"keyword\">function</span>(<span class=\"params\">btn</span>) &#123;</span><br><span class=\"line\">    btn.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;click&#x27;</span>, <span class=\"keyword\">function</span> (<span class=\"params\">e</span>) &#123;</span><br><span class=\"line\">      e.<span class=\"title function_\">preventDefault</span>();</span><br><span class=\"line\">      <span class=\"title function_\">toggleTheme</span>();</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure> </div></details>\n<h4 id=\"15-2-主题颜色调整\">15.2 主题颜色调整</h4>\n<p>深浅色主题、侧边栏、卡片、代码块颜色调整，将<code>theme_base.styl</code>主题基本颜色修改成如下内容。</p>\n<details class=\"tag-plugin colorful folding\" ><summary><p>查看代码</p>\n</summary><div class=\"body\"><figure class=\"highlight stylus\"><figcaption><span>theme_base.styl</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br><span class=\"line\">184</span><br><span class=\"line\">185</span><br><span class=\"line\">186</span><br><span class=\"line\">187</span><br><span class=\"line\">188</span><br><span class=\"line\">189</span><br><span class=\"line\">190</span><br><span class=\"line\">191</span><br><span class=\"line\">192</span><br><span class=\"line\">193</span><br><span class=\"line\">194</span><br><span class=\"line\">195</span><br><span class=\"line\">196</span><br><span class=\"line\">197</span><br><span class=\"line\">198</span><br><span class=\"line\">199</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 通用 hsla 函数</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">x-hsla</span><span class=\"params\">(h = var(--hue)</span></span>, s = <span class=\"selector-tag\">var</span>(<span class=\"attr\">--sat</span>), l = <span class=\"selector-tag\">var</span>(<span class=\"attr\">--light</span>), <span class=\"selector-tag\">a</span> = <span class=\"selector-tag\">var</span>(<span class=\"attr\">--alpha</span>))</span><br><span class=\"line\">  return <span class=\"built_in\">unquote</span>(<span class=\"string\">&#x27;hsla(%s %s %s / %s)&#x27;</span> % (h s l a))</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 设置不同透明度的主题色</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">x-theme-alpha</span><span class=\"params\">(a = <span class=\"number\">1</span>)</span></span></span><br><span class=\"line\">  return <span class=\"built_in\">unquote</span>(<span class=\"string\">&#x27;hsla(%s %s %s / %s)&#x27;</span> % (<span class=\"selector-tag\">var</span>(<span class=\"attr\">--hue</span>) <span class=\"selector-tag\">var</span>(<span class=\"attr\">--sat</span>) <span class=\"selector-tag\">var</span>(<span class=\"attr\">--light</span>) a))</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 设置基础主题色</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">x-set-theme-with-color</span><span class=\"params\">(<span class=\"variable\">$color</span>)</span></span></span><br><span class=\"line\">  <span class=\"attr\">--hue</span>: <span class=\"built_in\">hue</span>(<span class=\"variable\">$color</span>)</span><br><span class=\"line\">  <span class=\"attr\">--sat</span>: <span class=\"built_in\">saturation</span>(<span class=\"variable\">$color</span>)</span><br><span class=\"line\">  <span class=\"attr\">--light</span>: <span class=\"built_in\">lightness</span>(<span class=\"variable\">$color</span>)</span><br><span class=\"line\">  <span class=\"attr\">--alpha</span>: <span class=\"built_in\">alpha</span>(<span class=\"variable\">$color</span>)</span><br><span class=\"line\">  <span class=\"attr\">--theme</span>: <span class=\"attribute\">x</span><span class=\"built_in\">-theme-alpha</span>(<span class=\"number\">1</span>)</span><br><span class=\"line\">  <span class=\"attr\">--theme-a10</span>: <span class=\"attribute\">x</span><span class=\"built_in\">-theme-alpha</span>(<span class=\"number\">0.1</span>)</span><br><span class=\"line\">  <span class=\"attr\">--theme-a20</span>: <span class=\"attribute\">x</span><span class=\"built_in\">-theme-alpha</span>(<span class=\"number\">0.2</span>)</span><br><span class=\"line\">  <span class=\"attr\">--theme-a30</span>: <span class=\"attribute\">x</span><span class=\"built_in\">-theme-alpha</span>(<span class=\"number\">0.3</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 设置链接颜色</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">x-set-link-with-color</span><span class=\"params\">(<span class=\"variable\">$color</span>)</span></span></span><br><span class=\"line\">  <span class=\"variable\">$hue</span> = <span class=\"built_in\">hue</span>(<span class=\"variable\">$color</span>)</span><br><span class=\"line\">  <span class=\"variable\">$sat</span> = <span class=\"built_in\">saturation</span>(<span class=\"variable\">$color</span>)</span><br><span class=\"line\">  <span class=\"variable\">$light</span> = <span class=\"built_in\">lightness</span>(<span class=\"variable\">$color</span>)</span><br><span class=\"line\">  <span class=\"attr\">--link</span>: <span class=\"attribute\">x</span><span class=\"built_in\">-hsla</span>(<span class=\"variable\">$hue</span>, <span class=\"variable\">$sat</span>, <span class=\"variable\">$light</span>, <span class=\"number\">1</span>)</span><br><span class=\"line\">  <span class=\"attr\">--link-a20</span>: <span class=\"attribute\">x</span><span class=\"built_in\">-hsla</span>(<span class=\"variable\">$hue</span>, <span class=\"variable\">$sat</span>, <span class=\"variable\">$light</span>, <span class=\"number\">0.2</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 设置背景色</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">x-set-bg-colors</span><span class=\"params\">(<span class=\"variable\">$scheme</span>)</span></span></span><br><span class=\"line\">  <span class=\"variable\">$hue</span> = <span class=\"variable\">$c</span>-base-hue</span><br><span class=\"line\">  <span class=\"variable\">$sat</span> = <span class=\"number\">0%</span></span><br><span class=\"line\">  <span class=\"variable\">$light</span> = <span class=\"variable\">$scheme</span> == <span class=\"string\">&#x27;dark&#x27;</span> ? <span class=\"number\">0%</span> : <span class=\"number\">100%</span></span><br><span class=\"line\">  <span class=\"attr\">--bg-a20</span>: <span class=\"attribute\">x</span><span class=\"built_in\">-hsla</span>(<span class=\"variable\">$hue</span>, <span class=\"variable\">$sat</span>, <span class=\"variable\">$light</span>, <span class=\"number\">0.2</span>)</span><br><span class=\"line\">  <span class=\"attr\">--bg-a50</span>: <span class=\"attribute\">x</span><span class=\"built_in\">-hsla</span>(<span class=\"variable\">$hue</span>, <span class=\"variable\">$sat</span>, <span class=\"variable\">$light</span>, <span class=\"number\">0.5</span>)</span><br><span class=\"line\">  <span class=\"attr\">--bg-a60</span>: <span class=\"attribute\">x</span><span class=\"built_in\">-hsla</span>(<span class=\"variable\">$hue</span>, <span class=\"variable\">$sat</span>, <span class=\"variable\">$light</span>, <span class=\"number\">0.6</span>)</span><br><span class=\"line\">  <span class=\"attr\">--bg-a75</span>: <span class=\"attribute\">x</span><span class=\"built_in\">-hsla</span>(<span class=\"variable\">$hue</span>, <span class=\"variable\">$sat</span>, <span class=\"variable\">$light</span>, <span class=\"number\">0.75</span>)</span><br><span class=\"line\">  <span class=\"attr\">--bg-a100</span>: <span class=\"attribute\">x</span><span class=\"built_in\">-hsla</span>(<span class=\"variable\">$hue</span>, <span class=\"variable\">$sat</span>, <span class=\"variable\">$light</span>, <span class=\"number\">1</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 设置文本及相关色</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">x-set-text-colors</span><span class=\"params\">(<span class=\"variable\">$scheme</span>, <span class=\"variable\">$p0</span> = <span class=\"number\">1</span>, <span class=\"variable\">$p1</span> = <span class=\"number\">0.8</span>, <span class=\"variable\">$p2</span> = <span class=\"number\">0.7</span>, <span class=\"variable\">$p3</span> = <span class=\"number\">0.5</span>, <span class=\"variable\">$p4</span> = <span class=\"number\">0.4</span>)</span></span></span><br><span class=\"line\">  <span class=\"variable\">$hue</span> = <span class=\"variable\">$c</span>-base-hue</span><br><span class=\"line\">  <span class=\"variable\">$sat</span> = <span class=\"number\">0%</span></span><br><span class=\"line\">  <span class=\"variable\">$light</span> = <span class=\"variable\">$scheme</span> == <span class=\"string\">&#x27;dark&#x27;</span> ? <span class=\"number\">100%</span> : <span class=\"number\">0%</span></span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"attr\">--text</span>: <span class=\"attribute\">x</span><span class=\"built_in\">-hsla</span>(<span class=\"variable\">$hue</span>, <span class=\"variable\">$sat</span>, <span class=\"variable\">$light</span>, <span class=\"variable\">$p0</span>)</span><br><span class=\"line\">  <span class=\"attr\">--text-reverse</span>: <span class=\"attribute\">x</span><span class=\"built_in\">-hsla</span>(<span class=\"variable\">$hue</span>, <span class=\"variable\">$sat</span>, <span class=\"variable\">$scheme</span> == <span class=\"string\">&#x27;dark&#x27;</span> ? <span class=\"number\">0%</span> : <span class=\"number\">100%</span>, <span class=\"variable\">$p0</span>)</span><br><span class=\"line\">  <span class=\"attr\">--text-p1</span>: <span class=\"attribute\">x</span><span class=\"built_in\">-hsla</span>(<span class=\"variable\">$hue</span>, <span class=\"variable\">$sat</span>, <span class=\"variable\">$light</span>, <span class=\"variable\">$p1</span>)</span><br><span class=\"line\">  <span class=\"attr\">--text-p2</span>: <span class=\"attribute\">x</span><span class=\"built_in\">-hsla</span>(<span class=\"variable\">$hue</span>, <span class=\"variable\">$sat</span>, <span class=\"variable\">$light</span>, <span class=\"variable\">$p2</span>)</span><br><span class=\"line\">  <span class=\"attr\">--text-p3</span>: <span class=\"attribute\">x</span><span class=\"built_in\">-hsla</span>(<span class=\"variable\">$hue</span>, <span class=\"variable\">$sat</span>, <span class=\"variable\">$light</span>, <span class=\"variable\">$p3</span>)</span><br><span class=\"line\">  <span class=\"attr\">--text-p4</span>: <span class=\"attribute\">x</span><span class=\"built_in\">-hsla</span>(<span class=\"variable\">$hue</span>, <span class=\"variable\">$sat</span>, <span class=\"variable\">$light</span>, <span class=\"variable\">$p4</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"attr\">--text-meta</span>: <span class=\"attribute\">x</span><span class=\"built_in\">-hsla</span>(<span class=\"variable\">$hue</span>, <span class=\"variable\">$sat</span>, <span class=\"variable\">$light</span>, <span class=\"number\">0.2</span>)</span><br><span class=\"line\">  <span class=\"attr\">--text-code</span>: <span class=\"attribute\">x</span><span class=\"built_in\">-hsla</span>(<span class=\"variable\">$hue</span>, <span class=\"variable\">$sat</span>, <span class=\"variable\">$light</span>, <span class=\"number\">0.9</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"attr\">--text-a10</span>: <span class=\"attribute\">x</span><span class=\"built_in\">-hsla</span>(<span class=\"variable\">$hue</span>, <span class=\"variable\">$sat</span>, <span class=\"variable\">$light</span>, <span class=\"number\">0.1</span>)</span><br><span class=\"line\">  <span class=\"attr\">--text-a20</span>: <span class=\"attribute\">x</span><span class=\"built_in\">-hsla</span>(<span class=\"variable\">$hue</span>, <span class=\"variable\">$sat</span>, <span class=\"variable\">$light</span>, <span class=\"number\">0.2</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"variable\">$sat</span> = <span class=\"variable\">$scheme</span> == <span class=\"string\">&#x27;dark&#x27;</span> ? <span class=\"number\">24%</span> : <span class=\"number\">50%</span></span><br><span class=\"line\">  <span class=\"variable\">$light</span> = <span class=\"variable\">$scheme</span> == <span class=\"string\">&#x27;dark&#x27;</span> ? <span class=\"number\">72%</span> : <span class=\"number\">12%</span></span><br><span class=\"line\">  <span class=\"variable\">$alpha</span> = <span class=\"variable\">$scheme</span> == <span class=\"string\">&#x27;dark&#x27;</span> ? <span class=\"number\">0.08</span> : <span class=\"number\">0.04</span></span><br><span class=\"line\">  <span class=\"attr\">--block</span>: <span class=\"attribute\">x</span><span class=\"built_in\">-hsla</span>(<span class=\"variable\">$hue</span>, <span class=\"variable\">$sat</span>, <span class=\"variable\">$light</span>, <span class=\"variable\">$alpha</span>)</span><br><span class=\"line\">  <span class=\"attr\">--block-border</span>: <span class=\"attribute\">x</span><span class=\"built_in\">-hsla</span>(<span class=\"variable\">$hue</span>, <span class=\"variable\">$sat</span>, <span class=\"variable\">$light</span>, <span class=\"variable\">$alpha</span> * <span class=\"number\">1.5</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 设置图片滤镜 - 深色模式图片背景为#31383A，对比度更低</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">x-set-image-filters</span><span class=\"params\">(<span class=\"variable\">$scheme</span>)</span></span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> <span class=\"variable\">$scheme</span> == <span class=\"string\">&#x27;dark&#x27;</span></span><br><span class=\"line\">    <span class=\"attr\">--image-filter</span>: <span class=\"built_in\">invert</span>(<span class=\"number\">1</span>) <span class=\"built_in\">hue-rotate</span>(<span class=\"number\">180deg</span>)</span><br><span class=\"line\">    <span class=\"attr\">--image-brightness</span>: <span class=\"number\">0.65</span>  <span class=\"comment\">// 降低亮度，使背景接近#31383A</span></span><br><span class=\"line\">    <span class=\"attr\">--image-contrast</span>: <span class=\"number\">0.85</span>    <span class=\"comment\">// 进一步降低对比度</span></span><br><span class=\"line\">    <span class=\"attr\">--image-saturate</span>: <span class=\"number\">0.9</span>     <span class=\"comment\">// 稍微降低饱和度</span></span><br><span class=\"line\">    <span class=\"attr\">--image-filter-value</span>: <span class=\"built_in\">invert</span>(<span class=\"number\">1</span>) <span class=\"built_in\">hue-rotate</span>(<span class=\"number\">180deg</span>) <span class=\"built_in\">brightness</span>(<span class=\"number\">0.65</span>) <span class=\"built_in\">contrast</span>(<span class=\"number\">0.85</span>) <span class=\"built_in\">saturate</span>(<span class=\"number\">0.9</span>)</span><br><span class=\"line\">  <span class=\"keyword\">else</span></span><br><span class=\"line\">    <span class=\"attr\">--image-filter</span>: <span class=\"attribute\">none</span></span><br><span class=\"line\">    <span class=\"attr\">--image-brightness</span>: <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"attr\">--image-contrast</span>: <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"attr\">--image-saturate</span>: <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"attr\">--image-filter-value</span>: <span class=\"attribute\">none</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ---------------- apply theme ----------------</span></span><br><span class=\"line\"><span class=\"comment\">// 设置浅色模式</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">dynamic-theme-light</span><span class=\"params\">()</span></span></span><br><span class=\"line\">  <span class=\"variable\">$hue</span> = <span class=\"variable\">$c</span>-base-hue</span><br><span class=\"line\">  <span class=\"attr\">--background</span>: <span class=\"attribute\">x</span><span class=\"built_in\">-hsla</span>(<span class=\"variable\">$hue</span>, <span class=\"number\">20%</span>, <span class=\"number\">98%</span>, <span class=\"number\">1</span>)</span><br><span class=\"line\">  <span class=\"attr\">--card</span>: <span class=\"variable\">$site</span>-<span class=\"attribute\">background-image</span> ? <span class=\"built_in\">hsla</span>(white, <span class=\"number\">0.5</span>) : white</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"attribute\">x</span><span class=\"built_in\">-set-bg-colors</span>(<span class=\"string\">&#x27;light&#x27;</span>)</span><br><span class=\"line\">  <span class=\"attribute\">x</span><span class=\"built_in\">-set-text-colors</span>(<span class=\"string\">&#x27;light&#x27;</span>)</span><br><span class=\"line\">  <span class=\"attribute\">x</span><span class=\"built_in\">-set-image-filters</span>(<span class=\"string\">&#x27;light&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 设置深色模式</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">dynamic-theme-dark</span><span class=\"params\">()</span></span></span><br><span class=\"line\">  <span class=\"variable\">$hue</span> = <span class=\"variable\">$c</span>-base-hue</span><br><span class=\"line\">  <span class=\"attr\">--background</span>: <span class=\"attribute\">x</span><span class=\"built_in\">-hsla</span>(<span class=\"variable\">$hue</span>, <span class=\"number\">8%</span>, <span class=\"number\">12%</span>, <span class=\"number\">1</span>)</span><br><span class=\"line\">  <span class=\"keyword\">@media</span> screen <span class=\"keyword\">and</span> (<span class=\"attribute\">max-width</span>: $device-mobile-max)</span><br><span class=\"line\">    --background: black</span><br><span class=\"line\">  --card: $site-background-image ? hsla(white, <span class=\"number\">0.25</span>) : x-hsla($hue, <span class=\"number\">10%</span>, <span class=\"number\">24%</span>, <span class=\"number\">1</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">  x-set-bg-colors(&#x27;dark&#x27;)</span><br><span class=\"line\">  x-set-text-colors(&#x27;dark&#x27;)</span><br><span class=\"line\">  x-set-image-filters(&#x27;dark&#x27;)</span><br><span class=\"line\">  --text-code: x-hsla(<span class=\"number\">20</span>, <span class=\"number\">75</span>, <span class=\"number\">60</span>, <span class=\"number\">1</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">:root</span><br><span class=\"line\">  // 主题色</span><br><span class=\"line\">  x-set-theme-with-color($c-theme)</span><br><span class=\"line\">  // 强调色</span><br><span class=\"line\">  --accent: $c-accent</span><br><span class=\"line\">  // 链接</span><br><span class=\"line\">  x-set-link-with-color($c-link)</span><br><span class=\"line\"></span><br><span class=\"line\">  // dynamic colors</span><br><span class=\"line\">  dynamic-theme-light()</span><br><span class=\"line\">  @media (<span class=\"attribute\">prefers-color-scheme</span>: dark)</span><br><span class=\"line\">    dynamic-theme-dark()</span><br><span class=\"line\"></span><br><span class=\"line\">:root[data-theme=&quot;light&quot;]</span><br><span class=\"line\">  dynamic-theme-light()</span><br><span class=\"line\"></span><br><span class=\"line\">:root[data-theme=&quot;dark&quot;]</span><br><span class=\"line\">  dynamic-theme-dark()</span><br><span class=\"line\"></span><br><span class=\"line\">// ========== 图片主题变化解决方案 ==========</span><br><span class=\"line\"></span><br><span class=\"line\">// 深色模式下的图片滤镜应用 - 背景为#<span class=\"number\">31383</span>A，对比度更低，保护左侧栏</span><br><span class=\"line\">:root[data-theme=&quot;dark&quot;]</span><br><span class=\"line\">  // 应用滤镜到内容区域的图片</span><br><span class=\"line\">  .post-content img,</span><br><span class=\"line\">  .article-content img,</span><br><span class=\"line\">  .entry-content img,</span><br><span class=\"line\">  .markdown-body img,</span><br><span class=\"line\">  .content img,</span><br><span class=\"line\">  .post-body img,</span><br><span class=\"line\">  [class*=&quot;content&quot;] img:<span class=\"keyword\">not</span>(.no-theme):<span class=\"keyword\">not</span>(.emoji)</span><br><span class=\"line\">    filter: invert(<span class=\"number\">1</span>) hue-rotate(<span class=\"number\">180deg</span>) brightness(<span class=\"number\">0.65</span>) contrast(<span class=\"number\">0.85</span>) saturate(<span class=\"number\">0.9</span>)</span><br><span class=\"line\">    transition: filter <span class=\"number\">0.3s</span> ease</span><br><span class=\"line\">  </span><br><span class=\"line\">  // 保护左侧栏和其他UI元素</span><br><span class=\"line\">  .sidebar img,</span><br><span class=\"line\">  .widget img,</span><br><span class=\"line\">  .navbar img,</span><br><span class=\"line\">  .header img,</span><br><span class=\"line\">  .footer img,</span><br><span class=\"line\">  .avatar,</span><br><span class=\"line\">  .logo,</span><br><span class=\"line\">  .site-brand img,</span><br><span class=\"line\">  .site-logo img,</span><br><span class=\"line\">  .author-avatar img,</span><br><span class=\"line\">  .no-theme</span><br><span class=\"line\">    filter: none !important</span><br><span class=\"line\"></span><br><span class=\"line\">  // 对于需要更浅背景的图片</span><br><span class=\"line\">  img[data-light-bg],</span><br><span class=\"line\">  .light-bg-img</span><br><span class=\"line\">    filter: invert(<span class=\"number\">1</span>) hue-rotate(<span class=\"number\">180deg</span>) brightness(<span class=\"number\">0.8</span>) contrast(<span class=\"number\">0.9</span>) saturate(<span class=\"number\">0.95</span>) !important</span><br><span class=\"line\">  </span><br><span class=\"line\">  // 对于需要保持较深背景的图片</span><br><span class=\"line\">  img[data-dark-bg],</span><br><span class=\"line\">  .dark-bg-img</span><br><span class=\"line\">    filter: invert(<span class=\"number\">1</span>) hue-rotate(<span class=\"number\">180deg</span>) brightness(<span class=\"number\">0.5</span>) contrast(<span class=\"number\">0.8</span>) saturate(<span class=\"number\">0.85</span>) !important</span><br><span class=\"line\"></span><br><span class=\"line\">// 表情图片不随主题变化</span><br><span class=\"line\">.emoji,</span><br><span class=\"line\">.emoticon,</span><br><span class=\"line\">[class*=&quot;emoji&quot;],</span><br><span class=\"line\">[class*=&quot;emoticon&quot;],</span><br><span class=\"line\">img[src*=&quot;emoji&quot;],</span><br><span class=\"line\">img[src*=&quot;emoticon&quot;],</span><br><span class=\"line\">img[data-emoji]</span><br><span class=\"line\">  filter: none !important</span><br><span class=\"line\"></span><br><span class=\"line\">// 方法<span class=\"number\">2</span>: 使用CSS变量（如果浏览器支持）</span><br><span class=\"line\">img.theme-aware:<span class=\"keyword\">not</span>(.emoji)</span><br><span class=\"line\">  filter: var(--image-filter-value)</span><br><span class=\"line\">  transition: filter <span class=\"number\">0.3s</span> ease</span><br><span class=\"line\"></span><br><span class=\"line\">// 方法<span class=\"number\">3</span>: 为特定类型的图片添加主题支持</span><br><span class=\"line\">.themed-image:<span class=\"keyword\">not</span>(.emoji)</span><br><span class=\"line\">  :root[data-theme=&quot;dark&quot;] &amp;</span><br><span class=\"line\">    filter: invert(<span class=\"number\">1</span>) hue-rotate(<span class=\"number\">180deg</span>) brightness(<span class=\"number\">0.65</span>) contrast(<span class=\"number\">0.85</span>) saturate(<span class=\"number\">0.9</span>)</span><br><span class=\"line\">    transition: filter <span class=\"number\">0.3s</span> ease</span><br><span class=\"line\">  </span><br><span class=\"line\">  :root[data-theme=&quot;light&quot;] &amp;</span><br><span class=\"line\">    filter: none</span><br><span class=\"line\">    transition: filter <span class=\"number\">0.3s</span> ease</span><br><span class=\"line\"></span><br><span class=\"line\">// 确保左侧栏图片不受影响</span><br><span class=\"line\">.sidebar,</span><br><span class=\"line\">.widget,</span><br><span class=\"line\">.navbar,</span><br><span class=\"line\">.header,</span><br><span class=\"line\">.footer</span><br><span class=\"line\">  img</span><br><span class=\"line\">    filter: none !important</span><br><span class=\"line\"></span><br><span class=\"line\">// 额外选项：如果需要完全禁用某些图片的主题变化</span><br><span class=\"line\">.no-theme,</span><br><span class=\"line\">[data-no-theme]</span><br><span class=\"line\">  filter: none !important</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure> </div></details>\n<p>主题配置文件中修改如下</p>\n<figure class=\"highlight yaml\"><figcaption><span>主题配置文件</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">leftbar:</span></span><br><span class=\"line\">  <span class=\"comment\"># 可以设置：纯色/渐变色/图片作为背景</span></span><br><span class=\"line\">  <span class=\"attr\">background-color:</span>  <span class=\"string\">var(--block)</span> <span class=\"comment\">#var(--card) var(--block)</span></span><br><span class=\"line\">  <span class=\"attr\">background-image:</span> <span class=\"comment\">#url(https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.13/image/sidebar-bg1@small.jpg)</span></span><br><span class=\"line\">  <span class=\"attr\">blur-px:</span> <span class=\"string\">11px</span></span><br><span class=\"line\">  <span class=\"attr\">blur-bg:</span> <span class=\"string\">var(--bg-a33)</span></span><br><span class=\"line\">  <span class=\"attr\">background-opacity:</span> <span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"attr\">paginator:</span></span><br><span class=\"line\">  <span class=\"attr\">prev:</span> <span class=\"string\">https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.12/arrow/f049bbd4e88ec.svg</span></span><br><span class=\"line\">  <span class=\"attr\">next:</span> <span class=\"string\">https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.12/arrow/064b95430caf4.svg</span></span><br><span class=\"line\"><span class=\"attr\">error_page:</span> <span class=\"string\">https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.12/404/1c830bfcd517d.svg</span></span><br><span class=\"line\"><span class=\"attr\">site:</span> <span class=\"comment\"># 使用 background-image 后，blur 设置才有效</span></span><br><span class=\"line\">  <span class=\"attr\">background-color:</span>  <span class=\"string\">var(--background)</span> <span class=\"comment\">#var(--bg-a11) var(--background)</span></span><br><span class=\"line\">  <span class=\"attr\">background-image:</span>  <span class=\"comment\">#url(https://t.alcy.cc/fj)</span></span><br><span class=\"line\">  <span class=\"attr\">blur-px:</span> <span class=\"string\">14px</span> <span class=\"comment\"># 增加模糊度使背景不突兀</span></span><br><span class=\"line\">  <span class=\"attr\">blur-bg:</span>  <span class=\"string\">var(--bg-a55)</span></span><br><span class=\"line\">  <span class=\"attr\">blur-sat:</span> <span class=\"number\">100</span><span class=\"string\">%</span> <span class=\"comment\"># 适当降低饱和度使背景不抢眼</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"15-3-其他\">15.3  其他</h4>\n<p>waline评论和aplayer播放器都有适配，由于篇幅问题，对应章节都有描述。</p>\n<h3 id=\"16-AI摘要\">16. AI摘要</h3>\n<p>stellar集成tianti GPT，付费的，<a href=\"https://ai.zhheo.com/\">洪墨AI</a>这里购买添加key就好了，绑定网页。</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># AI 摘要</span></span><br><span class=\"line\">  <span class=\"comment\"># https://github.com/qxchuckle/Post-Summary-AI</span></span><br><span class=\"line\">  <span class=\"attr\">tianli_gpt:</span> </span><br><span class=\"line\">    <span class=\"attr\">enable:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">    <span class=\"attr\">js:</span> <span class=\"string\">https://jsd.onmicrosoft.cn/gh/qxchuckle/Post-Summary-AI@6.0/chuckle-post-ai.min.js</span></span><br><span class=\"line\">    <span class=\"attr\">field:</span> <span class=\"string\">all</span> <span class=\"comment\"># all, post, wiki</span></span><br><span class=\"line\">    <span class=\"attr\">key:</span> <span class=\"string\">S-JAVXPRUNPV8LWXO4</span> <span class=\"comment\"># tianli_gpt key</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"17-字体设置\">17. 字体设置</h3>\n<p><a href=\"https://chinese-font.netlify.app/zh-cn/\">中文网字计划-提供便捷实用的全字符集中文渲染方案</a></p>\n<p><a href=\"https://fonts.zeoseven.com/items/442/#embed\">Maple Mono NF-CN - ZeoSeven Fonts (ZSFT)</a></p>\n<p>根目录配置文件中，最后一行加入以下指令：</p>\n<figure class=\"highlight yaml\"><figcaption><span>根目录配置文件</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">inject:</span></span><br><span class=\"line\">  <span class=\"attr\">head:</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"string\">&lt;link</span> <span class=\"string\">rel=&quot;stylesheet&quot;</span> <span class=\"string\">href=&quot;https://cdn.staticfile.org/lxgw-wenkai-screen-webfont/1.6.0/lxgwwenkaiscreen.css&quot;&gt;</span> <span class=\"comment\">#字体引入</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"string\">|</span></span><br><span class=\"line\"><span class=\"string\">      &lt;link rel=&quot;preload&quot; as=&quot;style&quot; crossorigin href=&quot;https://fontsapi.zeoseven.com/442/main/result.css&quot; onload=&quot;this.rel=&#x27;stylesheet&#x27;&quot; onerror=&quot;this.href=&#x27;https://fontsapi-storage.zeoseven.com/442/main/result.css&#x27;&quot; /&gt;</span></span><br><span class=\"line\"><span class=\"string\">      &lt;noscript&gt;</span></span><br><span class=\"line\"><span class=\"string\">        &lt;link rel=&quot;stylesheet&quot; href=&quot;https://fontsapi.zeoseven.com/442/main/result.css&quot; /&gt;</span></span><br><span class=\"line\"><span class=\"string\">      &lt;/noscript&gt; </span></span><br></pre></td></tr></table></figure>\n<p>在主题配置文件中找到 style.font-family，修改以下内容：</p>\n<figure class=\"highlight yaml\"><figcaption><span>主题配置文件</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">style:</span></span><br><span class=\"line\">  <span class=\"attr\">prefers_theme:</span> <span class=\"string\">auto</span> <span class=\"comment\"># auto / light / dark</span></span><br><span class=\"line\">  <span class=\"attr\">smooth_scroll:</span> <span class=\"literal\">true</span> <span class=\"comment\"># true / false 开启时如果目录过长可能无法准确定位</span></span><br><span class=\"line\">  <span class=\"attr\">font-size:</span></span><br><span class=\"line\">    <span class=\"attr\">root:</span> <span class=\"string\">16px</span> <span class=\"comment\"># 改这个会影响全局所有文字的字号</span></span><br><span class=\"line\">    <span class=\"attr\">body:</span> <span class=\"string\">16px</span> <span class=\"comment\"># 影响正文区域的字号，如果改成 px 则不受 root 影响</span></span><br><span class=\"line\">    <span class=\"attr\">code:</span> <span class=\"number\">75</span><span class=\"string\">%</span> <span class=\"comment\"># 相较于其所在行的文本大小，建议用百分比</span></span><br><span class=\"line\">    <span class=\"attr\">codeblock:</span> <span class=\"number\">0.</span><span class=\"string\">8125rem</span> <span class=\"comment\"># 13px</span></span><br><span class=\"line\">  <span class=\"attr\">font-family:</span></span><br><span class=\"line\">    <span class=\"attr\">body:</span> <span class=\"string\">&#x27;&quot;LXGW WenKai Screen&quot;,system-ui, &quot;Microsoft Yahei&quot;, &quot;Segoe UI&quot;, Arial, sans-serif&#x27;</span></span><br><span class=\"line\">    <span class=\"attr\">code:</span> <span class=\"string\">&#x27;&quot;Maple Mono NF CN&quot;, Menlo, Monaco, Consolas, system-ui, monospace, sans-serif&#x27;</span></span><br><span class=\"line\">    <span class=\"attr\">codeblock:</span> <span class=\"string\">&#x27;&quot;Maple Mono NF CN&quot;, Menlo, Monaco, Consolas, system-ui, monospace, sans-serif&#x27;</span></span><br><span class=\"line\">  <span class=\"attr\">text-align:</span> <span class=\"string\">left</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"18-域名申请\">18. 域名申请</h3>\n<ul>\n<li>\n<p>【<a href=\"http://EU.ORG\">EU.ORG</a>】免费域名</p>\n<p><a href=\"https://blog.felicx.eu.org/1263441363.html\">Cloudflare 解析 ORG 域名 - YOLOのBLOG</a></p>\n<p><a href=\"https://blog.felicx.eu.org/2502663362.html\">终身免费 ORG 顶级域名申请 - YOLOのBLOG</a></p>\n<p>提交域名申请已经过去一个月了，还没通过审核，石沉大海了。</p>\n</li>\n<li>\n<p>[Cloudns]免费二级域名</p>\n<p><a href=\"https://zhuanlan.zhihu.com/p/1908463674936496903\">人人有份！免费领取一个永久域名并托管到Cloudflare做双向解析 - 知乎</a></p>\n<p>Cloudns二级域名Cloudflare和Vercel无法解析，只能在Cloudns使用DNS记录。</p>\n<p>Github可以重定向，域名没有时间限制，但证书只有三个月，不知道会不会续签。</p>\n</li>\n<li>\n<p>[DigitalPlat]免费域名</p>\n<p><a href=\"https://blog.csdn.net/loutengyuan/article/details/149096491\">DigitalPlat免费二级域名注册和Cloudflare托管教程-CSDN博客</a></p>\n<p><a href=\"https://blog.eimoon.com/p/%E4%BD%BF%E7%94%A8cloudflate%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E5%85%8D%E8%B4%B9%E4%BB%A3%E7%90%86%E8%8A%82%E7%82%B9/\">使用Cloudflate搭建自己的免费代理节点</a></p>\n<p>DigitalPlat最多可以申请两个域名，只有一年使用期限，小于180天可以续期，虽然是二级域名，但可以被cloudflare、vercel托管。</p>\n</li>\n<li>\n<p>购买域名</p>\n<p>国内价格对比了几家都差不太多，阿里云要便宜些，top域名比较便宜第一年8块10年240块，有活动可以更优惠。</p>\n</li>\n</ul>\n<h3 id=\"19-RSS订阅\">19. RSS订阅</h3>\n<p>参考博主<a href=\"https://blog.bxzdyg.cn/\">BoBoBlog</a></p>\n<p>可用于搜索引擎和友链拉取动态<code>npm i hexo-generator-feed</code>安装插件，根目录下配置文件添加如下内容</p>\n<figure class=\"highlight yaml\"><figcaption><span>_config.yml</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">blog/_config.yml</span></span><br><span class=\"line\"><span class=\"attr\">feed:</span></span><br><span class=\"line\">  <span class=\"attr\">type:</span> <span class=\"string\">atom</span> <span class=\"comment\"># RSS的类型(atom/rss2)</span></span><br><span class=\"line\">  <span class=\"attr\">path:</span> <span class=\"string\">atom.xml</span> <span class=\"comment\"># 文件路径,默认是atom.xml/rss2.xml</span></span><br><span class=\"line\">  <span class=\"attr\">limit:</span> <span class=\"number\">20</span> <span class=\"comment\"># 展示文章的数量,使用0或则false代表展示全部hub</span></span><br><span class=\"line\"><span class=\"comment\">#  hub:</span></span><br><span class=\"line\"><span class=\"comment\">#    content:  # 在RSS文件中是否包含内容 ,有3个值 true/false默认不填为false</span></span><br><span class=\"line\"><span class=\"comment\">#    content_limit: # 指定内容的长度作为摘要,仅仅在上面content设置为false和没有自定义的描述出现</span></span><br><span class=\"line\"><span class=\"comment\">#    content_limit_delim: &#x27; &#x27; #上面截取描述的分隔符,截取内容是以指定的这个分隔符作为截取结束的标志.在达到规定的内容长度之前最后出现的这个分隔符之前的内容，防止从中间截断</span></span><br></pre></td></tr></table></figure>\n<p>然后在主题配置文件中加入以下内容，添加左侧栏footer小图标：</p>\n<figure class=\"highlight yaml\"><figcaption><span>_config.stellar.yml</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">footer:</span></span><br><span class=\"line\">  <span class=\"attr\">social:</span></span><br><span class=\"line\">\t<span class=\"attr\">rss:</span></span><br><span class=\"line\">      <span class=\"attr\">icon:</span> <span class=\"string\">&#x27;&lt;i class=&quot;fa-solid fa-rss fa-shake&quot;&gt;&lt;/i&gt;&#x27;</span></span><br><span class=\"line\">      <span class=\"attr\">url:</span> <span class=\"string\">/atom.xml</span></span><br><span class=\"line\">      </span><br><span class=\"line\"><span class=\"attr\">rss:</span> <span class=\"string\">/atom.xml</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"20-关于、留言板\">20. 关于、留言板</h3>\n<p>在博客源文件夹source中，新建<code>about messages</code>文件夹，<a href=\"http://xn--index-4n1h00csy9acmexxqf6a493clpax11r.md\">在相应文件夹中新建index.md</a>，或者直接在源文件夹下面新建<code>about.md</code>和<code>messages.md</code>,markdown内容即为展示内容,使用时直接用<code>/about /messages</code>指定路径。</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 这里配置子菜单，使用 nested 字段</span></span><br><span class=\"line\"><span class=\"attr\">nested:</span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"attr\">id:</span> <span class=\"string\">archives</span></span><br><span class=\"line\">    <span class=\"attr\">title:</span> <span class=\"string\">归档</span></span><br><span class=\"line\">    <span class=\"attr\">url:</span> <span class=\"string\">/archives</span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"attr\">id:</span> <span class=\"string\">categories</span></span><br><span class=\"line\">    <span class=\"attr\">title:</span> <span class=\"string\">分类</span></span><br><span class=\"line\">    <span class=\"attr\">url:</span> <span class=\"string\">/categories</span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"attr\">id:</span> <span class=\"string\">tags</span></span><br><span class=\"line\">    <span class=\"attr\">title:</span> <span class=\"string\">标签</span></span><br><span class=\"line\">    <span class=\"attr\">url:</span> <span class=\"string\">/tags</span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"attr\">id:</span> <span class=\"string\">messages</span></span><br><span class=\"line\">    <span class=\"attr\">title:</span> <span class=\"string\">留言</span></span><br><span class=\"line\">    <span class=\"attr\">url:</span> <span class=\"string\">/messages</span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"attr\">id:</span> <span class=\"string\">rss</span></span><br><span class=\"line\">    <span class=\"attr\">title:</span> <span class=\"string\">RSS</span></span><br><span class=\"line\">    <span class=\"attr\">url:</span> <span class=\"string\">/atom.xml</span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"attr\">id:</span> <span class=\"string\">friends</span></span><br><span class=\"line\">    <span class=\"attr\">title:</span> <span class=\"string\">友链</span></span><br><span class=\"line\">    <span class=\"attr\">url:</span> <span class=\"string\">/friends</span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"attr\">id:</span> <span class=\"string\">about</span></span><br><span class=\"line\">    <span class=\"attr\">title:</span> <span class=\"string\">关于</span></span><br><span class=\"line\">    <span class=\"attr\">url:</span> <span class=\"string\">/about</span></span><br></pre></td></tr></table></figure>","popularPost_tmp_postPath":true,"eyeCatchImage":"https://u.sam7.top/NYCBsQ","popularPost_tmp_gaData":{"updated":"Mon Oct 20 2025 22:08:35 GMT+0800 (中国标准时间)","title":"博客搭建hexo & stellar安装配置","path":"博客搭建/blog/hexo&stellar主题配置/","eyeCatchImage":"https://u.sam7.top/NYCBsQ","excerpt":null,"date":{"_isAMomentObject":true,"_i":"2025-09-20T10:19:42.000Z","_isUTC":false,"_pf":{"empty":false,"unusedTokens":[],"unusedInput":[],"overflow":-2,"charsLeftOver":0,"nullInput":false,"invalidEra":null,"invalidMonth":null,"invalidFormat":false,"userInvalidated":false,"iso":false,"parsedDateParts":[],"era":null,"meridiem":null,"rfc2822":false,"weekdayMismatch":false},"_locale":{"_calendar":{"sameDay":"[Today at] LT","nextDay":"[Tomorrow at] LT","nextWeek":"dddd [at] LT","lastDay":"[Yesterday at] LT","lastWeek":"[Last] dddd [at] LT","sameElse":"L"},"_longDateFormat":{"LTS":"h:mm:ss A","LT":"h:mm A","L":"MM/DD/YYYY","LL":"MMMM D, YYYY","LLL":"MMMM D, YYYY h:mm A","LLLL":"dddd, MMMM D, YYYY h:mm A"},"_invalidDate":"Invalid date","_dayOfMonthOrdinalParse":{},"_relativeTime":{"future":"in %s","past":"%s ago","s":"a few seconds","ss":"%d seconds","m":"a minute","mm":"%d minutes","h":"an hour","hh":"%d hours","d":"a day","dd":"%d days","w":"a week","ww":"%d weeks","M":"a month","MM":"%d months","y":"a year","yy":"%d years"},"_months":["January","February","March","April","May","June","July","August","September","October","November","December"],"_monthsShort":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"_week":{"dow":0,"doy":6},"_weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"_weekdaysMin":["Su","Mo","Tu","We","Th","Fr","Sa"],"_weekdaysShort":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"_meridiemParse":{},"_eras":[{"since":"0001-01-01","until":null,"offset":1,"name":"Anno Domini","narrow":"AD","abbr":"AD"},{"since":"0000-12-31","until":null,"offset":1,"name":"Before Christ","narrow":"BC","abbr":"BC"}],"_abbr":"en","_config":{"calendar":{"sameDay":"[Today at] LT","nextDay":"[Tomorrow at] LT","nextWeek":"dddd [at] LT","lastDay":"[Yesterday at] LT","lastWeek":"[Last] dddd [at] LT","sameElse":"L"},"longDateFormat":{"LTS":"h:mm:ss A","LT":"h:mm A","L":"MM/DD/YYYY","LL":"MMMM D, YYYY","LLL":"MMMM D, YYYY h:mm A","LLLL":"dddd, MMMM D, YYYY h:mm A"},"invalidDate":"Invalid date","dayOfMonthOrdinalParse":{},"relativeTime":{"future":"in %s","past":"%s ago","s":"a few seconds","ss":"%d seconds","m":"a minute","mm":"%d minutes","h":"an hour","hh":"%d hours","d":"a day","dd":"%d days","w":"a week","ww":"%d weeks","M":"a month","MM":"%d months","y":"a year","yy":"%d years"},"months":["January","February","March","April","May","June","July","August","September","October","November","December"],"monthsShort":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"week":{"dow":0,"doy":6},"weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"weekdaysMin":["Su","Mo","Tu","We","Th","Fr","Sa"],"weekdaysShort":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"meridiemParse":{},"eras":[{"since":"0001-01-01","until":null,"offset":1,"name":"Anno Domini","narrow":"AD","abbr":"AD"},{"since":"0000-12-31","until":null,"offset":1,"name":"Before Christ","narrow":"BC","abbr":"BC"}],"abbr":"en"},"_dayOfMonthOrdinalParseLenient":{}},"_d":"2025-09-20T10:19:42.000Z","_isValid":true,"_z":null},"pv":0,"totalPV":0,"categories":"博客搭建","tags":["hexo配置","stellar主题"],"internalLinks":[],"keywords":[],"keywordsLength":0}},{"title":"hexo部署","abbrlink":55230,"date":"2025-10-07T04:17:21.000Z","_content":"\n### 0. 前言\n\nHexo 部署是将本地生成的静态博客内容发布到服务器或托管平台的过程，常见的部署目标包括 GitHub Pages、Netlify、Vercel、Cloudflare Pages 等。以下是详细的部署步骤和常见问题解决方案，实现一次推送完成GitHub Pages、Vercel、Cloudflare Pages 三个平台部署。\n\n### 1. 部署前提\n\n- **Github/Vercel/Cloudflare**账号,免费额度个人博客够用了。\n- 一个 **Git 仓库**（GitHub、GitLab 均可），存放你的 Hexo 源代码（非 `public` 目录，需包含 `_config.yml`、`package.json`、`source` 等核心文件）。\n- 本地已完成 Hexo 博客搭建，能通过 `hexo g` 生成 `public` 目录（确保本地构建正常）。\n\n### 2. 部署到 GitHub Pages\n\n适合个人博客，免费但有时候不太稳定，当备用站使用，具体操作步骤如下：\n\n- 在Github新建仓库，仓库名为  `yourname.github.io`，确保仓库为公共仓库。\n然后在仓库设置中打开Github Pages功能。\n- 然后在博客文件夹下安装部署插件`npm install hexo-deployer-git --save`\n\n- 修改 `_config.yml`主题配置文件`deploy`信息，详细配置如下。\n\n```yaml 主题配置文件\ndeploy:\n   type: git\n   repo: https://github.com/yourname/yourname.github.io.git  # 仓库地址\n   branch: main  # 部署分支（默认 main 或 master，根据仓库设置调整）\n   message: \"Hexo deploy: {{ now('YYYY-MM-DD HH:mm:ss') }}\"  # 提交信息（可选）\n```\n\n- 终端执行`hexo clean && hexo g && hexo d  # 清理、生成、部署` ，部署成功后，访问 `https://yourname.github.io` 即可看到博客，也可以重定向绑定自己的域名，由Cloudflare托管。\n\n### 3. 部署到 Cloudflare Pages\n\nCloudflare Pages 提供全球 CDN 加速，国内访问速度较快，目前作为主站使用。\n\n#### 3.1 推送Hexo源码到 GitHub\n\n确保仓库包含完整的 Hexo 源代码（包括 `package.json`、`_config.yml` 等），而非仅 `public` 目录，使用Github部署仓库修改即可。\nCloudflare Pages 需通过 Git 仓库拉取代码并自动构建，因此需先将本地代码推送到远程仓库：\n\n- **初始化本地 Git 仓库**（若未初始化）：\n\n   ```bash\n   cd blog # 进入 Hexo 博客根目录\n   git branch -m main #不然会报错\n   git init # 初始化 Git\n   # 创建 .gitignore 文件（关键！避免提交不必要的文件）\n   cat > .gitignore << EOF\n   node_modules/\n   public/\n   .deploy_git/\n   *.log\n   .DS_Store\n   Thumbs.db\n   EOF\n   ```\n\n- **提交并推送代码到远程仓库**：\n\n   ```bash 终端\n   git add . # 添加所有文件（排除 .gitignore 中指定的内容）\n   git commit -m \"Initial commit: Hexo source code\" # 提交\n   # 切换到 SSH 协议，生成 SSH 密钥，一路回车默认即可,密码可以为空。\n   ssh-keygen -t ed25519 -C \"你的GitHub邮箱\"\n   cat ~/.ssh/id_ed25519.pub  #查看公钥内容（复制全部输出）\n   #登录 GitHub，进入 `Settings` → `SSH and GPG keys` → `New SSH key`，粘贴公钥并保存。\n   git remote set-url origin git@github.com:sam7xx/sam7xx.github.io.git# 关联远程仓库（替换为你的仓库地址）\n   git push origin main #执行推送，如果不再提示认证失败，说明配置成功。\n   ```\n\n#### 3.2 Cloudflare 创建 Pages\n\n- 注册Cloudflare账号，登录后进入 [Cloudflare Pages](https://dash.cloudflare.com/) → 点击 **Create a project** → 关联你的 Git 仓库。\n- **构建配置**：\n  - 框架预设：没有Hexo选项，空着。\n  - 构建命令：`npm install && npm run build`这里执行安装`package.json`里面的插件和命令。\n  - 输出目录：`public`\n  - 环境变量：`NODE_VERSION=22`控制nodejs版本与你构建一致\n  - 根目录：留空默认/\n\n#### 3.3 部署与访问\n\n点击 **Save and Deploy**，等待构建完成后，通过 Cloudflare 分配的域名（如 `xxx.pages.dev`）访问。\n若你有自己的域名（如 `blog.example.com`），可绑定到 Cloudflare Pages，实现全球代理发送你的网站：\n\n- 将域名解析到 Cloudflare， 在 Cloudflare 控制台 → **Websites** → 点击 **Add a site**，输入你的域名（如 `example.com`），按提示完成 DNS 解析配置（将域名服务器改为 Cloudflare 提供的服务器）。\n\n- 在 Pages 项目中绑定域名，进入你的 Pages 项目 → **Custom domains** → **Set up a custom domain** → 输入子域名（如 `blog.example.com`）→ 点击 **Add custom domain**。Cloudflare 会自动添加 DNS 记录（CNAME 指向 `项目名.pages.dev`），并配置免费 SSL 证书（几分钟后生效）。\n\n- 更新 Hexo 配置，为避免静态资源路径错误，需修改 Hexo 根目录的 `_config.yml`：\n\n   ```yaml\n   url: https://blog.example.com  # 改为你的自定义域名\n   root: /  # 保持默认\n   ```\n\n   推送修改后，Cloudflare 会自动重新构建，确保资源路径正确。\n\n### 4. 部署到 Netlify/Vercel\n\n#### 4.1 Netlify部署\n\n这两个平台均支持自动构建部署，比Cloudflare简单，大概步骤类似，默认设置点点点搞定，目前Vercel作为备用站：\n\n- 在 Netlify/Vercel 控制台导入 Hexo 源代码仓库。\n\n- **配置构建参数**\n  \n  - 框架预设：`hexo`\n  - 构建命令：`hexo generate`\n  - 输出目录：`public`\n\n- **部署**\n\n   平台会自动安装依赖（`npm install`）并执行构建，完成后提供临时域名，支持绑定自定义域名。\n\n#### 4.2 集成 Vercel 分析工具\n\n在 Hexo 中集成 Vercel 分析工具 `@vercel/analytics` 需要通过修改主题模板，将分析代码注入到所有页面中（因为 Hexo 是静态站点生成器，需确保代码被打包到最终生成的 HTML 里）。具体步骤如下：\n\n步骤 1：安装依赖\n\n在 Hexo 项目根目录（即 `_config.yml` 所在目录）执行以下命令，安装 `@vercel/analytics`：\n\n```bash\nnpm install @vercel/analytics --save\n```\n\n步骤 2：创建分析代码注入脚本\n\n由于 Hexo 不直接支持在模板中导入 npm 包，需要先将 `@vercel/analytics` 的核心代码提取为可在浏览器中运行的脚本，再注入到页面中。\n\n1. 在 Hexo 项目的 `source/js/` 目录下（如果没有 `js` 目录则创建），新建 `vercel-analytics.js` 文件，内容如下：\n\n   ```js\n   // 从 @vercel/analytics 包中提取核心逻辑（适配浏览器环境）\n   (function() {\n     const script = document.createElement('script');\n     script.src = 'https://cdn.vercel-insights.com/v1/script.js';\n     script.defer = true;\n     // 替换为你的 Vercel 项目 ID（可选，不填则自动关联当前部署的项目）\n     // script.dataset.project = '你的项目ID'; \n     document.head.appendChild(script);\n   })();\n   ```\n\n   说明：这是 Vercel 官方提供的 CDN 方式，无需依赖本地 npm 包，更适合静态站点（比直接导入 npm 包更简单）。\n\n步骤 3：修改主题模板，注入脚本\n\n需要将上述脚本添加到所有页面的 `<head>` 或 `<body>` 中（推荐放在 `<head>` 底部，不阻塞页面渲染）。\n\n1. 找到你正在使用的 Hexo 主题的布局文件，通常在 `themes/[你的主题名]/layout/` 目录下，常见的全局模板文件有：\n\n   - `_partial/head.ejs`（头部模板，所有页面都会加载）\n   - `_partial/footer.ejs`（底部模板）\n\n   以主流主题（如 Next、Stellar 等）为例，推荐修改 `head.ejs`：\n\n2. 编辑 `themes/[你的主题名]/layout/_partial/head.ejs`，在文件末尾添加以下代码（引入刚才创建的脚本）：\n\n   ```ejs\n   <!-- 引入 Vercel Analytics 脚本 -->\n   <% if (!is_amp()) { %> <!-- 非 AMP 页面才加载 -->\n     <script src=\"/js/vercel-analytics.js\"></script>\n   <% } %>\n   ```\n\n   说明：\n\n   - `is_amp()` 是 Hexo 的内置函数，用于排除 AMP 页面（避免冲突），如果你的主题不支持 AMP，可以直接写 `<script src=\"/js/vercel-analytics.js\"></script>`。\n   - 路径 `/js/vercel-analytics.js` 对应步骤 2 中创建的 `source/js/vercel-analytics.js`（Hexo 会将 `source` 目录下的文件直接复制到生成的静态文件中）。\n\n步骤 4：构建并部署\n\n1. 本地测试是否生效：\n\n   ```bash\n   hexo clean && hexo g && hexo s\n   ```\n\n   启动后访问 `http://localhost:4000`，打开浏览器开发者工具（F12）的「Network」面板，查看是否加载了 `vercel-analytics.js` 和 `script.js`（来自 Vercel CDN），若有则说明注入成功。\n\n2. 部署到 Vercel：\n\n   将代码提交到关联 Vercel 的 Git 仓库，Vercel 会自动构建部署：\n\n   ```bash\n   git add .\n   git commit -m \"Add Vercel Analytics to Hexo\"\n   git push origin main\n   ```\n\n步骤 5：验证数据\n\n部署成功后，登录 [Vercel 控制台](https://vercel.com/)，进入你的 Hexo 项目，左侧菜单点击「Analytics」，即可查看访问数据（通常有 5-10 分钟延迟）。\n\n### 5.  **GitHub Actions** 工作流配置\n\n要实现一次代码推送后自动部署到 **GitHub Pages、Vercel、Cloudflare Pages** 三个平台，可通过 **GitHub Actions** 配置统一的工作流。以下是针对这三个平台的详细自动化部署方案：\n\n#### 5.1 准备\n\n1. 项目已托管在 GitHub 仓库（如 Hexo、Vue、React 等静态项目）。\n2. 已在三个平台完成基础配置：\n   - **GitHub Pages**：仓库开启 Pages 功能（目标分支设为 `gh-pages`）。\n   - **Vercel**：导入 GitHub 仓库创建项目（无需手动部署，后续通过 Action 触发）。\n   - **Cloudflare Pages**：通过 GitHub 关联仓库创建项目（构建命令和输出目录先暂填，后续通过 Action 覆盖）。\n3. 获取各平台的部署凭证（敏感信息，存储在 GitHub Secrets 中）：\n\n| 平台             | 所需凭证                                              | 获取方式                                                     |\n| ---------------- | ----------------------------------------------------- | ------------------------------------------------------------ |\n| GitHub Pages     | 个人访问令牌（PAT），需勾选 `repo` 和 `workflow` 权限 | [GitHub PAT 生成](https://github.com/settings/tokens/new)    |\n| Vercel           | Vercel 令牌（Token）+ 项目 ID+USER ID                 | Vercel 控制台 → 账户设置 → `Tokens`；项目设置 → `General` 中获取项目 ID;菜单中找到 Account→ Genera→ USER ID |\n| Cloudflare Pages | Cloudflare API 令牌 + 账户 ID + 项目名称              | Cloudflare 控制台 → 我的个人资料 → `API Tokens`（创建含 `Pages:Edit` 权限的令牌）；账户 ID 在 Workers 和 Pages 页面获取；项目名称为 Cloudflare Pages 中创建的项目名 |\n\n#### 5.2 配置 GitHub Actions\n\n- 进入 GitHub 仓库 → `Settings` → `Secrets and variables` → `Actions` → `New repository secret`，添加以下凭证：\n\n  - `GH_TOKEN`：GitHub Pages 的 PAT\n\n  - `VERCEL_TOKEN`：Vercel 令牌\n\n  - `VERCEL_ORG_ID`：Vercel组织/用户ID\n\n  - `VERCEL_PROJECT_ID`：Vercel 项目 ID\n\n  - `CF_API_TOKEN`：Cloudflare API 令牌\n\n  - `CF_ACCOUNT_ID`：Cloudflare 账户 ID\n\n  - `CF_PROJECT_NAME`：Cloudflare Pages 项目名称\n\n- 创建工作流配置文件，在项目根目录创建 `.github/workflows/deploy.yml`，内容如下：\n\n{% folding 查看代码 %}\n\n```yaml deploy.yaml\nname: hexo部署流程\non:\n  push:\n    branches: [ main ]\n  workflow_dispatch:\n\njobs:\n  deploy:\n    runs-on: ubuntu-latest\n    timeout-minutes: 30\n\n    steps:\n      - name: 拉取代码\n        uses: actions/checkout@v4\n        with:\n          fetch-depth: 0\n          submodules: 'recursive'\n\n      - name: 检查是否忽略public目录（关键！）\n        run: |\n          echo \"===== 检查.gitignore是否排除public =====\"\n          if grep -q \"public\" .gitignore; then\n            echo \"⚠️ 注意：.gitignore中包含public，会被忽略（正常现象）\"\n          else\n            echo \"✅ .gitignore中未忽略public\"\n          fi\n          # 显示.gitignore内容\n          cat .gitignore || echo \"无.gitignore文件\"\n\n      - name: 安装Node.js\n        uses: actions/setup-node@v4\n        with:\n          node-version: 22.19.0\n          cache: 'npm'\n\n      - name: 安装依赖\n        run: |\n          npm install hexo-cli -g\n          npm install --force\n          npm install hexo-theme-stellar@latest --save  # 确保主题被安装\n          cd themes/stellar && npm install && cd ../../\n\n      - name: 构建public并记录内容\n        run: |\n          hexo clean\n          echo \"===== 开始构建public =====\"\n          hexo generate\n          \n          # 记录public目录详情（关键调试信息）\n          echo \"===== public目录状态 =====\"\n          if [ ! -d \"public\" ]; then\n            echo \"❌ public目录未生成！\"\n            exit 1\n          fi\n          \n          echo \"public目录路径：$(pwd)/public\"\n          echo \"public目录大小：$(du -sh public)\"\n          echo \"public目录文件列表（前20个）：\"\n          ls -la public | head -n 20\n          echo \"public/index.html内容（前10行）：\"\n          head -n 10 public/index.html || echo \"❌ 无index.html\"\n\n      # 新增步骤：设置带时间戳的环境变量\n      - name: 设置部署时间变量\n        run: |\n          echo \"DEPLOY_TIMESTAMP=$(date +'%Y-%m-%d %H:%M:%S')\" >> $GITHUB_ENV\n          echo \"已设置部署时间：${{ env.DEPLOY_TIMESTAMP }}\"\n\n      - name: 部署到gh-pages分支（带推送日志）\n        uses: peaceiris/actions-gh-pages@v4\n        with:\n          github_token: ${{ secrets.GH_TOKEN }}\n          publish_dir: ./public  # 确认推送的是public目录下的内容\n          publish_branch: gh-pages\n          force_orphan: true\n          keep_files: false\n          enable_jekyll: false\n          # 使用环境变量中的时间戳\n          commit_message: \"Deploy public content: ${{ env.DEPLOY_TIMESTAMP }}\"\n\n      - name: 验证gh-pages分支内容\n        run: |\n          echo \"===== 克隆gh-pages分支验证 =====\"\n          git clone -b gh-pages https://github.com/${{ github.repository }} gh-pages-check\n          \n          echo \"===== gh-pages分支根目录内容 =====\"\n          ls -la gh-pages-check\n          \n          echo \"===== 检查是否有index.html =====\"\n          if [ -f \"gh-pages-check/index.html\" ]; then\n            echo \"✅ gh-pages分支存在index.html，部署成功！\"\n            echo \"访问地址：https://${{ github.repository_owner }}.github.io/${{ github.event.repository.name }}/\"\n          else\n            echo \"❌ gh-pages分支无index.html，部署失败！\"\n            exit 1\n          fi\n```\n\n{% endfolding %}\n\n- 推送代码触发自动部署\n\n```bash\n# 提交工作流文件\ngit add .github/workflows/deploy.yml\ngit commit -m \"Add auto-deploy workflow to 3 platforms\"\ngit push origin main\n```\n\n也可以写入脚本`deploy.sh`，放在博客根目录，更新博客后终端执行./deploy.sh即可完成代码推送至Github。\n{% folding 查看代码 %}\n\n```sh deploy.sh\n#!/bin/bash\nset -euo pipefail  # 严格模式：遇错即停，防止未定义变量\n\n# ==============================================\n# 配置区（根据项目调整）\n# ==============================================\nREMOTE_BRANCH=\"main\"               # 远程目标分支\n# ==============================================\n# 输出格式化函数（带颜色标识）\ninfo() { echo -e \"\\033[34mℹ️ $1\\033[0m\"; }\nsuccess() { echo -e \"\\033[32m✅ $1\\033[0m\"; }\nwarning() { echo -e \"\\033[33m⚠️ $1\\033[0m\"; }\nerror() { echo -e \"\\033[31m❌ $1\\033[0m\" && exit 1; }\n\n# 1. 检查项目是否有变更（任何文件的修改/新增/删除）\ncheck_project_changes() {\n    info \"检查Hexo项目是否有变更...\"\n    # 检查工作区和暂存区是否有变化（忽略.gitignore中的文件）\n    if git diff --quiet --exit-code && git diff --cached --quiet --exit-code; then\n        warning \"项目未检测到任何变更，无需提交推送\"\n        exit 0\n    fi\n}\n\n# 2. 同步远程最新代码（避免推送冲突）\nsync_remote() {\n    info \"同步远程$REMOTE_BRANCH分支最新代码...\"\n    if ! git pull origin \"$REMOTE_BRANCH\"; then\n        error \"拉取远程代码冲突！请手动解决后再运行脚本：\\ngit pull origin $REMOTE_BRANCH\"\n    fi\n}\n# 3. 提交所有变更并推送\ncommit_and_deploy() {\n    info \"提交所有项目变更...\"\n    # 添加所有变更（.gitignore会自动过滤不需要的文件）\n    git add . || error \"添加文件到暂存区失败\"\n    # 生成包含变更类型的提交信息\n    local change_count\n    change_count=$(git status --porcelain | wc -l | tr -d ' ')  # 统计变更文件数\n    local commit_msg=\"Hexo项目更新 ($change_count 个文件): $(date +'%Y-%m-%d %H:%M:%S')\"\n    git commit -m \"$commit_msg\" || error \"提交失败（可能存在未解决的冲突）\"\n    \n    # 推送至远程，触发三平台部署\n    info \"推送至远程$REMOTE_BRANCH分支，触发自动化部署...\"\n    git push origin \"$REMOTE_BRANCH\" || error \"推送失败（检查网络或权限）\"\n    \n    success \"所有变更已推送！三平台自动化部署将自动触发\"\n}\n# 主流程\nmain() {\n    info \"===== Hexo全项目自动部署工具 =====\"\n    check_project_changes\n    sync_remote\n    commit_and_deploy\n    info \"===================================\"\n}\nmain \"$@\"\n```\n\n{% endfolding %}\n\n```bash\n$ ./deploy.sh\nℹ️ ===== Hexo全项目自动部署工具 =====\nℹ️ 检查Hexo项目是否有变更...\nℹ️ 同步远程main分支最新代码...\nFrom github.com:xxxxx/xxxxx.github.io\n * branch            main       -> FETCH_HEAD\nAlready up to date.\nℹ️ 提交所有项目变更...\n[main 62bbb8f] Hexo项目更新 (10 个文件): 2025-10-19 10:56:44\n 10 files changed, 865 insertions(+), 182 deletions(-)\n create mode 100644 db.json\n create mode 100644 themes/stellar/source/art-title.css\nℹ️ 推送至远程main分支，触发自动化部署...\nEnumerating objects: 41, done.\nCounting objects: 100% (41/41), done.\nDelta compression using up to 16 threads\nCompressing objects: 100% (20/20), done.\nWriting objects: 100% (22/22), 184.16 KiB | 416.00 KiB/s, done.\nTotal 22 (delta 15), reused 0 (delta 0), pack-reused 0\nremote: Resolving deltas: 100% (15/15), completed with 15 local objects.\nTo github.com:xxxxx/xxxxx.github.io.git\n   206a451..62bbb8f  main -> main\n✅ 所有变更已推送！三平台自动化部署将自动触发\nℹ️ ===================================\n```\n\n\n\n- 查看部署状态\n\n- 部署进度：GitHub 仓库 → `Actions` → 选择当前工作流 → 查看实时日志。\n\n    ![image-20251017221817925](https://u.sam7.top/t362xw)\n\n- 结果验证：\n  - GitHub Pages：访问 `https://<用户名>.github.io/<仓库名>`\n  - Vercel：访问 Vercel 项目分配的域名（如 `<项目名>.vercel.app`）\n  - Cloudflare Pages：访问 Cloudflare 分配的域名（如 `<项目名>.pages.dev`）\n\n- **部署失败排查**：\n\n    查看 GitHub Actions 日志中的错误信息，常见问题：\n\n  - 凭证错误（Secrets 名称或值不正确）\n  - 构建命令失败（依赖安装错误，需检查 `package.json`）\n  - 静态文件目录错误（确保 `publish_dir` 与实际输出目录一致）\n\n通过此配置，每次向 `main` 分支推送代码时，GitHub Actions 会自动完成构建并同步部署到三个平台，实现 “一次推送，多平台联动更新”。\n\n#### 5.3  常见问题与解决\n\n- **部署后页面空白 / 样式丢失**\n  - 原因：`_config.yml` 中 `url` 配置错误，或静态资源路径引用问题。\n  - 解决：确保 `url` 与实际域名一致（如 `url: https://yourname.github.io`），并执行 `hexo clean` 重新生成。\n\n- **平台构建失败（提示缺少依赖）**\n  - 原因：`package.json` 未提交到仓库，或依赖未正确声明。\n  - 解决：确保 `package.json` 和 `package-lock.json` 已提交，必要时在构建命令前加 `npm install`（如 `npm install && hexo generate`）。\n\n- **部署后 404 错误**\n  - 原因：部署分支或输出目录配置错误。\n  - 解决：确认 GitHub Pages 指向的分支正确（如 `main`），或 Cloudflare/Netlify 的输出目录为 `public`。\n\n- **Github 自动部署jekyll构建问题**\n\n   ![image-20251017222248947](https://u.sam7.top/ZsxpAJ)\n\n  - 原因：Github默认使用jekyll主题构建，识别到主题不是jekyll报错。\n  - 解决：可以生成一个.nojekyll文件来禁用jekyll部署，再工作流中增加public文件下.nojekyll\n  - 根目录也添加 `.nojekyll`（双重保险）,虽然工作流已在 `public` 目录生成 `.nojekyll`，但可在仓库根目录也添加一个，防止 GitHub 误读：\n\n   ```bash\n   # 本地仓库根目录执行\n   touch .nojekyll\n   git add .nojekyll\n   git commit -m \"根目录添加.nojekyll，禁用Jekyll\"\n   git push origin main\n   ```\n\n   通过以上步骤，能从工作流配置、仓库设置、缓存清理三个层面彻底禁用 Jekyll，确保 GitHub Pages 直接托管 Hexo 生成的静态文件。核心逻辑是：**确保 `.nojekyll` 被正确部署到 `gh-pages` 分支的根目录，且 GitHub 识别到该文件**。\n\n### 6. **笔记**\n\n- - 本地 Git 仓库应跟踪 Hexo 源代码（`_config.yml`、`source`、`themes` 等），而非 `public` 目录（可在 `.gitignore` 中忽略）。\n  - 部署平台通过源代码自动构建生成 `public` 目录，避免手动上传静态文件。\n  \n- **定期备份配置**\n\n   重要配置文件（`_config.yml`、主题配置 `_config.stellar.yml` 等）建议备份，避免误删。\n\n- **绑定自定义域名**\n\n   各平台均支持绑定自定义域名，需在域名解析平台添加对应的 DNS 记录（如 CNAME 指向平台提供的域名）。\n\n\n- **自动部署配置（代码更新后自动同步）**\n\n   Cloudflare Pages 默认开启 **自动部署**：当你向关联的 Git 分支（如 `main`）推送新代码时，会自动触发构建并更新博客，无需手动操作。\n   验证自动部署：\n\n   ```bash\n   # 本地修改一篇文章或配置\n   git add .\n   git commit -m \"Update blog content\"\n   git push origin main\n   ```\n\n   推送后，在 Cloudflare Pages 控制台的 **Deployments** 页面会看到新的构建任务，完成后博客会自动更新。\n   通过以上步骤，可顺利将 Hexo 博客部署到主流平台。若遇到具体错误，可结合部署日志（如平台提供的构建日志）定位问题，重点检查配置文件和依赖是否正确。\n\n### 7. 总结\n\n以上几种部署 Hexo 的核心流程是：**Git 仓库关联 → 配置构建参数 → 自动构建部署**。其优势在于依托于Cloudflare Pages 免费、全球 CDN 加速、自动部署和简单的域名绑定。按上述步骤操作，即使是新手也能顺利完成部署，且国内访问速度优于 GitHub Pages。若遇到具体错误，可在 Cloudflare Pages 的 **Deployments** 页面查看详细日志，针对性解决即可。","source":"_posts/blog/hexo博客部署.md","raw":"---\ntitle: hexo部署\ntags:\n  - hexo配置\n  - hexo部署\ncategories: 博客搭建\nabbrlink: 55230\ndate: 2025-10-07 12:17:21\n---\n\n### 0. 前言\n\nHexo 部署是将本地生成的静态博客内容发布到服务器或托管平台的过程，常见的部署目标包括 GitHub Pages、Netlify、Vercel、Cloudflare Pages 等。以下是详细的部署步骤和常见问题解决方案，实现一次推送完成GitHub Pages、Vercel、Cloudflare Pages 三个平台部署。\n\n### 1. 部署前提\n\n- **Github/Vercel/Cloudflare**账号,免费额度个人博客够用了。\n- 一个 **Git 仓库**（GitHub、GitLab 均可），存放你的 Hexo 源代码（非 `public` 目录，需包含 `_config.yml`、`package.json`、`source` 等核心文件）。\n- 本地已完成 Hexo 博客搭建，能通过 `hexo g` 生成 `public` 目录（确保本地构建正常）。\n\n### 2. 部署到 GitHub Pages\n\n适合个人博客，免费但有时候不太稳定，当备用站使用，具体操作步骤如下：\n\n- 在Github新建仓库，仓库名为  `yourname.github.io`，确保仓库为公共仓库。\n然后在仓库设置中打开Github Pages功能。\n- 然后在博客文件夹下安装部署插件`npm install hexo-deployer-git --save`\n\n- 修改 `_config.yml`主题配置文件`deploy`信息，详细配置如下。\n\n```yaml 主题配置文件\ndeploy:\n   type: git\n   repo: https://github.com/yourname/yourname.github.io.git  # 仓库地址\n   branch: main  # 部署分支（默认 main 或 master，根据仓库设置调整）\n   message: \"Hexo deploy: {{ now('YYYY-MM-DD HH:mm:ss') }}\"  # 提交信息（可选）\n```\n\n- 终端执行`hexo clean && hexo g && hexo d  # 清理、生成、部署` ，部署成功后，访问 `https://yourname.github.io` 即可看到博客，也可以重定向绑定自己的域名，由Cloudflare托管。\n\n### 3. 部署到 Cloudflare Pages\n\nCloudflare Pages 提供全球 CDN 加速，国内访问速度较快，目前作为主站使用。\n\n#### 3.1 推送Hexo源码到 GitHub\n\n确保仓库包含完整的 Hexo 源代码（包括 `package.json`、`_config.yml` 等），而非仅 `public` 目录，使用Github部署仓库修改即可。\nCloudflare Pages 需通过 Git 仓库拉取代码并自动构建，因此需先将本地代码推送到远程仓库：\n\n- **初始化本地 Git 仓库**（若未初始化）：\n\n   ```bash\n   cd blog # 进入 Hexo 博客根目录\n   git branch -m main #不然会报错\n   git init # 初始化 Git\n   # 创建 .gitignore 文件（关键！避免提交不必要的文件）\n   cat > .gitignore << EOF\n   node_modules/\n   public/\n   .deploy_git/\n   *.log\n   .DS_Store\n   Thumbs.db\n   EOF\n   ```\n\n- **提交并推送代码到远程仓库**：\n\n   ```bash 终端\n   git add . # 添加所有文件（排除 .gitignore 中指定的内容）\n   git commit -m \"Initial commit: Hexo source code\" # 提交\n   # 切换到 SSH 协议，生成 SSH 密钥，一路回车默认即可,密码可以为空。\n   ssh-keygen -t ed25519 -C \"你的GitHub邮箱\"\n   cat ~/.ssh/id_ed25519.pub  #查看公钥内容（复制全部输出）\n   #登录 GitHub，进入 `Settings` → `SSH and GPG keys` → `New SSH key`，粘贴公钥并保存。\n   git remote set-url origin git@github.com:sam7xx/sam7xx.github.io.git# 关联远程仓库（替换为你的仓库地址）\n   git push origin main #执行推送，如果不再提示认证失败，说明配置成功。\n   ```\n\n#### 3.2 Cloudflare 创建 Pages\n\n- 注册Cloudflare账号，登录后进入 [Cloudflare Pages](https://dash.cloudflare.com/) → 点击 **Create a project** → 关联你的 Git 仓库。\n- **构建配置**：\n  - 框架预设：没有Hexo选项，空着。\n  - 构建命令：`npm install && npm run build`这里执行安装`package.json`里面的插件和命令。\n  - 输出目录：`public`\n  - 环境变量：`NODE_VERSION=22`控制nodejs版本与你构建一致\n  - 根目录：留空默认/\n\n#### 3.3 部署与访问\n\n点击 **Save and Deploy**，等待构建完成后，通过 Cloudflare 分配的域名（如 `xxx.pages.dev`）访问。\n若你有自己的域名（如 `blog.example.com`），可绑定到 Cloudflare Pages，实现全球代理发送你的网站：\n\n- 将域名解析到 Cloudflare， 在 Cloudflare 控制台 → **Websites** → 点击 **Add a site**，输入你的域名（如 `example.com`），按提示完成 DNS 解析配置（将域名服务器改为 Cloudflare 提供的服务器）。\n\n- 在 Pages 项目中绑定域名，进入你的 Pages 项目 → **Custom domains** → **Set up a custom domain** → 输入子域名（如 `blog.example.com`）→ 点击 **Add custom domain**。Cloudflare 会自动添加 DNS 记录（CNAME 指向 `项目名.pages.dev`），并配置免费 SSL 证书（几分钟后生效）。\n\n- 更新 Hexo 配置，为避免静态资源路径错误，需修改 Hexo 根目录的 `_config.yml`：\n\n   ```yaml\n   url: https://blog.example.com  # 改为你的自定义域名\n   root: /  # 保持默认\n   ```\n\n   推送修改后，Cloudflare 会自动重新构建，确保资源路径正确。\n\n### 4. 部署到 Netlify/Vercel\n\n#### 4.1 Netlify部署\n\n这两个平台均支持自动构建部署，比Cloudflare简单，大概步骤类似，默认设置点点点搞定，目前Vercel作为备用站：\n\n- 在 Netlify/Vercel 控制台导入 Hexo 源代码仓库。\n\n- **配置构建参数**\n  \n  - 框架预设：`hexo`\n  - 构建命令：`hexo generate`\n  - 输出目录：`public`\n\n- **部署**\n\n   平台会自动安装依赖（`npm install`）并执行构建，完成后提供临时域名，支持绑定自定义域名。\n\n#### 4.2 集成 Vercel 分析工具\n\n在 Hexo 中集成 Vercel 分析工具 `@vercel/analytics` 需要通过修改主题模板，将分析代码注入到所有页面中（因为 Hexo 是静态站点生成器，需确保代码被打包到最终生成的 HTML 里）。具体步骤如下：\n\n步骤 1：安装依赖\n\n在 Hexo 项目根目录（即 `_config.yml` 所在目录）执行以下命令，安装 `@vercel/analytics`：\n\n```bash\nnpm install @vercel/analytics --save\n```\n\n步骤 2：创建分析代码注入脚本\n\n由于 Hexo 不直接支持在模板中导入 npm 包，需要先将 `@vercel/analytics` 的核心代码提取为可在浏览器中运行的脚本，再注入到页面中。\n\n1. 在 Hexo 项目的 `source/js/` 目录下（如果没有 `js` 目录则创建），新建 `vercel-analytics.js` 文件，内容如下：\n\n   ```js\n   // 从 @vercel/analytics 包中提取核心逻辑（适配浏览器环境）\n   (function() {\n     const script = document.createElement('script');\n     script.src = 'https://cdn.vercel-insights.com/v1/script.js';\n     script.defer = true;\n     // 替换为你的 Vercel 项目 ID（可选，不填则自动关联当前部署的项目）\n     // script.dataset.project = '你的项目ID'; \n     document.head.appendChild(script);\n   })();\n   ```\n\n   说明：这是 Vercel 官方提供的 CDN 方式，无需依赖本地 npm 包，更适合静态站点（比直接导入 npm 包更简单）。\n\n步骤 3：修改主题模板，注入脚本\n\n需要将上述脚本添加到所有页面的 `<head>` 或 `<body>` 中（推荐放在 `<head>` 底部，不阻塞页面渲染）。\n\n1. 找到你正在使用的 Hexo 主题的布局文件，通常在 `themes/[你的主题名]/layout/` 目录下，常见的全局模板文件有：\n\n   - `_partial/head.ejs`（头部模板，所有页面都会加载）\n   - `_partial/footer.ejs`（底部模板）\n\n   以主流主题（如 Next、Stellar 等）为例，推荐修改 `head.ejs`：\n\n2. 编辑 `themes/[你的主题名]/layout/_partial/head.ejs`，在文件末尾添加以下代码（引入刚才创建的脚本）：\n\n   ```ejs\n   <!-- 引入 Vercel Analytics 脚本 -->\n   <% if (!is_amp()) { %> <!-- 非 AMP 页面才加载 -->\n     <script src=\"/js/vercel-analytics.js\"></script>\n   <% } %>\n   ```\n\n   说明：\n\n   - `is_amp()` 是 Hexo 的内置函数，用于排除 AMP 页面（避免冲突），如果你的主题不支持 AMP，可以直接写 `<script src=\"/js/vercel-analytics.js\"></script>`。\n   - 路径 `/js/vercel-analytics.js` 对应步骤 2 中创建的 `source/js/vercel-analytics.js`（Hexo 会将 `source` 目录下的文件直接复制到生成的静态文件中）。\n\n步骤 4：构建并部署\n\n1. 本地测试是否生效：\n\n   ```bash\n   hexo clean && hexo g && hexo s\n   ```\n\n   启动后访问 `http://localhost:4000`，打开浏览器开发者工具（F12）的「Network」面板，查看是否加载了 `vercel-analytics.js` 和 `script.js`（来自 Vercel CDN），若有则说明注入成功。\n\n2. 部署到 Vercel：\n\n   将代码提交到关联 Vercel 的 Git 仓库，Vercel 会自动构建部署：\n\n   ```bash\n   git add .\n   git commit -m \"Add Vercel Analytics to Hexo\"\n   git push origin main\n   ```\n\n步骤 5：验证数据\n\n部署成功后，登录 [Vercel 控制台](https://vercel.com/)，进入你的 Hexo 项目，左侧菜单点击「Analytics」，即可查看访问数据（通常有 5-10 分钟延迟）。\n\n### 5.  **GitHub Actions** 工作流配置\n\n要实现一次代码推送后自动部署到 **GitHub Pages、Vercel、Cloudflare Pages** 三个平台，可通过 **GitHub Actions** 配置统一的工作流。以下是针对这三个平台的详细自动化部署方案：\n\n#### 5.1 准备\n\n1. 项目已托管在 GitHub 仓库（如 Hexo、Vue、React 等静态项目）。\n2. 已在三个平台完成基础配置：\n   - **GitHub Pages**：仓库开启 Pages 功能（目标分支设为 `gh-pages`）。\n   - **Vercel**：导入 GitHub 仓库创建项目（无需手动部署，后续通过 Action 触发）。\n   - **Cloudflare Pages**：通过 GitHub 关联仓库创建项目（构建命令和输出目录先暂填，后续通过 Action 覆盖）。\n3. 获取各平台的部署凭证（敏感信息，存储在 GitHub Secrets 中）：\n\n| 平台             | 所需凭证                                              | 获取方式                                                     |\n| ---------------- | ----------------------------------------------------- | ------------------------------------------------------------ |\n| GitHub Pages     | 个人访问令牌（PAT），需勾选 `repo` 和 `workflow` 权限 | [GitHub PAT 生成](https://github.com/settings/tokens/new)    |\n| Vercel           | Vercel 令牌（Token）+ 项目 ID+USER ID                 | Vercel 控制台 → 账户设置 → `Tokens`；项目设置 → `General` 中获取项目 ID;菜单中找到 Account→ Genera→ USER ID |\n| Cloudflare Pages | Cloudflare API 令牌 + 账户 ID + 项目名称              | Cloudflare 控制台 → 我的个人资料 → `API Tokens`（创建含 `Pages:Edit` 权限的令牌）；账户 ID 在 Workers 和 Pages 页面获取；项目名称为 Cloudflare Pages 中创建的项目名 |\n\n#### 5.2 配置 GitHub Actions\n\n- 进入 GitHub 仓库 → `Settings` → `Secrets and variables` → `Actions` → `New repository secret`，添加以下凭证：\n\n  - `GH_TOKEN`：GitHub Pages 的 PAT\n\n  - `VERCEL_TOKEN`：Vercel 令牌\n\n  - `VERCEL_ORG_ID`：Vercel组织/用户ID\n\n  - `VERCEL_PROJECT_ID`：Vercel 项目 ID\n\n  - `CF_API_TOKEN`：Cloudflare API 令牌\n\n  - `CF_ACCOUNT_ID`：Cloudflare 账户 ID\n\n  - `CF_PROJECT_NAME`：Cloudflare Pages 项目名称\n\n- 创建工作流配置文件，在项目根目录创建 `.github/workflows/deploy.yml`，内容如下：\n\n{% folding 查看代码 %}\n\n```yaml deploy.yaml\nname: hexo部署流程\non:\n  push:\n    branches: [ main ]\n  workflow_dispatch:\n\njobs:\n  deploy:\n    runs-on: ubuntu-latest\n    timeout-minutes: 30\n\n    steps:\n      - name: 拉取代码\n        uses: actions/checkout@v4\n        with:\n          fetch-depth: 0\n          submodules: 'recursive'\n\n      - name: 检查是否忽略public目录（关键！）\n        run: |\n          echo \"===== 检查.gitignore是否排除public =====\"\n          if grep -q \"public\" .gitignore; then\n            echo \"⚠️ 注意：.gitignore中包含public，会被忽略（正常现象）\"\n          else\n            echo \"✅ .gitignore中未忽略public\"\n          fi\n          # 显示.gitignore内容\n          cat .gitignore || echo \"无.gitignore文件\"\n\n      - name: 安装Node.js\n        uses: actions/setup-node@v4\n        with:\n          node-version: 22.19.0\n          cache: 'npm'\n\n      - name: 安装依赖\n        run: |\n          npm install hexo-cli -g\n          npm install --force\n          npm install hexo-theme-stellar@latest --save  # 确保主题被安装\n          cd themes/stellar && npm install && cd ../../\n\n      - name: 构建public并记录内容\n        run: |\n          hexo clean\n          echo \"===== 开始构建public =====\"\n          hexo generate\n          \n          # 记录public目录详情（关键调试信息）\n          echo \"===== public目录状态 =====\"\n          if [ ! -d \"public\" ]; then\n            echo \"❌ public目录未生成！\"\n            exit 1\n          fi\n          \n          echo \"public目录路径：$(pwd)/public\"\n          echo \"public目录大小：$(du -sh public)\"\n          echo \"public目录文件列表（前20个）：\"\n          ls -la public | head -n 20\n          echo \"public/index.html内容（前10行）：\"\n          head -n 10 public/index.html || echo \"❌ 无index.html\"\n\n      # 新增步骤：设置带时间戳的环境变量\n      - name: 设置部署时间变量\n        run: |\n          echo \"DEPLOY_TIMESTAMP=$(date +'%Y-%m-%d %H:%M:%S')\" >> $GITHUB_ENV\n          echo \"已设置部署时间：${{ env.DEPLOY_TIMESTAMP }}\"\n\n      - name: 部署到gh-pages分支（带推送日志）\n        uses: peaceiris/actions-gh-pages@v4\n        with:\n          github_token: ${{ secrets.GH_TOKEN }}\n          publish_dir: ./public  # 确认推送的是public目录下的内容\n          publish_branch: gh-pages\n          force_orphan: true\n          keep_files: false\n          enable_jekyll: false\n          # 使用环境变量中的时间戳\n          commit_message: \"Deploy public content: ${{ env.DEPLOY_TIMESTAMP }}\"\n\n      - name: 验证gh-pages分支内容\n        run: |\n          echo \"===== 克隆gh-pages分支验证 =====\"\n          git clone -b gh-pages https://github.com/${{ github.repository }} gh-pages-check\n          \n          echo \"===== gh-pages分支根目录内容 =====\"\n          ls -la gh-pages-check\n          \n          echo \"===== 检查是否有index.html =====\"\n          if [ -f \"gh-pages-check/index.html\" ]; then\n            echo \"✅ gh-pages分支存在index.html，部署成功！\"\n            echo \"访问地址：https://${{ github.repository_owner }}.github.io/${{ github.event.repository.name }}/\"\n          else\n            echo \"❌ gh-pages分支无index.html，部署失败！\"\n            exit 1\n          fi\n```\n\n{% endfolding %}\n\n- 推送代码触发自动部署\n\n```bash\n# 提交工作流文件\ngit add .github/workflows/deploy.yml\ngit commit -m \"Add auto-deploy workflow to 3 platforms\"\ngit push origin main\n```\n\n也可以写入脚本`deploy.sh`，放在博客根目录，更新博客后终端执行./deploy.sh即可完成代码推送至Github。\n{% folding 查看代码 %}\n\n```sh deploy.sh\n#!/bin/bash\nset -euo pipefail  # 严格模式：遇错即停，防止未定义变量\n\n# ==============================================\n# 配置区（根据项目调整）\n# ==============================================\nREMOTE_BRANCH=\"main\"               # 远程目标分支\n# ==============================================\n# 输出格式化函数（带颜色标识）\ninfo() { echo -e \"\\033[34mℹ️ $1\\033[0m\"; }\nsuccess() { echo -e \"\\033[32m✅ $1\\033[0m\"; }\nwarning() { echo -e \"\\033[33m⚠️ $1\\033[0m\"; }\nerror() { echo -e \"\\033[31m❌ $1\\033[0m\" && exit 1; }\n\n# 1. 检查项目是否有变更（任何文件的修改/新增/删除）\ncheck_project_changes() {\n    info \"检查Hexo项目是否有变更...\"\n    # 检查工作区和暂存区是否有变化（忽略.gitignore中的文件）\n    if git diff --quiet --exit-code && git diff --cached --quiet --exit-code; then\n        warning \"项目未检测到任何变更，无需提交推送\"\n        exit 0\n    fi\n}\n\n# 2. 同步远程最新代码（避免推送冲突）\nsync_remote() {\n    info \"同步远程$REMOTE_BRANCH分支最新代码...\"\n    if ! git pull origin \"$REMOTE_BRANCH\"; then\n        error \"拉取远程代码冲突！请手动解决后再运行脚本：\\ngit pull origin $REMOTE_BRANCH\"\n    fi\n}\n# 3. 提交所有变更并推送\ncommit_and_deploy() {\n    info \"提交所有项目变更...\"\n    # 添加所有变更（.gitignore会自动过滤不需要的文件）\n    git add . || error \"添加文件到暂存区失败\"\n    # 生成包含变更类型的提交信息\n    local change_count\n    change_count=$(git status --porcelain | wc -l | tr -d ' ')  # 统计变更文件数\n    local commit_msg=\"Hexo项目更新 ($change_count 个文件): $(date +'%Y-%m-%d %H:%M:%S')\"\n    git commit -m \"$commit_msg\" || error \"提交失败（可能存在未解决的冲突）\"\n    \n    # 推送至远程，触发三平台部署\n    info \"推送至远程$REMOTE_BRANCH分支，触发自动化部署...\"\n    git push origin \"$REMOTE_BRANCH\" || error \"推送失败（检查网络或权限）\"\n    \n    success \"所有变更已推送！三平台自动化部署将自动触发\"\n}\n# 主流程\nmain() {\n    info \"===== Hexo全项目自动部署工具 =====\"\n    check_project_changes\n    sync_remote\n    commit_and_deploy\n    info \"===================================\"\n}\nmain \"$@\"\n```\n\n{% endfolding %}\n\n```bash\n$ ./deploy.sh\nℹ️ ===== Hexo全项目自动部署工具 =====\nℹ️ 检查Hexo项目是否有变更...\nℹ️ 同步远程main分支最新代码...\nFrom github.com:xxxxx/xxxxx.github.io\n * branch            main       -> FETCH_HEAD\nAlready up to date.\nℹ️ 提交所有项目变更...\n[main 62bbb8f] Hexo项目更新 (10 个文件): 2025-10-19 10:56:44\n 10 files changed, 865 insertions(+), 182 deletions(-)\n create mode 100644 db.json\n create mode 100644 themes/stellar/source/art-title.css\nℹ️ 推送至远程main分支，触发自动化部署...\nEnumerating objects: 41, done.\nCounting objects: 100% (41/41), done.\nDelta compression using up to 16 threads\nCompressing objects: 100% (20/20), done.\nWriting objects: 100% (22/22), 184.16 KiB | 416.00 KiB/s, done.\nTotal 22 (delta 15), reused 0 (delta 0), pack-reused 0\nremote: Resolving deltas: 100% (15/15), completed with 15 local objects.\nTo github.com:xxxxx/xxxxx.github.io.git\n   206a451..62bbb8f  main -> main\n✅ 所有变更已推送！三平台自动化部署将自动触发\nℹ️ ===================================\n```\n\n\n\n- 查看部署状态\n\n- 部署进度：GitHub 仓库 → `Actions` → 选择当前工作流 → 查看实时日志。\n\n    ![image-20251017221817925](https://u.sam7.top/t362xw)\n\n- 结果验证：\n  - GitHub Pages：访问 `https://<用户名>.github.io/<仓库名>`\n  - Vercel：访问 Vercel 项目分配的域名（如 `<项目名>.vercel.app`）\n  - Cloudflare Pages：访问 Cloudflare 分配的域名（如 `<项目名>.pages.dev`）\n\n- **部署失败排查**：\n\n    查看 GitHub Actions 日志中的错误信息，常见问题：\n\n  - 凭证错误（Secrets 名称或值不正确）\n  - 构建命令失败（依赖安装错误，需检查 `package.json`）\n  - 静态文件目录错误（确保 `publish_dir` 与实际输出目录一致）\n\n通过此配置，每次向 `main` 分支推送代码时，GitHub Actions 会自动完成构建并同步部署到三个平台，实现 “一次推送，多平台联动更新”。\n\n#### 5.3  常见问题与解决\n\n- **部署后页面空白 / 样式丢失**\n  - 原因：`_config.yml` 中 `url` 配置错误，或静态资源路径引用问题。\n  - 解决：确保 `url` 与实际域名一致（如 `url: https://yourname.github.io`），并执行 `hexo clean` 重新生成。\n\n- **平台构建失败（提示缺少依赖）**\n  - 原因：`package.json` 未提交到仓库，或依赖未正确声明。\n  - 解决：确保 `package.json` 和 `package-lock.json` 已提交，必要时在构建命令前加 `npm install`（如 `npm install && hexo generate`）。\n\n- **部署后 404 错误**\n  - 原因：部署分支或输出目录配置错误。\n  - 解决：确认 GitHub Pages 指向的分支正确（如 `main`），或 Cloudflare/Netlify 的输出目录为 `public`。\n\n- **Github 自动部署jekyll构建问题**\n\n   ![image-20251017222248947](https://u.sam7.top/ZsxpAJ)\n\n  - 原因：Github默认使用jekyll主题构建，识别到主题不是jekyll报错。\n  - 解决：可以生成一个.nojekyll文件来禁用jekyll部署，再工作流中增加public文件下.nojekyll\n  - 根目录也添加 `.nojekyll`（双重保险）,虽然工作流已在 `public` 目录生成 `.nojekyll`，但可在仓库根目录也添加一个，防止 GitHub 误读：\n\n   ```bash\n   # 本地仓库根目录执行\n   touch .nojekyll\n   git add .nojekyll\n   git commit -m \"根目录添加.nojekyll，禁用Jekyll\"\n   git push origin main\n   ```\n\n   通过以上步骤，能从工作流配置、仓库设置、缓存清理三个层面彻底禁用 Jekyll，确保 GitHub Pages 直接托管 Hexo 生成的静态文件。核心逻辑是：**确保 `.nojekyll` 被正确部署到 `gh-pages` 分支的根目录，且 GitHub 识别到该文件**。\n\n### 6. **笔记**\n\n- - 本地 Git 仓库应跟踪 Hexo 源代码（`_config.yml`、`source`、`themes` 等），而非 `public` 目录（可在 `.gitignore` 中忽略）。\n  - 部署平台通过源代码自动构建生成 `public` 目录，避免手动上传静态文件。\n  \n- **定期备份配置**\n\n   重要配置文件（`_config.yml`、主题配置 `_config.stellar.yml` 等）建议备份，避免误删。\n\n- **绑定自定义域名**\n\n   各平台均支持绑定自定义域名，需在域名解析平台添加对应的 DNS 记录（如 CNAME 指向平台提供的域名）。\n\n\n- **自动部署配置（代码更新后自动同步）**\n\n   Cloudflare Pages 默认开启 **自动部署**：当你向关联的 Git 分支（如 `main`）推送新代码时，会自动触发构建并更新博客，无需手动操作。\n   验证自动部署：\n\n   ```bash\n   # 本地修改一篇文章或配置\n   git add .\n   git commit -m \"Update blog content\"\n   git push origin main\n   ```\n\n   推送后，在 Cloudflare Pages 控制台的 **Deployments** 页面会看到新的构建任务，完成后博客会自动更新。\n   通过以上步骤，可顺利将 Hexo 博客部署到主流平台。若遇到具体错误，可结合部署日志（如平台提供的构建日志）定位问题，重点检查配置文件和依赖是否正确。\n\n### 7. 总结\n\n以上几种部署 Hexo 的核心流程是：**Git 仓库关联 → 配置构建参数 → 自动构建部署**。其优势在于依托于Cloudflare Pages 免费、全球 CDN 加速、自动部署和简单的域名绑定。按上述步骤操作，即使是新手也能顺利完成部署，且国内访问速度优于 GitHub Pages。若遇到具体错误，可在 Cloudflare Pages 的 **Deployments** 页面查看详细日志，针对性解决即可。","slug":"blog/hexo博客部署","published":1,"updated":"2025-10-20T14:08:29.485Z","comments":1,"layout":"post","photos":[],"_id":"cuid4bWilVF3SyTjaLzRfvm4q","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"/assets/css/APlayer.min.css\"><script src=\"/assets/js/APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><script class=\"meting-secondary-script-marker\" src=\"/assets/js/Meting.min.js\"></script><h3 id=\"0-前言\">0. 前言</h3>\n<p>Hexo 部署是将本地生成的静态博客内容发布到服务器或托管平台的过程，常见的部署目标包括 GitHub Pages、Netlify、Vercel、Cloudflare Pages 等。以下是详细的部署步骤和常见问题解决方案，实现一次推送完成GitHub Pages、Vercel、Cloudflare Pages 三个平台部署。</p>\n<h3 id=\"1-部署前提\">1. 部署前提</h3>\n<ul>\n<li><strong>Github/Vercel/Cloudflare</strong>账号,免费额度个人博客够用了。</li>\n<li>一个 <strong>Git 仓库</strong>（GitHub、GitLab 均可），存放你的 Hexo 源代码（非 <code>public</code> 目录，需包含 <code>_config.yml</code>、<code>package.json</code>、<code>source</code> 等核心文件）。</li>\n<li>本地已完成 Hexo 博客搭建，能通过 <code>hexo g</code> 生成 <code>public</code> 目录（确保本地构建正常）。</li>\n</ul>\n<h3 id=\"2-部署到-GitHub-Pages\">2. 部署到 GitHub Pages</h3>\n<p>适合个人博客，免费但有时候不太稳定，当备用站使用，具体操作步骤如下：</p>\n<ul>\n<li>\n<p>在Github新建仓库，仓库名为  <code>yourname.github.io</code>，确保仓库为公共仓库。<br>\n然后在仓库设置中打开Github Pages功能。</p>\n</li>\n<li>\n<p>然后在博客文件夹下安装部署插件<code>npm install hexo-deployer-git --save</code></p>\n</li>\n<li>\n<p>修改 <code>_config.yml</code>主题配置文件<code>deploy</code>信息，详细配置如下。</p>\n</li>\n</ul>\n<figure class=\"highlight yaml\"><figcaption><span>主题配置文件</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">deploy:</span></span><br><span class=\"line\">   <span class=\"attr\">type:</span> <span class=\"string\">git</span></span><br><span class=\"line\">   <span class=\"attr\">repo:</span> <span class=\"string\">https://github.com/yourname/yourname.github.io.git</span>  <span class=\"comment\"># 仓库地址</span></span><br><span class=\"line\">   <span class=\"attr\">branch:</span> <span class=\"string\">main</span>  <span class=\"comment\"># 部署分支（默认 main 或 master，根据仓库设置调整）</span></span><br><span class=\"line\">   <span class=\"attr\">message:</span> <span class=\"string\">&quot;Hexo deploy: <span class=\"template-variable\">&#123;&#123; now(&#x27;YYYY-MM-DD HH:mm:ss&#x27;) &#125;&#125;</span>&quot;</span>  <span class=\"comment\"># 提交信息（可选）</span></span><br></pre></td></tr></table></figure>\n<ul>\n<li>终端执行<code>hexo clean &amp;&amp; hexo g &amp;&amp; hexo d  # 清理、生成、部署</code> ，部署成功后，访问 <code>https://yourname.github.io</code> 即可看到博客，也可以重定向绑定自己的域名，由Cloudflare托管。</li>\n</ul>\n<h3 id=\"3-部署到-Cloudflare-Pages\">3. 部署到 Cloudflare Pages</h3>\n<p>Cloudflare Pages 提供全球 CDN 加速，国内访问速度较快，目前作为主站使用。</p>\n<h4 id=\"3-1-推送Hexo源码到-GitHub\">3.1 推送Hexo源码到 GitHub</h4>\n<p>确保仓库包含完整的 Hexo 源代码（包括 <code>package.json</code>、<code>_config.yml</code> 等），而非仅 <code>public</code> 目录，使用Github部署仓库修改即可。<br>\nCloudflare Pages 需通过 Git 仓库拉取代码并自动构建，因此需先将本地代码推送到远程仓库：</p>\n<ul>\n<li>\n<p><strong>初始化本地 Git 仓库</strong>（若未初始化）：</p>\n <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cd</span> blog <span class=\"comment\"># 进入 Hexo 博客根目录</span></span><br><span class=\"line\">git branch -m main <span class=\"comment\">#不然会报错</span></span><br><span class=\"line\">git init <span class=\"comment\"># 初始化 Git</span></span><br><span class=\"line\"><span class=\"comment\"># 创建 .gitignore 文件（关键！避免提交不必要的文件）</span></span><br><span class=\"line\"><span class=\"built_in\">cat</span> &gt; .gitignore &lt;&lt; <span class=\"string\">EOF</span></span><br><span class=\"line\"><span class=\"string\">node_modules/</span></span><br><span class=\"line\"><span class=\"string\">public/</span></span><br><span class=\"line\"><span class=\"string\">.deploy_git/</span></span><br><span class=\"line\"><span class=\"string\">*.log</span></span><br><span class=\"line\"><span class=\"string\">.DS_Store</span></span><br><span class=\"line\"><span class=\"string\">Thumbs.db</span></span><br><span class=\"line\"><span class=\"string\">EOF</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p><strong>提交并推送代码到远程仓库</strong>：</p>\n <figure class=\"highlight bash\"><figcaption><span>终端</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git add . <span class=\"comment\"># 添加所有文件（排除 .gitignore 中指定的内容）</span></span><br><span class=\"line\">git commit -m <span class=\"string\">&quot;Initial commit: Hexo source code&quot;</span> <span class=\"comment\"># 提交</span></span><br><span class=\"line\"><span class=\"comment\"># 切换到 SSH 协议，生成 SSH 密钥，一路回车默认即可,密码可以为空。</span></span><br><span class=\"line\">ssh-keygen -t ed25519 -C <span class=\"string\">&quot;你的GitHub邮箱&quot;</span></span><br><span class=\"line\"><span class=\"built_in\">cat</span> ~/.ssh/id_ed25519.pub  <span class=\"comment\">#查看公钥内容（复制全部输出）</span></span><br><span class=\"line\"><span class=\"comment\">#登录 GitHub，进入 `Settings` → `SSH and GPG keys` → `New SSH key`，粘贴公钥并保存。</span></span><br><span class=\"line\">git remote set-url origin git@github.com:sam7xx/sam7xx.github.io.git# 关联远程仓库（替换为你的仓库地址）</span><br><span class=\"line\">git push origin main <span class=\"comment\">#执行推送，如果不再提示认证失败，说明配置成功。</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<h4 id=\"3-2-Cloudflare-创建-Pages\">3.2 Cloudflare 创建 Pages</h4>\n<ul>\n<li>注册Cloudflare账号，登录后进入 <a href=\"https://dash.cloudflare.com/\">Cloudflare Pages</a> → 点击 <strong>Create a project</strong> → 关联你的 Git 仓库。</li>\n<li><strong>构建配置</strong>：\n<ul>\n<li>框架预设：没有Hexo选项，空着。</li>\n<li>构建命令：<code>npm install &amp;&amp; npm run build</code>这里执行安装<code>package.json</code>里面的插件和命令。</li>\n<li>输出目录：<code>public</code></li>\n<li>环境变量：<code>NODE_VERSION=22</code>控制nodejs版本与你构建一致</li>\n<li>根目录：留空默认/</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"3-3-部署与访问\">3.3 部署与访问</h4>\n<p>点击 <strong>Save and Deploy</strong>，等待构建完成后，通过 Cloudflare 分配的域名（如 <code>xxx.pages.dev</code>）访问。<br>\n若你有自己的域名（如 <code>blog.example.com</code>），可绑定到 Cloudflare Pages，实现全球代理发送你的网站：</p>\n<ul>\n<li>\n<p>将域名解析到 Cloudflare， 在 Cloudflare 控制台 → <strong>Websites</strong> → 点击 <strong>Add a site</strong>，输入你的域名（如 <code>example.com</code>），按提示完成 DNS 解析配置（将域名服务器改为 Cloudflare 提供的服务器）。</p>\n</li>\n<li>\n<p>在 Pages 项目中绑定域名，进入你的 Pages 项目 → <strong>Custom domains</strong> → <strong>Set up a custom domain</strong> → 输入子域名（如 <code>blog.example.com</code>）→ 点击 <strong>Add custom domain</strong>。Cloudflare 会自动添加 DNS 记录（CNAME 指向 <code>项目名.pages.dev</code>），并配置免费 SSL 证书（几分钟后生效）。</p>\n</li>\n<li>\n<p>更新 Hexo 配置，为避免静态资源路径错误，需修改 Hexo 根目录的 <code>_config.yml</code>：</p>\n <figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">url:</span> <span class=\"string\">https://blog.example.com</span>  <span class=\"comment\"># 改为你的自定义域名</span></span><br><span class=\"line\"><span class=\"attr\">root:</span> <span class=\"string\">/</span>  <span class=\"comment\"># 保持默认</span></span><br></pre></td></tr></table></figure>\n<p>推送修改后，Cloudflare 会自动重新构建，确保资源路径正确。</p>\n</li>\n</ul>\n<h3 id=\"4-部署到-Netlify-Vercel\">4. 部署到 Netlify/Vercel</h3>\n<h4 id=\"4-1-Netlify部署\">4.1 Netlify部署</h4>\n<p>这两个平台均支持自动构建部署，比Cloudflare简单，大概步骤类似，默认设置点点点搞定，目前Vercel作为备用站：</p>\n<ul>\n<li>\n<p>在 Netlify/Vercel 控制台导入 Hexo 源代码仓库。</p>\n</li>\n<li>\n<p><strong>配置构建参数</strong></p>\n<ul>\n<li>框架预设：<code>hexo</code></li>\n<li>构建命令：<code>hexo generate</code></li>\n<li>输出目录：<code>public</code></li>\n</ul>\n</li>\n<li>\n<p><strong>部署</strong></p>\n<p>平台会自动安装依赖（<code>npm install</code>）并执行构建，完成后提供临时域名，支持绑定自定义域名。</p>\n</li>\n</ul>\n<h4 id=\"4-2-集成-Vercel-分析工具\">4.2 集成 Vercel 分析工具</h4>\n<p>在 Hexo 中集成 Vercel 分析工具 <code>@vercel/analytics</code> 需要通过修改主题模板，将分析代码注入到所有页面中（因为 Hexo 是静态站点生成器，需确保代码被打包到最终生成的 HTML 里）。具体步骤如下：</p>\n<p>步骤 1：安装依赖</p>\n<p>在 Hexo 项目根目录（即 <code>_config.yml</code> 所在目录）执行以下命令，安装 <code>@vercel/analytics</code>：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install @vercel/analytics --save</span><br></pre></td></tr></table></figure>\n<p>步骤 2：创建分析代码注入脚本</p>\n<p>由于 Hexo 不直接支持在模板中导入 npm 包，需要先将 <code>@vercel/analytics</code> 的核心代码提取为可在浏览器中运行的脚本，再注入到页面中。</p>\n<ol>\n<li>\n<p>在 Hexo 项目的 <code>source/js/</code> 目录下（如果没有 <code>js</code> 目录则创建），新建 <code>vercel-analytics.js</code> 文件，内容如下：</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 从 @vercel/analytics 包中提取核心逻辑（适配浏览器环境）</span></span><br><span class=\"line\">(<span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> script = <span class=\"variable language_\">document</span>.<span class=\"title function_\">createElement</span>(<span class=\"string\">&#x27;script&#x27;</span>);</span><br><span class=\"line\">  script.<span class=\"property\">src</span> = <span class=\"string\">&#x27;https://cdn.vercel-insights.com/v1/script.js&#x27;</span>;</span><br><span class=\"line\">  script.<span class=\"property\">defer</span> = <span class=\"literal\">true</span>;</span><br><span class=\"line\">  <span class=\"comment\">// 替换为你的 Vercel 项目 ID（可选，不填则自动关联当前部署的项目）</span></span><br><span class=\"line\">  <span class=\"comment\">// script.dataset.project = &#x27;你的项目ID&#x27;; </span></span><br><span class=\"line\">  <span class=\"variable language_\">document</span>.<span class=\"property\">head</span>.<span class=\"title function_\">appendChild</span>(script);</span><br><span class=\"line\">&#125;)();</span><br></pre></td></tr></table></figure>\n<p>说明：这是 Vercel 官方提供的 CDN 方式，无需依赖本地 npm 包，更适合静态站点（比直接导入 npm 包更简单）。</p>\n</li>\n</ol>\n<p>步骤 3：修改主题模板，注入脚本</p>\n<p>需要将上述脚本添加到所有页面的 <code>&lt;head&gt;</code> 或 <code>&lt;body&gt;</code> 中（推荐放在 <code>&lt;head&gt;</code> 底部，不阻塞页面渲染）。</p>\n<ol>\n<li>\n<p>找到你正在使用的 Hexo 主题的布局文件，通常在 <code>themes/[你的主题名]/layout/</code> 目录下，常见的全局模板文件有：</p>\n<ul>\n<li><code>_partial/head.ejs</code>（头部模板，所有页面都会加载）</li>\n<li><code>_partial/footer.ejs</code>（底部模板）</li>\n</ul>\n<p>以主流主题（如 Next、Stellar 等）为例，推荐修改 <code>head.ejs</code>：</p>\n</li>\n<li>\n<p>编辑 <code>themes/[你的主题名]/layout/_partial/head.ejs</code>，在文件末尾添加以下代码（引入刚才创建的脚本）：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;!-- 引入 Vercel Analytics 脚本 --&gt;</span><br><span class=\"line\">&lt;% if (!is_amp()) &#123; %&gt; &lt;!-- 非 AMP 页面才加载 --&gt;</span><br><span class=\"line\">  &lt;script src=&quot;/js/vercel-analytics.js&quot;&gt;&lt;/script&gt;</span><br><span class=\"line\">&lt;% &#125; %&gt;</span><br></pre></td></tr></table></figure>\n<p>说明：</p>\n<ul>\n<li><code>is_amp()</code> 是 Hexo 的内置函数，用于排除 AMP 页面（避免冲突），如果你的主题不支持 AMP，可以直接写 <code>&lt;script src=&quot;/js/vercel-analytics.js&quot;&gt;&lt;/script&gt;</code>。</li>\n<li>路径 <code>/js/vercel-analytics.js</code> 对应步骤 2 中创建的 <code>source/js/vercel-analytics.js</code>（Hexo 会将 <code>source</code> 目录下的文件直接复制到生成的静态文件中）。</li>\n</ul>\n</li>\n</ol>\n<p>步骤 4：构建并部署</p>\n<ol>\n<li>\n<p>本地测试是否生效：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo clean &amp;&amp; hexo g &amp;&amp; hexo s</span><br></pre></td></tr></table></figure>\n<p>启动后访问 <code>http://localhost:4000</code>，打开浏览器开发者工具（F12）的「Network」面板，查看是否加载了 <code>vercel-analytics.js</code> 和 <code>script.js</code>（来自 Vercel CDN），若有则说明注入成功。</p>\n</li>\n<li>\n<p>部署到 Vercel：</p>\n<p>将代码提交到关联 Vercel 的 Git 仓库，Vercel 会自动构建部署：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git add .</span><br><span class=\"line\">git commit -m <span class=\"string\">&quot;Add Vercel Analytics to Hexo&quot;</span></span><br><span class=\"line\">git push origin main</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<p>步骤 5：验证数据</p>\n<p>部署成功后，登录 <a href=\"https://vercel.com/\">Vercel 控制台</a>，进入你的 Hexo 项目，左侧菜单点击「Analytics」，即可查看访问数据（通常有 5-10 分钟延迟）。</p>\n<h3 id=\"5-GitHub-Actions-工作流配置\">5.  <strong>GitHub Actions</strong> 工作流配置</h3>\n<p>要实现一次代码推送后自动部署到 <strong>GitHub Pages、Vercel、Cloudflare Pages</strong> 三个平台，可通过 <strong>GitHub Actions</strong> 配置统一的工作流。以下是针对这三个平台的详细自动化部署方案：</p>\n<h4 id=\"5-1-准备\">5.1 准备</h4>\n<ol>\n<li>项目已托管在 GitHub 仓库（如 Hexo、Vue、React 等静态项目）。</li>\n<li>已在三个平台完成基础配置：\n<ul>\n<li><strong>GitHub Pages</strong>：仓库开启 Pages 功能（目标分支设为 <code>gh-pages</code>）。</li>\n<li><strong>Vercel</strong>：导入 GitHub 仓库创建项目（无需手动部署，后续通过 Action 触发）。</li>\n<li><strong>Cloudflare Pages</strong>：通过 GitHub 关联仓库创建项目（构建命令和输出目录先暂填，后续通过 Action 覆盖）。</li>\n</ul>\n</li>\n<li>获取各平台的部署凭证（敏感信息，存储在 GitHub Secrets 中）：</li>\n</ol>\n<table>\n<thead>\n<tr>\n<th>平台</th>\n<th>所需凭证</th>\n<th>获取方式</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>GitHub Pages</td>\n<td>个人访问令牌（PAT），需勾选 <code>repo</code> 和 <code>workflow</code> 权限</td>\n<td><a href=\"https://github.com/settings/tokens/new\">GitHub PAT 生成</a></td>\n</tr>\n<tr>\n<td>Vercel</td>\n<td>Vercel 令牌（Token）+ 项目 ID+USER ID</td>\n<td>Vercel 控制台 → 账户设置 → <code>Tokens</code>；项目设置 → <code>General</code> 中获取项目 ID;菜单中找到 Account→ Genera→ USER ID</td>\n</tr>\n<tr>\n<td>Cloudflare Pages</td>\n<td>Cloudflare API 令牌 + 账户 ID + 项目名称</td>\n<td>Cloudflare 控制台 → 我的个人资料 → <code>API Tokens</code>（创建含 <code>Pages:Edit</code> 权限的令牌）；账户 ID 在 Workers 和 Pages 页面获取；项目名称为 Cloudflare Pages 中创建的项目名</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"5-2-配置-GitHub-Actions\">5.2 配置 GitHub Actions</h4>\n<ul>\n<li>\n<p>进入 GitHub 仓库 → <code>Settings</code> → <code>Secrets and variables</code> → <code>Actions</code> → <code>New repository secret</code>，添加以下凭证：</p>\n<ul>\n<li>\n<p><code>GH_TOKEN</code>：GitHub Pages 的 PAT</p>\n</li>\n<li>\n<p><code>VERCEL_TOKEN</code>：Vercel 令牌</p>\n</li>\n<li>\n<p><code>VERCEL_ORG_ID</code>：Vercel组织/用户ID</p>\n</li>\n<li>\n<p><code>VERCEL_PROJECT_ID</code>：Vercel 项目 ID</p>\n</li>\n<li>\n<p><code>CF_API_TOKEN</code>：Cloudflare API 令牌</p>\n</li>\n<li>\n<p><code>CF_ACCOUNT_ID</code>：Cloudflare 账户 ID</p>\n</li>\n<li>\n<p><code>CF_PROJECT_NAME</code>：Cloudflare Pages 项目名称</p>\n</li>\n</ul>\n</li>\n<li>\n<p>创建工作流配置文件，在项目根目录创建 <code>.github/workflows/deploy.yml</code>，内容如下：</p>\n</li>\n</ul>\n<details class=\"tag-plugin colorful folding\" ><summary><p>查看代码</p>\n</summary><div class=\"body\"><figure class=\"highlight yaml\"><figcaption><span>deploy.yaml</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">name:</span> <span class=\"string\">hexo部署流程</span></span><br><span class=\"line\"><span class=\"attr\">on:</span></span><br><span class=\"line\">  <span class=\"attr\">push:</span></span><br><span class=\"line\">    <span class=\"attr\">branches:</span> [ <span class=\"string\">main</span> ]</span><br><span class=\"line\">  <span class=\"attr\">workflow_dispatch:</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">jobs:</span></span><br><span class=\"line\">  <span class=\"attr\">deploy:</span></span><br><span class=\"line\">    <span class=\"attr\">runs-on:</span> <span class=\"string\">ubuntu-latest</span></span><br><span class=\"line\">    <span class=\"attr\">timeout-minutes:</span> <span class=\"number\">30</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"attr\">steps:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">拉取代码</span></span><br><span class=\"line\">        <span class=\"attr\">uses:</span> <span class=\"string\">actions/checkout@v4</span></span><br><span class=\"line\">        <span class=\"attr\">with:</span></span><br><span class=\"line\">          <span class=\"attr\">fetch-depth:</span> <span class=\"number\">0</span></span><br><span class=\"line\">          <span class=\"attr\">submodules:</span> <span class=\"string\">&#x27;recursive&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">检查是否忽略public目录（关键！）</span></span><br><span class=\"line\">        <span class=\"attr\">run:</span> <span class=\"string\">|</span></span><br><span class=\"line\"><span class=\"string\">          echo &quot;===== 检查.gitignore是否排除public =====&quot;</span></span><br><span class=\"line\"><span class=\"string\">          if grep -q &quot;public&quot; .gitignore; then</span></span><br><span class=\"line\"><span class=\"string\">            echo &quot;⚠️ 注意：.gitignore中包含public，会被忽略（正常现象）&quot;</span></span><br><span class=\"line\"><span class=\"string\">          else</span></span><br><span class=\"line\"><span class=\"string\">            echo &quot;✅ .gitignore中未忽略public&quot;</span></span><br><span class=\"line\"><span class=\"string\">          fi</span></span><br><span class=\"line\"><span class=\"string\">          # 显示.gitignore内容</span></span><br><span class=\"line\"><span class=\"string\">          cat .gitignore || echo &quot;无.gitignore文件&quot;</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">安装Node.js</span></span><br><span class=\"line\">        <span class=\"attr\">uses:</span> <span class=\"string\">actions/setup-node@v4</span></span><br><span class=\"line\">        <span class=\"attr\">with:</span></span><br><span class=\"line\">          <span class=\"attr\">node-version:</span> <span class=\"number\">22.19</span><span class=\"number\">.0</span></span><br><span class=\"line\">          <span class=\"attr\">cache:</span> <span class=\"string\">&#x27;npm&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">安装依赖</span></span><br><span class=\"line\">        <span class=\"attr\">run:</span> <span class=\"string\">|</span></span><br><span class=\"line\"><span class=\"string\">          npm install hexo-cli -g</span></span><br><span class=\"line\"><span class=\"string\">          npm install --force</span></span><br><span class=\"line\"><span class=\"string\">          npm install hexo-theme-stellar@latest --save  # 确保主题被安装</span></span><br><span class=\"line\"><span class=\"string\">          cd themes/stellar &amp;&amp; npm install &amp;&amp; cd ../../</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">构建public并记录内容</span></span><br><span class=\"line\">        <span class=\"attr\">run:</span> <span class=\"string\">|</span></span><br><span class=\"line\"><span class=\"string\">          hexo clean</span></span><br><span class=\"line\"><span class=\"string\">          echo &quot;===== 开始构建public =====&quot;</span></span><br><span class=\"line\"><span class=\"string\">          hexo generate</span></span><br><span class=\"line\"><span class=\"string\"></span>          </span><br><span class=\"line\">          <span class=\"comment\"># 记录public目录详情（关键调试信息）</span></span><br><span class=\"line\">          <span class=\"string\">echo</span> <span class=\"string\">&quot;===== public目录状态 =====&quot;</span></span><br><span class=\"line\">          <span class=\"string\">if</span> [ <span class=\"string\">!</span> <span class=\"string\">-d</span> <span class=\"string\">&quot;public&quot;</span> ]<span class=\"string\">;</span> <span class=\"string\">then</span></span><br><span class=\"line\">            <span class=\"string\">echo</span> <span class=\"string\">&quot;❌ public目录未生成！&quot;</span></span><br><span class=\"line\">            <span class=\"string\">exit</span> <span class=\"number\">1</span></span><br><span class=\"line\">          <span class=\"string\">fi</span></span><br><span class=\"line\">          </span><br><span class=\"line\">          <span class=\"string\">echo</span> <span class=\"string\">&quot;public目录路径：$(pwd)/public&quot;</span></span><br><span class=\"line\">          <span class=\"string\">echo</span> <span class=\"string\">&quot;public目录大小：$(du -sh public)&quot;</span></span><br><span class=\"line\">          <span class=\"string\">echo</span> <span class=\"string\">&quot;public目录文件列表（前20个）：&quot;</span></span><br><span class=\"line\">          <span class=\"string\">ls</span> <span class=\"string\">-la</span> <span class=\"string\">public</span> <span class=\"string\">|</span> <span class=\"string\">head</span> <span class=\"string\">-n</span> <span class=\"number\">20</span></span><br><span class=\"line\">          <span class=\"string\">echo</span> <span class=\"string\">&quot;public/index.html内容（前10行）：&quot;</span></span><br><span class=\"line\">          <span class=\"string\">head</span> <span class=\"string\">-n</span> <span class=\"number\">10</span> <span class=\"string\">public/index.html</span> <span class=\"string\">||</span> <span class=\"string\">echo</span> <span class=\"string\">&quot;❌ 无index.html&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\"># 新增步骤：设置带时间戳的环境变量</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">设置部署时间变量</span></span><br><span class=\"line\">        <span class=\"attr\">run:</span> <span class=\"string\">|</span></span><br><span class=\"line\"><span class=\"string\">          echo &quot;DEPLOY_TIMESTAMP=$(date +&#x27;%Y-%m-%d %H:%M:%S&#x27;)&quot; &gt;&gt; $GITHUB_ENV</span></span><br><span class=\"line\"><span class=\"string\">          echo &quot;已设置部署时间：$&#123;&#123; env.DEPLOY_TIMESTAMP &#125;&#125;&quot;</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">部署到gh-pages分支（带推送日志）</span></span><br><span class=\"line\">        <span class=\"attr\">uses:</span> <span class=\"string\">peaceiris/actions-gh-pages@v4</span></span><br><span class=\"line\">        <span class=\"attr\">with:</span></span><br><span class=\"line\">          <span class=\"attr\">github_token:</span> <span class=\"string\">$&#123;&#123;</span> <span class=\"string\">secrets.GH_TOKEN</span> <span class=\"string\">&#125;&#125;</span></span><br><span class=\"line\">          <span class=\"attr\">publish_dir:</span> <span class=\"string\">./public</span>  <span class=\"comment\"># 确认推送的是public目录下的内容</span></span><br><span class=\"line\">          <span class=\"attr\">publish_branch:</span> <span class=\"string\">gh-pages</span></span><br><span class=\"line\">          <span class=\"attr\">force_orphan:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">          <span class=\"attr\">keep_files:</span> <span class=\"literal\">false</span></span><br><span class=\"line\">          <span class=\"attr\">enable_jekyll:</span> <span class=\"literal\">false</span></span><br><span class=\"line\">          <span class=\"comment\"># 使用环境变量中的时间戳</span></span><br><span class=\"line\">          <span class=\"attr\">commit_message:</span> <span class=\"string\">&quot;Deploy public content: $<span class=\"template-variable\">&#123;&#123; env.DEPLOY_TIMESTAMP &#125;&#125;</span>&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">验证gh-pages分支内容</span></span><br><span class=\"line\">        <span class=\"attr\">run:</span> <span class=\"string\">|</span></span><br><span class=\"line\"><span class=\"string\">          echo &quot;===== 克隆gh-pages分支验证 =====&quot;</span></span><br><span class=\"line\"><span class=\"string\">          git clone -b gh-pages https://github.com/$&#123;&#123; github.repository &#125;&#125; gh-pages-check</span></span><br><span class=\"line\"><span class=\"string\"></span>          </span><br><span class=\"line\">          <span class=\"string\">echo</span> <span class=\"string\">&quot;===== gh-pages分支根目录内容 =====&quot;</span></span><br><span class=\"line\">          <span class=\"string\">ls</span> <span class=\"string\">-la</span> <span class=\"string\">gh-pages-check</span></span><br><span class=\"line\">          </span><br><span class=\"line\">          <span class=\"string\">echo</span> <span class=\"string\">&quot;===== 检查是否有index.html =====&quot;</span></span><br><span class=\"line\">          <span class=\"string\">if</span> [ <span class=\"string\">-f</span> <span class=\"string\">&quot;gh-pages-check/index.html&quot;</span> ]<span class=\"string\">;</span> <span class=\"string\">then</span></span><br><span class=\"line\">            <span class=\"string\">echo</span> <span class=\"string\">&quot;✅ gh-pages分支存在index.html，部署成功！&quot;</span></span><br><span class=\"line\">            <span class=\"string\">echo</span> <span class=\"string\">&quot;访问地址：https://$<span class=\"template-variable\">&#123;&#123; github.repository_owner &#125;&#125;</span>.github.io/$<span class=\"template-variable\">&#123;&#123; github.event.repository.name &#125;&#125;</span>/&quot;</span></span><br><span class=\"line\">          <span class=\"string\">else</span></span><br><span class=\"line\">            <span class=\"string\">echo</span> <span class=\"string\">&quot;❌ gh-pages分支无index.html，部署失败！&quot;</span></span><br><span class=\"line\">            <span class=\"string\">exit</span> <span class=\"number\">1</span></span><br><span class=\"line\">          <span class=\"string\">fi</span></span><br></pre></td></tr></table></figure> </div></details>\n<ul>\n<li>推送代码触发自动部署</li>\n</ul>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 提交工作流文件</span></span><br><span class=\"line\">git add .github/workflows/deploy.yml</span><br><span class=\"line\">git commit -m <span class=\"string\">&quot;Add auto-deploy workflow to 3 platforms&quot;</span></span><br><span class=\"line\">git push origin main</span><br></pre></td></tr></table></figure>\n<p>也可以写入脚本<code>deploy.sh</code>，放在博客根目录，更新博客后终端执行./deploy.sh即可完成代码推送至Github。</p>\n<details class=\"tag-plugin colorful folding\" ><summary><p>查看代码</p>\n</summary><div class=\"body\"><figure class=\"highlight sh\"><figcaption><span>deploy.sh</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#!/bin/bash</span></span><br><span class=\"line\"><span class=\"built_in\">set</span> -euo pipefail  <span class=\"comment\"># 严格模式：遇错即停，防止未定义变量</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># ==============================================</span></span><br><span class=\"line\"><span class=\"comment\"># 配置区（根据项目调整）</span></span><br><span class=\"line\"><span class=\"comment\"># ==============================================</span></span><br><span class=\"line\">REMOTE_BRANCH=<span class=\"string\">&quot;main&quot;</span>               <span class=\"comment\"># 远程目标分支</span></span><br><span class=\"line\"><span class=\"comment\"># ==============================================</span></span><br><span class=\"line\"><span class=\"comment\"># 输出格式化函数（带颜色标识）</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">info</span></span>() &#123; <span class=\"built_in\">echo</span> -e <span class=\"string\">&quot;\\033[34mℹ️ <span class=\"variable\">$1</span>\\033[0m&quot;</span>; &#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">success</span></span>() &#123; <span class=\"built_in\">echo</span> -e <span class=\"string\">&quot;\\033[32m✅ <span class=\"variable\">$1</span>\\033[0m&quot;</span>; &#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">warning</span></span>() &#123; <span class=\"built_in\">echo</span> -e <span class=\"string\">&quot;\\033[33m⚠️ <span class=\"variable\">$1</span>\\033[0m&quot;</span>; &#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">error</span></span>() &#123; <span class=\"built_in\">echo</span> -e <span class=\"string\">&quot;\\033[31m❌ <span class=\"variable\">$1</span>\\033[0m&quot;</span> &amp;&amp; <span class=\"built_in\">exit</span> 1; &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 1. 检查项目是否有变更（任何文件的修改/新增/删除）</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">check_project_changes</span></span>() &#123;</span><br><span class=\"line\">    info <span class=\"string\">&quot;检查Hexo项目是否有变更...&quot;</span></span><br><span class=\"line\">    <span class=\"comment\"># 检查工作区和暂存区是否有变化（忽略.gitignore中的文件）</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> git diff --quiet --exit-code &amp;&amp; git diff --cached --quiet --exit-code; <span class=\"keyword\">then</span></span><br><span class=\"line\">        warning <span class=\"string\">&quot;项目未检测到任何变更，无需提交推送&quot;</span></span><br><span class=\"line\">        <span class=\"built_in\">exit</span> 0</span><br><span class=\"line\">    <span class=\"keyword\">fi</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 2. 同步远程最新代码（避免推送冲突）</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">sync_remote</span></span>() &#123;</span><br><span class=\"line\">    info <span class=\"string\">&quot;同步远程<span class=\"variable\">$REMOTE_BRANCH</span>分支最新代码...&quot;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> ! git pull origin <span class=\"string\">&quot;<span class=\"variable\">$REMOTE_BRANCH</span>&quot;</span>; <span class=\"keyword\">then</span></span><br><span class=\"line\">        error <span class=\"string\">&quot;拉取远程代码冲突！请手动解决后再运行脚本：\\ngit pull origin <span class=\"variable\">$REMOTE_BRANCH</span>&quot;</span></span><br><span class=\"line\">    <span class=\"keyword\">fi</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\"># 3. 提交所有变更并推送</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">commit_and_deploy</span></span>() &#123;</span><br><span class=\"line\">    info <span class=\"string\">&quot;提交所有项目变更...&quot;</span></span><br><span class=\"line\">    <span class=\"comment\"># 添加所有变更（.gitignore会自动过滤不需要的文件）</span></span><br><span class=\"line\">    git add . || error <span class=\"string\">&quot;添加文件到暂存区失败&quot;</span></span><br><span class=\"line\">    <span class=\"comment\"># 生成包含变更类型的提交信息</span></span><br><span class=\"line\">    <span class=\"built_in\">local</span> change_count</span><br><span class=\"line\">    change_count=$(git status --porcelain | <span class=\"built_in\">wc</span> -l | <span class=\"built_in\">tr</span> -d <span class=\"string\">&#x27; &#x27;</span>)  <span class=\"comment\"># 统计变更文件数</span></span><br><span class=\"line\">    <span class=\"built_in\">local</span> commit_msg=<span class=\"string\">&quot;Hexo项目更新 (<span class=\"variable\">$change_count</span> 个文件): <span class=\"subst\">$(date +&#x27;%Y-%m-%d %H:%M:%S&#x27;)</span>&quot;</span></span><br><span class=\"line\">    git commit -m <span class=\"string\">&quot;<span class=\"variable\">$commit_msg</span>&quot;</span> || error <span class=\"string\">&quot;提交失败（可能存在未解决的冲突）&quot;</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\"># 推送至远程，触发三平台部署</span></span><br><span class=\"line\">    info <span class=\"string\">&quot;推送至远程<span class=\"variable\">$REMOTE_BRANCH</span>分支，触发自动化部署...&quot;</span></span><br><span class=\"line\">    git push origin <span class=\"string\">&quot;<span class=\"variable\">$REMOTE_BRANCH</span>&quot;</span> || error <span class=\"string\">&quot;推送失败（检查网络或权限）&quot;</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    success <span class=\"string\">&quot;所有变更已推送！三平台自动化部署将自动触发&quot;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\"># 主流程</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">main</span></span>() &#123;</span><br><span class=\"line\">    info <span class=\"string\">&quot;===== Hexo全项目自动部署工具 =====&quot;</span></span><br><span class=\"line\">    check_project_changes</span><br><span class=\"line\">    sync_remote</span><br><span class=\"line\">    commit_and_deploy</span><br><span class=\"line\">    info <span class=\"string\">&quot;===================================&quot;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\">main <span class=\"string\">&quot;<span class=\"variable\">$@</span>&quot;</span></span><br></pre></td></tr></table></figure> </div></details>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ ./deploy.sh</span><br><span class=\"line\">ℹ️ ===== Hexo全项目自动部署工具 =====</span><br><span class=\"line\">ℹ️ 检查Hexo项目是否有变更...</span><br><span class=\"line\">ℹ️ 同步远程main分支最新代码...</span><br><span class=\"line\">From github.com:xxxxx/xxxxx.github.io</span><br><span class=\"line\"> * branch            main       -&gt; FETCH_HEAD</span><br><span class=\"line\">Already up to <span class=\"built_in\">date</span>.</span><br><span class=\"line\">ℹ️ 提交所有项目变更...</span><br><span class=\"line\">[main 62bbb8f] Hexo项目更新 (10 个文件): 2025-10-19 10:56:44</span><br><span class=\"line\"> 10 files changed, 865 insertions(+), 182 deletions(-)</span><br><span class=\"line\"> create mode 100644 db.json</span><br><span class=\"line\"> create mode 100644 themes/stellar/source/art-title.css</span><br><span class=\"line\">ℹ️ 推送至远程main分支，触发自动化部署...</span><br><span class=\"line\">Enumerating objects: 41, <span class=\"keyword\">done</span>.</span><br><span class=\"line\">Counting objects: 100% (41/41), <span class=\"keyword\">done</span>.</span><br><span class=\"line\">Delta compression using up to 16 threads</span><br><span class=\"line\">Compressing objects: 100% (20/20), <span class=\"keyword\">done</span>.</span><br><span class=\"line\">Writing objects: 100% (22/22), 184.16 KiB | 416.00 KiB/s, <span class=\"keyword\">done</span>.</span><br><span class=\"line\">Total 22 (delta 15), reused 0 (delta 0), pack-reused 0</span><br><span class=\"line\">remote: Resolving deltas: 100% (15/15), completed with 15 <span class=\"built_in\">local</span> objects.</span><br><span class=\"line\">To github.com:xxxxx/xxxxx.github.io.git</span><br><span class=\"line\">   206a451..62bbb8f  main -&gt; main</span><br><span class=\"line\">✅ 所有变更已推送！三平台自动化部署将自动触发</span><br><span class=\"line\">ℹ️ ===================================</span><br></pre></td></tr></table></figure>\n<ul>\n<li>\n<p>查看部署状态</p>\n</li>\n<li>\n<p>部署进度：GitHub 仓库 → <code>Actions</code> → 选择当前工作流 → 查看实时日志。</p>\n<p><img src=\"https://u.sam7.top/t362xw\" alt=\"image-20251017221817925\"></p>\n</li>\n<li>\n<p>结果验证：</p>\n<ul>\n<li>GitHub Pages：访问 <code>https://&lt;用户名&gt;.github.io/&lt;仓库名&gt;</code></li>\n<li>Vercel：访问 Vercel 项目分配的域名（如 <code>&lt;项目名&gt;.vercel.app</code>）</li>\n<li>Cloudflare Pages：访问 Cloudflare 分配的域名（如 <code>&lt;项目名&gt;.pages.dev</code>）</li>\n</ul>\n</li>\n<li>\n<p><strong>部署失败排查</strong>：</p>\n<p>查看 GitHub Actions 日志中的错误信息，常见问题：</p>\n<ul>\n<li>凭证错误（Secrets 名称或值不正确）</li>\n<li>构建命令失败（依赖安装错误，需检查 <code>package.json</code>）</li>\n<li>静态文件目录错误（确保 <code>publish_dir</code> 与实际输出目录一致）</li>\n</ul>\n</li>\n</ul>\n<p>通过此配置，每次向 <code>main</code> 分支推送代码时，GitHub Actions 会自动完成构建并同步部署到三个平台，实现 “一次推送，多平台联动更新”。</p>\n<h4 id=\"5-3-常见问题与解决\">5.3  常见问题与解决</h4>\n<ul>\n<li>\n<p><strong>部署后页面空白 / 样式丢失</strong></p>\n<ul>\n<li>原因：<code>_config.yml</code> 中 <code>url</code> 配置错误，或静态资源路径引用问题。</li>\n<li>解决：确保 <code>url</code> 与实际域名一致（如 <code>url: https://yourname.github.io</code>），并执行 <code>hexo clean</code> 重新生成。</li>\n</ul>\n</li>\n<li>\n<p><strong>平台构建失败（提示缺少依赖）</strong></p>\n<ul>\n<li>原因：<code>package.json</code> 未提交到仓库，或依赖未正确声明。</li>\n<li>解决：确保 <code>package.json</code> 和 <code>package-lock.json</code> 已提交，必要时在构建命令前加 <code>npm install</code>（如 <code>npm install &amp;&amp; hexo generate</code>）。</li>\n</ul>\n</li>\n<li>\n<p><strong>部署后 404 错误</strong></p>\n<ul>\n<li>原因：部署分支或输出目录配置错误。</li>\n<li>解决：确认 GitHub Pages 指向的分支正确（如 <code>main</code>），或 Cloudflare/Netlify 的输出目录为 <code>public</code>。</li>\n</ul>\n</li>\n<li>\n<p><strong>Github 自动部署jekyll构建问题</strong></p>\n<p><img src=\"https://u.sam7.top/ZsxpAJ\" alt=\"image-20251017222248947\"></p>\n<ul>\n<li>原因：Github默认使用jekyll主题构建，识别到主题不是jekyll报错。</li>\n<li>解决：可以生成一个.nojekyll文件来禁用jekyll部署，再工作流中增加public文件下.nojekyll</li>\n<li>根目录也添加 <code>.nojekyll</code>（双重保险）,虽然工作流已在 <code>public</code> 目录生成 <code>.nojekyll</code>，但可在仓库根目录也添加一个，防止 GitHub 误读：</li>\n</ul>\n <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 本地仓库根目录执行</span></span><br><span class=\"line\"><span class=\"built_in\">touch</span> .nojekyll</span><br><span class=\"line\">git add .nojekyll</span><br><span class=\"line\">git commit -m <span class=\"string\">&quot;根目录添加.nojekyll，禁用Jekyll&quot;</span></span><br><span class=\"line\">git push origin main</span><br></pre></td></tr></table></figure>\n<p>通过以上步骤，能从工作流配置、仓库设置、缓存清理三个层面彻底禁用 Jekyll，确保 GitHub Pages 直接托管 Hexo 生成的静态文件。核心逻辑是：<strong>确保 <code>.nojekyll</code> 被正确部署到 <code>gh-pages</code> 分支的根目录，且 GitHub 识别到该文件</strong>。</p>\n</li>\n</ul>\n<h3 id=\"6-笔记\">6. <strong>笔记</strong></h3>\n<ul>\n<li>\n<ul>\n<li>本地 Git 仓库应跟踪 Hexo 源代码（<code>_config.yml</code>、<code>source</code>、<code>themes</code> 等），而非 <code>public</code> 目录（可在 <code>.gitignore</code> 中忽略）。</li>\n<li>部署平台通过源代码自动构建生成 <code>public</code> 目录，避免手动上传静态文件。</li>\n</ul>\n</li>\n<li>\n<p><strong>定期备份配置</strong></p>\n<p>重要配置文件（<code>_config.yml</code>、主题配置 <code>_config.stellar.yml</code> 等）建议备份，避免误删。</p>\n</li>\n<li>\n<p><strong>绑定自定义域名</strong></p>\n<p>各平台均支持绑定自定义域名，需在域名解析平台添加对应的 DNS 记录（如 CNAME 指向平台提供的域名）。</p>\n</li>\n<li>\n<p><strong>自动部署配置（代码更新后自动同步）</strong></p>\n<p>Cloudflare Pages 默认开启 <strong>自动部署</strong>：当你向关联的 Git 分支（如 <code>main</code>）推送新代码时，会自动触发构建并更新博客，无需手动操作。<br>\n验证自动部署：</p>\n <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 本地修改一篇文章或配置</span></span><br><span class=\"line\">git add .</span><br><span class=\"line\">git commit -m <span class=\"string\">&quot;Update blog content&quot;</span></span><br><span class=\"line\">git push origin main</span><br></pre></td></tr></table></figure>\n<p>推送后，在 Cloudflare Pages 控制台的 <strong>Deployments</strong> 页面会看到新的构建任务，完成后博客会自动更新。<br>\n通过以上步骤，可顺利将 Hexo 博客部署到主流平台。若遇到具体错误，可结合部署日志（如平台提供的构建日志）定位问题，重点检查配置文件和依赖是否正确。</p>\n</li>\n</ul>\n<h3 id=\"7-总结\">7. 总结</h3>\n<p>以上几种部署 Hexo 的核心流程是：<strong>Git 仓库关联 → 配置构建参数 → 自动构建部署</strong>。其优势在于依托于Cloudflare Pages 免费、全球 CDN 加速、自动部署和简单的域名绑定。按上述步骤操作，即使是新手也能顺利完成部署，且国内访问速度优于 GitHub Pages。若遇到具体错误，可在 Cloudflare Pages 的 <strong>Deployments</strong> 页面查看详细日志，针对性解决即可。</p>\n","excerpt":"","more":"<h3 id=\"0-前言\">0. 前言</h3>\n<p>Hexo 部署是将本地生成的静态博客内容发布到服务器或托管平台的过程，常见的部署目标包括 GitHub Pages、Netlify、Vercel、Cloudflare Pages 等。以下是详细的部署步骤和常见问题解决方案，实现一次推送完成GitHub Pages、Vercel、Cloudflare Pages 三个平台部署。</p>\n<h3 id=\"1-部署前提\">1. 部署前提</h3>\n<ul>\n<li><strong>Github/Vercel/Cloudflare</strong>账号,免费额度个人博客够用了。</li>\n<li>一个 <strong>Git 仓库</strong>（GitHub、GitLab 均可），存放你的 Hexo 源代码（非 <code>public</code> 目录，需包含 <code>_config.yml</code>、<code>package.json</code>、<code>source</code> 等核心文件）。</li>\n<li>本地已完成 Hexo 博客搭建，能通过 <code>hexo g</code> 生成 <code>public</code> 目录（确保本地构建正常）。</li>\n</ul>\n<h3 id=\"2-部署到-GitHub-Pages\">2. 部署到 GitHub Pages</h3>\n<p>适合个人博客，免费但有时候不太稳定，当备用站使用，具体操作步骤如下：</p>\n<ul>\n<li>\n<p>在Github新建仓库，仓库名为  <code>yourname.github.io</code>，确保仓库为公共仓库。<br>\n然后在仓库设置中打开Github Pages功能。</p>\n</li>\n<li>\n<p>然后在博客文件夹下安装部署插件<code>npm install hexo-deployer-git --save</code></p>\n</li>\n<li>\n<p>修改 <code>_config.yml</code>主题配置文件<code>deploy</code>信息，详细配置如下。</p>\n</li>\n</ul>\n<figure class=\"highlight yaml\"><figcaption><span>主题配置文件</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">deploy:</span></span><br><span class=\"line\">   <span class=\"attr\">type:</span> <span class=\"string\">git</span></span><br><span class=\"line\">   <span class=\"attr\">repo:</span> <span class=\"string\">https://github.com/yourname/yourname.github.io.git</span>  <span class=\"comment\"># 仓库地址</span></span><br><span class=\"line\">   <span class=\"attr\">branch:</span> <span class=\"string\">main</span>  <span class=\"comment\"># 部署分支（默认 main 或 master，根据仓库设置调整）</span></span><br><span class=\"line\">   <span class=\"attr\">message:</span> <span class=\"string\">&quot;Hexo deploy: <span class=\"template-variable\">&#123;&#123; now(&#x27;YYYY-MM-DD HH:mm:ss&#x27;) &#125;&#125;</span>&quot;</span>  <span class=\"comment\"># 提交信息（可选）</span></span><br></pre></td></tr></table></figure>\n<ul>\n<li>终端执行<code>hexo clean &amp;&amp; hexo g &amp;&amp; hexo d  # 清理、生成、部署</code> ，部署成功后，访问 <code>https://yourname.github.io</code> 即可看到博客，也可以重定向绑定自己的域名，由Cloudflare托管。</li>\n</ul>\n<h3 id=\"3-部署到-Cloudflare-Pages\">3. 部署到 Cloudflare Pages</h3>\n<p>Cloudflare Pages 提供全球 CDN 加速，国内访问速度较快，目前作为主站使用。</p>\n<h4 id=\"3-1-推送Hexo源码到-GitHub\">3.1 推送Hexo源码到 GitHub</h4>\n<p>确保仓库包含完整的 Hexo 源代码（包括 <code>package.json</code>、<code>_config.yml</code> 等），而非仅 <code>public</code> 目录，使用Github部署仓库修改即可。<br>\nCloudflare Pages 需通过 Git 仓库拉取代码并自动构建，因此需先将本地代码推送到远程仓库：</p>\n<ul>\n<li>\n<p><strong>初始化本地 Git 仓库</strong>（若未初始化）：</p>\n <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cd</span> blog <span class=\"comment\"># 进入 Hexo 博客根目录</span></span><br><span class=\"line\">git branch -m main <span class=\"comment\">#不然会报错</span></span><br><span class=\"line\">git init <span class=\"comment\"># 初始化 Git</span></span><br><span class=\"line\"><span class=\"comment\"># 创建 .gitignore 文件（关键！避免提交不必要的文件）</span></span><br><span class=\"line\"><span class=\"built_in\">cat</span> &gt; .gitignore &lt;&lt; <span class=\"string\">EOF</span></span><br><span class=\"line\"><span class=\"string\">node_modules/</span></span><br><span class=\"line\"><span class=\"string\">public/</span></span><br><span class=\"line\"><span class=\"string\">.deploy_git/</span></span><br><span class=\"line\"><span class=\"string\">*.log</span></span><br><span class=\"line\"><span class=\"string\">.DS_Store</span></span><br><span class=\"line\"><span class=\"string\">Thumbs.db</span></span><br><span class=\"line\"><span class=\"string\">EOF</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p><strong>提交并推送代码到远程仓库</strong>：</p>\n <figure class=\"highlight bash\"><figcaption><span>终端</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git add . <span class=\"comment\"># 添加所有文件（排除 .gitignore 中指定的内容）</span></span><br><span class=\"line\">git commit -m <span class=\"string\">&quot;Initial commit: Hexo source code&quot;</span> <span class=\"comment\"># 提交</span></span><br><span class=\"line\"><span class=\"comment\"># 切换到 SSH 协议，生成 SSH 密钥，一路回车默认即可,密码可以为空。</span></span><br><span class=\"line\">ssh-keygen -t ed25519 -C <span class=\"string\">&quot;你的GitHub邮箱&quot;</span></span><br><span class=\"line\"><span class=\"built_in\">cat</span> ~/.ssh/id_ed25519.pub  <span class=\"comment\">#查看公钥内容（复制全部输出）</span></span><br><span class=\"line\"><span class=\"comment\">#登录 GitHub，进入 `Settings` → `SSH and GPG keys` → `New SSH key`，粘贴公钥并保存。</span></span><br><span class=\"line\">git remote set-url origin git@github.com:sam7xx/sam7xx.github.io.git# 关联远程仓库（替换为你的仓库地址）</span><br><span class=\"line\">git push origin main <span class=\"comment\">#执行推送，如果不再提示认证失败，说明配置成功。</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<h4 id=\"3-2-Cloudflare-创建-Pages\">3.2 Cloudflare 创建 Pages</h4>\n<ul>\n<li>注册Cloudflare账号，登录后进入 <a href=\"https://dash.cloudflare.com/\">Cloudflare Pages</a> → 点击 <strong>Create a project</strong> → 关联你的 Git 仓库。</li>\n<li><strong>构建配置</strong>：\n<ul>\n<li>框架预设：没有Hexo选项，空着。</li>\n<li>构建命令：<code>npm install &amp;&amp; npm run build</code>这里执行安装<code>package.json</code>里面的插件和命令。</li>\n<li>输出目录：<code>public</code></li>\n<li>环境变量：<code>NODE_VERSION=22</code>控制nodejs版本与你构建一致</li>\n<li>根目录：留空默认/</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"3-3-部署与访问\">3.3 部署与访问</h4>\n<p>点击 <strong>Save and Deploy</strong>，等待构建完成后，通过 Cloudflare 分配的域名（如 <code>xxx.pages.dev</code>）访问。<br>\n若你有自己的域名（如 <code>blog.example.com</code>），可绑定到 Cloudflare Pages，实现全球代理发送你的网站：</p>\n<ul>\n<li>\n<p>将域名解析到 Cloudflare， 在 Cloudflare 控制台 → <strong>Websites</strong> → 点击 <strong>Add a site</strong>，输入你的域名（如 <code>example.com</code>），按提示完成 DNS 解析配置（将域名服务器改为 Cloudflare 提供的服务器）。</p>\n</li>\n<li>\n<p>在 Pages 项目中绑定域名，进入你的 Pages 项目 → <strong>Custom domains</strong> → <strong>Set up a custom domain</strong> → 输入子域名（如 <code>blog.example.com</code>）→ 点击 <strong>Add custom domain</strong>。Cloudflare 会自动添加 DNS 记录（CNAME 指向 <code>项目名.pages.dev</code>），并配置免费 SSL 证书（几分钟后生效）。</p>\n</li>\n<li>\n<p>更新 Hexo 配置，为避免静态资源路径错误，需修改 Hexo 根目录的 <code>_config.yml</code>：</p>\n <figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">url:</span> <span class=\"string\">https://blog.example.com</span>  <span class=\"comment\"># 改为你的自定义域名</span></span><br><span class=\"line\"><span class=\"attr\">root:</span> <span class=\"string\">/</span>  <span class=\"comment\"># 保持默认</span></span><br></pre></td></tr></table></figure>\n<p>推送修改后，Cloudflare 会自动重新构建，确保资源路径正确。</p>\n</li>\n</ul>\n<h3 id=\"4-部署到-Netlify-Vercel\">4. 部署到 Netlify/Vercel</h3>\n<h4 id=\"4-1-Netlify部署\">4.1 Netlify部署</h4>\n<p>这两个平台均支持自动构建部署，比Cloudflare简单，大概步骤类似，默认设置点点点搞定，目前Vercel作为备用站：</p>\n<ul>\n<li>\n<p>在 Netlify/Vercel 控制台导入 Hexo 源代码仓库。</p>\n</li>\n<li>\n<p><strong>配置构建参数</strong></p>\n<ul>\n<li>框架预设：<code>hexo</code></li>\n<li>构建命令：<code>hexo generate</code></li>\n<li>输出目录：<code>public</code></li>\n</ul>\n</li>\n<li>\n<p><strong>部署</strong></p>\n<p>平台会自动安装依赖（<code>npm install</code>）并执行构建，完成后提供临时域名，支持绑定自定义域名。</p>\n</li>\n</ul>\n<h4 id=\"4-2-集成-Vercel-分析工具\">4.2 集成 Vercel 分析工具</h4>\n<p>在 Hexo 中集成 Vercel 分析工具 <code>@vercel/analytics</code> 需要通过修改主题模板，将分析代码注入到所有页面中（因为 Hexo 是静态站点生成器，需确保代码被打包到最终生成的 HTML 里）。具体步骤如下：</p>\n<p>步骤 1：安装依赖</p>\n<p>在 Hexo 项目根目录（即 <code>_config.yml</code> 所在目录）执行以下命令，安装 <code>@vercel/analytics</code>：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install @vercel/analytics --save</span><br></pre></td></tr></table></figure>\n<p>步骤 2：创建分析代码注入脚本</p>\n<p>由于 Hexo 不直接支持在模板中导入 npm 包，需要先将 <code>@vercel/analytics</code> 的核心代码提取为可在浏览器中运行的脚本，再注入到页面中。</p>\n<ol>\n<li>\n<p>在 Hexo 项目的 <code>source/js/</code> 目录下（如果没有 <code>js</code> 目录则创建），新建 <code>vercel-analytics.js</code> 文件，内容如下：</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 从 @vercel/analytics 包中提取核心逻辑（适配浏览器环境）</span></span><br><span class=\"line\">(<span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> script = <span class=\"variable language_\">document</span>.<span class=\"title function_\">createElement</span>(<span class=\"string\">&#x27;script&#x27;</span>);</span><br><span class=\"line\">  script.<span class=\"property\">src</span> = <span class=\"string\">&#x27;https://cdn.vercel-insights.com/v1/script.js&#x27;</span>;</span><br><span class=\"line\">  script.<span class=\"property\">defer</span> = <span class=\"literal\">true</span>;</span><br><span class=\"line\">  <span class=\"comment\">// 替换为你的 Vercel 项目 ID（可选，不填则自动关联当前部署的项目）</span></span><br><span class=\"line\">  <span class=\"comment\">// script.dataset.project = &#x27;你的项目ID&#x27;; </span></span><br><span class=\"line\">  <span class=\"variable language_\">document</span>.<span class=\"property\">head</span>.<span class=\"title function_\">appendChild</span>(script);</span><br><span class=\"line\">&#125;)();</span><br></pre></td></tr></table></figure>\n<p>说明：这是 Vercel 官方提供的 CDN 方式，无需依赖本地 npm 包，更适合静态站点（比直接导入 npm 包更简单）。</p>\n</li>\n</ol>\n<p>步骤 3：修改主题模板，注入脚本</p>\n<p>需要将上述脚本添加到所有页面的 <code>&lt;head&gt;</code> 或 <code>&lt;body&gt;</code> 中（推荐放在 <code>&lt;head&gt;</code> 底部，不阻塞页面渲染）。</p>\n<ol>\n<li>\n<p>找到你正在使用的 Hexo 主题的布局文件，通常在 <code>themes/[你的主题名]/layout/</code> 目录下，常见的全局模板文件有：</p>\n<ul>\n<li><code>_partial/head.ejs</code>（头部模板，所有页面都会加载）</li>\n<li><code>_partial/footer.ejs</code>（底部模板）</li>\n</ul>\n<p>以主流主题（如 Next、Stellar 等）为例，推荐修改 <code>head.ejs</code>：</p>\n</li>\n<li>\n<p>编辑 <code>themes/[你的主题名]/layout/_partial/head.ejs</code>，在文件末尾添加以下代码（引入刚才创建的脚本）：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;!-- 引入 Vercel Analytics 脚本 --&gt;</span><br><span class=\"line\">&lt;% if (!is_amp()) &#123; %&gt; &lt;!-- 非 AMP 页面才加载 --&gt;</span><br><span class=\"line\">  &lt;script src=&quot;/js/vercel-analytics.js&quot;&gt;&lt;/script&gt;</span><br><span class=\"line\">&lt;% &#125; %&gt;</span><br></pre></td></tr></table></figure>\n<p>说明：</p>\n<ul>\n<li><code>is_amp()</code> 是 Hexo 的内置函数，用于排除 AMP 页面（避免冲突），如果你的主题不支持 AMP，可以直接写 <code>&lt;script src=&quot;/js/vercel-analytics.js&quot;&gt;&lt;/script&gt;</code>。</li>\n<li>路径 <code>/js/vercel-analytics.js</code> 对应步骤 2 中创建的 <code>source/js/vercel-analytics.js</code>（Hexo 会将 <code>source</code> 目录下的文件直接复制到生成的静态文件中）。</li>\n</ul>\n</li>\n</ol>\n<p>步骤 4：构建并部署</p>\n<ol>\n<li>\n<p>本地测试是否生效：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo clean &amp;&amp; hexo g &amp;&amp; hexo s</span><br></pre></td></tr></table></figure>\n<p>启动后访问 <code>http://localhost:4000</code>，打开浏览器开发者工具（F12）的「Network」面板，查看是否加载了 <code>vercel-analytics.js</code> 和 <code>script.js</code>（来自 Vercel CDN），若有则说明注入成功。</p>\n</li>\n<li>\n<p>部署到 Vercel：</p>\n<p>将代码提交到关联 Vercel 的 Git 仓库，Vercel 会自动构建部署：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git add .</span><br><span class=\"line\">git commit -m <span class=\"string\">&quot;Add Vercel Analytics to Hexo&quot;</span></span><br><span class=\"line\">git push origin main</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<p>步骤 5：验证数据</p>\n<p>部署成功后，登录 <a href=\"https://vercel.com/\">Vercel 控制台</a>，进入你的 Hexo 项目，左侧菜单点击「Analytics」，即可查看访问数据（通常有 5-10 分钟延迟）。</p>\n<h3 id=\"5-GitHub-Actions-工作流配置\">5.  <strong>GitHub Actions</strong> 工作流配置</h3>\n<p>要实现一次代码推送后自动部署到 <strong>GitHub Pages、Vercel、Cloudflare Pages</strong> 三个平台，可通过 <strong>GitHub Actions</strong> 配置统一的工作流。以下是针对这三个平台的详细自动化部署方案：</p>\n<h4 id=\"5-1-准备\">5.1 准备</h4>\n<ol>\n<li>项目已托管在 GitHub 仓库（如 Hexo、Vue、React 等静态项目）。</li>\n<li>已在三个平台完成基础配置：\n<ul>\n<li><strong>GitHub Pages</strong>：仓库开启 Pages 功能（目标分支设为 <code>gh-pages</code>）。</li>\n<li><strong>Vercel</strong>：导入 GitHub 仓库创建项目（无需手动部署，后续通过 Action 触发）。</li>\n<li><strong>Cloudflare Pages</strong>：通过 GitHub 关联仓库创建项目（构建命令和输出目录先暂填，后续通过 Action 覆盖）。</li>\n</ul>\n</li>\n<li>获取各平台的部署凭证（敏感信息，存储在 GitHub Secrets 中）：</li>\n</ol>\n<table>\n<thead>\n<tr>\n<th>平台</th>\n<th>所需凭证</th>\n<th>获取方式</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>GitHub Pages</td>\n<td>个人访问令牌（PAT），需勾选 <code>repo</code> 和 <code>workflow</code> 权限</td>\n<td><a href=\"https://github.com/settings/tokens/new\">GitHub PAT 生成</a></td>\n</tr>\n<tr>\n<td>Vercel</td>\n<td>Vercel 令牌（Token）+ 项目 ID+USER ID</td>\n<td>Vercel 控制台 → 账户设置 → <code>Tokens</code>；项目设置 → <code>General</code> 中获取项目 ID;菜单中找到 Account→ Genera→ USER ID</td>\n</tr>\n<tr>\n<td>Cloudflare Pages</td>\n<td>Cloudflare API 令牌 + 账户 ID + 项目名称</td>\n<td>Cloudflare 控制台 → 我的个人资料 → <code>API Tokens</code>（创建含 <code>Pages:Edit</code> 权限的令牌）；账户 ID 在 Workers 和 Pages 页面获取；项目名称为 Cloudflare Pages 中创建的项目名</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"5-2-配置-GitHub-Actions\">5.2 配置 GitHub Actions</h4>\n<ul>\n<li>\n<p>进入 GitHub 仓库 → <code>Settings</code> → <code>Secrets and variables</code> → <code>Actions</code> → <code>New repository secret</code>，添加以下凭证：</p>\n<ul>\n<li>\n<p><code>GH_TOKEN</code>：GitHub Pages 的 PAT</p>\n</li>\n<li>\n<p><code>VERCEL_TOKEN</code>：Vercel 令牌</p>\n</li>\n<li>\n<p><code>VERCEL_ORG_ID</code>：Vercel组织/用户ID</p>\n</li>\n<li>\n<p><code>VERCEL_PROJECT_ID</code>：Vercel 项目 ID</p>\n</li>\n<li>\n<p><code>CF_API_TOKEN</code>：Cloudflare API 令牌</p>\n</li>\n<li>\n<p><code>CF_ACCOUNT_ID</code>：Cloudflare 账户 ID</p>\n</li>\n<li>\n<p><code>CF_PROJECT_NAME</code>：Cloudflare Pages 项目名称</p>\n</li>\n</ul>\n</li>\n<li>\n<p>创建工作流配置文件，在项目根目录创建 <code>.github/workflows/deploy.yml</code>，内容如下：</p>\n</li>\n</ul>\n<details class=\"tag-plugin colorful folding\" ><summary><p>查看代码</p>\n</summary><div class=\"body\"><figure class=\"highlight yaml\"><figcaption><span>deploy.yaml</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">name:</span> <span class=\"string\">hexo部署流程</span></span><br><span class=\"line\"><span class=\"attr\">on:</span></span><br><span class=\"line\">  <span class=\"attr\">push:</span></span><br><span class=\"line\">    <span class=\"attr\">branches:</span> [ <span class=\"string\">main</span> ]</span><br><span class=\"line\">  <span class=\"attr\">workflow_dispatch:</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">jobs:</span></span><br><span class=\"line\">  <span class=\"attr\">deploy:</span></span><br><span class=\"line\">    <span class=\"attr\">runs-on:</span> <span class=\"string\">ubuntu-latest</span></span><br><span class=\"line\">    <span class=\"attr\">timeout-minutes:</span> <span class=\"number\">30</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"attr\">steps:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">拉取代码</span></span><br><span class=\"line\">        <span class=\"attr\">uses:</span> <span class=\"string\">actions/checkout@v4</span></span><br><span class=\"line\">        <span class=\"attr\">with:</span></span><br><span class=\"line\">          <span class=\"attr\">fetch-depth:</span> <span class=\"number\">0</span></span><br><span class=\"line\">          <span class=\"attr\">submodules:</span> <span class=\"string\">&#x27;recursive&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">检查是否忽略public目录（关键！）</span></span><br><span class=\"line\">        <span class=\"attr\">run:</span> <span class=\"string\">|</span></span><br><span class=\"line\"><span class=\"string\">          echo &quot;===== 检查.gitignore是否排除public =====&quot;</span></span><br><span class=\"line\"><span class=\"string\">          if grep -q &quot;public&quot; .gitignore; then</span></span><br><span class=\"line\"><span class=\"string\">            echo &quot;⚠️ 注意：.gitignore中包含public，会被忽略（正常现象）&quot;</span></span><br><span class=\"line\"><span class=\"string\">          else</span></span><br><span class=\"line\"><span class=\"string\">            echo &quot;✅ .gitignore中未忽略public&quot;</span></span><br><span class=\"line\"><span class=\"string\">          fi</span></span><br><span class=\"line\"><span class=\"string\">          # 显示.gitignore内容</span></span><br><span class=\"line\"><span class=\"string\">          cat .gitignore || echo &quot;无.gitignore文件&quot;</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">安装Node.js</span></span><br><span class=\"line\">        <span class=\"attr\">uses:</span> <span class=\"string\">actions/setup-node@v4</span></span><br><span class=\"line\">        <span class=\"attr\">with:</span></span><br><span class=\"line\">          <span class=\"attr\">node-version:</span> <span class=\"number\">22.19</span><span class=\"number\">.0</span></span><br><span class=\"line\">          <span class=\"attr\">cache:</span> <span class=\"string\">&#x27;npm&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">安装依赖</span></span><br><span class=\"line\">        <span class=\"attr\">run:</span> <span class=\"string\">|</span></span><br><span class=\"line\"><span class=\"string\">          npm install hexo-cli -g</span></span><br><span class=\"line\"><span class=\"string\">          npm install --force</span></span><br><span class=\"line\"><span class=\"string\">          npm install hexo-theme-stellar@latest --save  # 确保主题被安装</span></span><br><span class=\"line\"><span class=\"string\">          cd themes/stellar &amp;&amp; npm install &amp;&amp; cd ../../</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">构建public并记录内容</span></span><br><span class=\"line\">        <span class=\"attr\">run:</span> <span class=\"string\">|</span></span><br><span class=\"line\"><span class=\"string\">          hexo clean</span></span><br><span class=\"line\"><span class=\"string\">          echo &quot;===== 开始构建public =====&quot;</span></span><br><span class=\"line\"><span class=\"string\">          hexo generate</span></span><br><span class=\"line\"><span class=\"string\"></span>          </span><br><span class=\"line\">          <span class=\"comment\"># 记录public目录详情（关键调试信息）</span></span><br><span class=\"line\">          <span class=\"string\">echo</span> <span class=\"string\">&quot;===== public目录状态 =====&quot;</span></span><br><span class=\"line\">          <span class=\"string\">if</span> [ <span class=\"string\">!</span> <span class=\"string\">-d</span> <span class=\"string\">&quot;public&quot;</span> ]<span class=\"string\">;</span> <span class=\"string\">then</span></span><br><span class=\"line\">            <span class=\"string\">echo</span> <span class=\"string\">&quot;❌ public目录未生成！&quot;</span></span><br><span class=\"line\">            <span class=\"string\">exit</span> <span class=\"number\">1</span></span><br><span class=\"line\">          <span class=\"string\">fi</span></span><br><span class=\"line\">          </span><br><span class=\"line\">          <span class=\"string\">echo</span> <span class=\"string\">&quot;public目录路径：$(pwd)/public&quot;</span></span><br><span class=\"line\">          <span class=\"string\">echo</span> <span class=\"string\">&quot;public目录大小：$(du -sh public)&quot;</span></span><br><span class=\"line\">          <span class=\"string\">echo</span> <span class=\"string\">&quot;public目录文件列表（前20个）：&quot;</span></span><br><span class=\"line\">          <span class=\"string\">ls</span> <span class=\"string\">-la</span> <span class=\"string\">public</span> <span class=\"string\">|</span> <span class=\"string\">head</span> <span class=\"string\">-n</span> <span class=\"number\">20</span></span><br><span class=\"line\">          <span class=\"string\">echo</span> <span class=\"string\">&quot;public/index.html内容（前10行）：&quot;</span></span><br><span class=\"line\">          <span class=\"string\">head</span> <span class=\"string\">-n</span> <span class=\"number\">10</span> <span class=\"string\">public/index.html</span> <span class=\"string\">||</span> <span class=\"string\">echo</span> <span class=\"string\">&quot;❌ 无index.html&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\"># 新增步骤：设置带时间戳的环境变量</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">设置部署时间变量</span></span><br><span class=\"line\">        <span class=\"attr\">run:</span> <span class=\"string\">|</span></span><br><span class=\"line\"><span class=\"string\">          echo &quot;DEPLOY_TIMESTAMP=$(date +&#x27;%Y-%m-%d %H:%M:%S&#x27;)&quot; &gt;&gt; $GITHUB_ENV</span></span><br><span class=\"line\"><span class=\"string\">          echo &quot;已设置部署时间：$&#123;&#123; env.DEPLOY_TIMESTAMP &#125;&#125;&quot;</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">部署到gh-pages分支（带推送日志）</span></span><br><span class=\"line\">        <span class=\"attr\">uses:</span> <span class=\"string\">peaceiris/actions-gh-pages@v4</span></span><br><span class=\"line\">        <span class=\"attr\">with:</span></span><br><span class=\"line\">          <span class=\"attr\">github_token:</span> <span class=\"string\">$&#123;&#123;</span> <span class=\"string\">secrets.GH_TOKEN</span> <span class=\"string\">&#125;&#125;</span></span><br><span class=\"line\">          <span class=\"attr\">publish_dir:</span> <span class=\"string\">./public</span>  <span class=\"comment\"># 确认推送的是public目录下的内容</span></span><br><span class=\"line\">          <span class=\"attr\">publish_branch:</span> <span class=\"string\">gh-pages</span></span><br><span class=\"line\">          <span class=\"attr\">force_orphan:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">          <span class=\"attr\">keep_files:</span> <span class=\"literal\">false</span></span><br><span class=\"line\">          <span class=\"attr\">enable_jekyll:</span> <span class=\"literal\">false</span></span><br><span class=\"line\">          <span class=\"comment\"># 使用环境变量中的时间戳</span></span><br><span class=\"line\">          <span class=\"attr\">commit_message:</span> <span class=\"string\">&quot;Deploy public content: $<span class=\"template-variable\">&#123;&#123; env.DEPLOY_TIMESTAMP &#125;&#125;</span>&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">验证gh-pages分支内容</span></span><br><span class=\"line\">        <span class=\"attr\">run:</span> <span class=\"string\">|</span></span><br><span class=\"line\"><span class=\"string\">          echo &quot;===== 克隆gh-pages分支验证 =====&quot;</span></span><br><span class=\"line\"><span class=\"string\">          git clone -b gh-pages https://github.com/$&#123;&#123; github.repository &#125;&#125; gh-pages-check</span></span><br><span class=\"line\"><span class=\"string\"></span>          </span><br><span class=\"line\">          <span class=\"string\">echo</span> <span class=\"string\">&quot;===== gh-pages分支根目录内容 =====&quot;</span></span><br><span class=\"line\">          <span class=\"string\">ls</span> <span class=\"string\">-la</span> <span class=\"string\">gh-pages-check</span></span><br><span class=\"line\">          </span><br><span class=\"line\">          <span class=\"string\">echo</span> <span class=\"string\">&quot;===== 检查是否有index.html =====&quot;</span></span><br><span class=\"line\">          <span class=\"string\">if</span> [ <span class=\"string\">-f</span> <span class=\"string\">&quot;gh-pages-check/index.html&quot;</span> ]<span class=\"string\">;</span> <span class=\"string\">then</span></span><br><span class=\"line\">            <span class=\"string\">echo</span> <span class=\"string\">&quot;✅ gh-pages分支存在index.html，部署成功！&quot;</span></span><br><span class=\"line\">            <span class=\"string\">echo</span> <span class=\"string\">&quot;访问地址：https://$<span class=\"template-variable\">&#123;&#123; github.repository_owner &#125;&#125;</span>.github.io/$<span class=\"template-variable\">&#123;&#123; github.event.repository.name &#125;&#125;</span>/&quot;</span></span><br><span class=\"line\">          <span class=\"string\">else</span></span><br><span class=\"line\">            <span class=\"string\">echo</span> <span class=\"string\">&quot;❌ gh-pages分支无index.html，部署失败！&quot;</span></span><br><span class=\"line\">            <span class=\"string\">exit</span> <span class=\"number\">1</span></span><br><span class=\"line\">          <span class=\"string\">fi</span></span><br></pre></td></tr></table></figure> </div></details>\n<ul>\n<li>推送代码触发自动部署</li>\n</ul>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 提交工作流文件</span></span><br><span class=\"line\">git add .github/workflows/deploy.yml</span><br><span class=\"line\">git commit -m <span class=\"string\">&quot;Add auto-deploy workflow to 3 platforms&quot;</span></span><br><span class=\"line\">git push origin main</span><br></pre></td></tr></table></figure>\n<p>也可以写入脚本<code>deploy.sh</code>，放在博客根目录，更新博客后终端执行./deploy.sh即可完成代码推送至Github。</p>\n<details class=\"tag-plugin colorful folding\" ><summary><p>查看代码</p>\n</summary><div class=\"body\"><figure class=\"highlight sh\"><figcaption><span>deploy.sh</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#!/bin/bash</span></span><br><span class=\"line\"><span class=\"built_in\">set</span> -euo pipefail  <span class=\"comment\"># 严格模式：遇错即停，防止未定义变量</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># ==============================================</span></span><br><span class=\"line\"><span class=\"comment\"># 配置区（根据项目调整）</span></span><br><span class=\"line\"><span class=\"comment\"># ==============================================</span></span><br><span class=\"line\">REMOTE_BRANCH=<span class=\"string\">&quot;main&quot;</span>               <span class=\"comment\"># 远程目标分支</span></span><br><span class=\"line\"><span class=\"comment\"># ==============================================</span></span><br><span class=\"line\"><span class=\"comment\"># 输出格式化函数（带颜色标识）</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">info</span></span>() &#123; <span class=\"built_in\">echo</span> -e <span class=\"string\">&quot;\\033[34mℹ️ <span class=\"variable\">$1</span>\\033[0m&quot;</span>; &#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">success</span></span>() &#123; <span class=\"built_in\">echo</span> -e <span class=\"string\">&quot;\\033[32m✅ <span class=\"variable\">$1</span>\\033[0m&quot;</span>; &#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">warning</span></span>() &#123; <span class=\"built_in\">echo</span> -e <span class=\"string\">&quot;\\033[33m⚠️ <span class=\"variable\">$1</span>\\033[0m&quot;</span>; &#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">error</span></span>() &#123; <span class=\"built_in\">echo</span> -e <span class=\"string\">&quot;\\033[31m❌ <span class=\"variable\">$1</span>\\033[0m&quot;</span> &amp;&amp; <span class=\"built_in\">exit</span> 1; &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 1. 检查项目是否有变更（任何文件的修改/新增/删除）</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">check_project_changes</span></span>() &#123;</span><br><span class=\"line\">    info <span class=\"string\">&quot;检查Hexo项目是否有变更...&quot;</span></span><br><span class=\"line\">    <span class=\"comment\"># 检查工作区和暂存区是否有变化（忽略.gitignore中的文件）</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> git diff --quiet --exit-code &amp;&amp; git diff --cached --quiet --exit-code; <span class=\"keyword\">then</span></span><br><span class=\"line\">        warning <span class=\"string\">&quot;项目未检测到任何变更，无需提交推送&quot;</span></span><br><span class=\"line\">        <span class=\"built_in\">exit</span> 0</span><br><span class=\"line\">    <span class=\"keyword\">fi</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 2. 同步远程最新代码（避免推送冲突）</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">sync_remote</span></span>() &#123;</span><br><span class=\"line\">    info <span class=\"string\">&quot;同步远程<span class=\"variable\">$REMOTE_BRANCH</span>分支最新代码...&quot;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> ! git pull origin <span class=\"string\">&quot;<span class=\"variable\">$REMOTE_BRANCH</span>&quot;</span>; <span class=\"keyword\">then</span></span><br><span class=\"line\">        error <span class=\"string\">&quot;拉取远程代码冲突！请手动解决后再运行脚本：\\ngit pull origin <span class=\"variable\">$REMOTE_BRANCH</span>&quot;</span></span><br><span class=\"line\">    <span class=\"keyword\">fi</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\"># 3. 提交所有变更并推送</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">commit_and_deploy</span></span>() &#123;</span><br><span class=\"line\">    info <span class=\"string\">&quot;提交所有项目变更...&quot;</span></span><br><span class=\"line\">    <span class=\"comment\"># 添加所有变更（.gitignore会自动过滤不需要的文件）</span></span><br><span class=\"line\">    git add . || error <span class=\"string\">&quot;添加文件到暂存区失败&quot;</span></span><br><span class=\"line\">    <span class=\"comment\"># 生成包含变更类型的提交信息</span></span><br><span class=\"line\">    <span class=\"built_in\">local</span> change_count</span><br><span class=\"line\">    change_count=$(git status --porcelain | <span class=\"built_in\">wc</span> -l | <span class=\"built_in\">tr</span> -d <span class=\"string\">&#x27; &#x27;</span>)  <span class=\"comment\"># 统计变更文件数</span></span><br><span class=\"line\">    <span class=\"built_in\">local</span> commit_msg=<span class=\"string\">&quot;Hexo项目更新 (<span class=\"variable\">$change_count</span> 个文件): <span class=\"subst\">$(date +&#x27;%Y-%m-%d %H:%M:%S&#x27;)</span>&quot;</span></span><br><span class=\"line\">    git commit -m <span class=\"string\">&quot;<span class=\"variable\">$commit_msg</span>&quot;</span> || error <span class=\"string\">&quot;提交失败（可能存在未解决的冲突）&quot;</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\"># 推送至远程，触发三平台部署</span></span><br><span class=\"line\">    info <span class=\"string\">&quot;推送至远程<span class=\"variable\">$REMOTE_BRANCH</span>分支，触发自动化部署...&quot;</span></span><br><span class=\"line\">    git push origin <span class=\"string\">&quot;<span class=\"variable\">$REMOTE_BRANCH</span>&quot;</span> || error <span class=\"string\">&quot;推送失败（检查网络或权限）&quot;</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    success <span class=\"string\">&quot;所有变更已推送！三平台自动化部署将自动触发&quot;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\"># 主流程</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">main</span></span>() &#123;</span><br><span class=\"line\">    info <span class=\"string\">&quot;===== Hexo全项目自动部署工具 =====&quot;</span></span><br><span class=\"line\">    check_project_changes</span><br><span class=\"line\">    sync_remote</span><br><span class=\"line\">    commit_and_deploy</span><br><span class=\"line\">    info <span class=\"string\">&quot;===================================&quot;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\">main <span class=\"string\">&quot;<span class=\"variable\">$@</span>&quot;</span></span><br></pre></td></tr></table></figure> </div></details>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ ./deploy.sh</span><br><span class=\"line\">ℹ️ ===== Hexo全项目自动部署工具 =====</span><br><span class=\"line\">ℹ️ 检查Hexo项目是否有变更...</span><br><span class=\"line\">ℹ️ 同步远程main分支最新代码...</span><br><span class=\"line\">From github.com:xxxxx/xxxxx.github.io</span><br><span class=\"line\"> * branch            main       -&gt; FETCH_HEAD</span><br><span class=\"line\">Already up to <span class=\"built_in\">date</span>.</span><br><span class=\"line\">ℹ️ 提交所有项目变更...</span><br><span class=\"line\">[main 62bbb8f] Hexo项目更新 (10 个文件): 2025-10-19 10:56:44</span><br><span class=\"line\"> 10 files changed, 865 insertions(+), 182 deletions(-)</span><br><span class=\"line\"> create mode 100644 db.json</span><br><span class=\"line\"> create mode 100644 themes/stellar/source/art-title.css</span><br><span class=\"line\">ℹ️ 推送至远程main分支，触发自动化部署...</span><br><span class=\"line\">Enumerating objects: 41, <span class=\"keyword\">done</span>.</span><br><span class=\"line\">Counting objects: 100% (41/41), <span class=\"keyword\">done</span>.</span><br><span class=\"line\">Delta compression using up to 16 threads</span><br><span class=\"line\">Compressing objects: 100% (20/20), <span class=\"keyword\">done</span>.</span><br><span class=\"line\">Writing objects: 100% (22/22), 184.16 KiB | 416.00 KiB/s, <span class=\"keyword\">done</span>.</span><br><span class=\"line\">Total 22 (delta 15), reused 0 (delta 0), pack-reused 0</span><br><span class=\"line\">remote: Resolving deltas: 100% (15/15), completed with 15 <span class=\"built_in\">local</span> objects.</span><br><span class=\"line\">To github.com:xxxxx/xxxxx.github.io.git</span><br><span class=\"line\">   206a451..62bbb8f  main -&gt; main</span><br><span class=\"line\">✅ 所有变更已推送！三平台自动化部署将自动触发</span><br><span class=\"line\">ℹ️ ===================================</span><br></pre></td></tr></table></figure>\n<ul>\n<li>\n<p>查看部署状态</p>\n</li>\n<li>\n<p>部署进度：GitHub 仓库 → <code>Actions</code> → 选择当前工作流 → 查看实时日志。</p>\n<p><img src=\"https://u.sam7.top/t362xw\" alt=\"image-20251017221817925\"></p>\n</li>\n<li>\n<p>结果验证：</p>\n<ul>\n<li>GitHub Pages：访问 <code>https://&lt;用户名&gt;.github.io/&lt;仓库名&gt;</code></li>\n<li>Vercel：访问 Vercel 项目分配的域名（如 <code>&lt;项目名&gt;.vercel.app</code>）</li>\n<li>Cloudflare Pages：访问 Cloudflare 分配的域名（如 <code>&lt;项目名&gt;.pages.dev</code>）</li>\n</ul>\n</li>\n<li>\n<p><strong>部署失败排查</strong>：</p>\n<p>查看 GitHub Actions 日志中的错误信息，常见问题：</p>\n<ul>\n<li>凭证错误（Secrets 名称或值不正确）</li>\n<li>构建命令失败（依赖安装错误，需检查 <code>package.json</code>）</li>\n<li>静态文件目录错误（确保 <code>publish_dir</code> 与实际输出目录一致）</li>\n</ul>\n</li>\n</ul>\n<p>通过此配置，每次向 <code>main</code> 分支推送代码时，GitHub Actions 会自动完成构建并同步部署到三个平台，实现 “一次推送，多平台联动更新”。</p>\n<h4 id=\"5-3-常见问题与解决\">5.3  常见问题与解决</h4>\n<ul>\n<li>\n<p><strong>部署后页面空白 / 样式丢失</strong></p>\n<ul>\n<li>原因：<code>_config.yml</code> 中 <code>url</code> 配置错误，或静态资源路径引用问题。</li>\n<li>解决：确保 <code>url</code> 与实际域名一致（如 <code>url: https://yourname.github.io</code>），并执行 <code>hexo clean</code> 重新生成。</li>\n</ul>\n</li>\n<li>\n<p><strong>平台构建失败（提示缺少依赖）</strong></p>\n<ul>\n<li>原因：<code>package.json</code> 未提交到仓库，或依赖未正确声明。</li>\n<li>解决：确保 <code>package.json</code> 和 <code>package-lock.json</code> 已提交，必要时在构建命令前加 <code>npm install</code>（如 <code>npm install &amp;&amp; hexo generate</code>）。</li>\n</ul>\n</li>\n<li>\n<p><strong>部署后 404 错误</strong></p>\n<ul>\n<li>原因：部署分支或输出目录配置错误。</li>\n<li>解决：确认 GitHub Pages 指向的分支正确（如 <code>main</code>），或 Cloudflare/Netlify 的输出目录为 <code>public</code>。</li>\n</ul>\n</li>\n<li>\n<p><strong>Github 自动部署jekyll构建问题</strong></p>\n<p><img src=\"https://u.sam7.top/ZsxpAJ\" alt=\"image-20251017222248947\"></p>\n<ul>\n<li>原因：Github默认使用jekyll主题构建，识别到主题不是jekyll报错。</li>\n<li>解决：可以生成一个.nojekyll文件来禁用jekyll部署，再工作流中增加public文件下.nojekyll</li>\n<li>根目录也添加 <code>.nojekyll</code>（双重保险）,虽然工作流已在 <code>public</code> 目录生成 <code>.nojekyll</code>，但可在仓库根目录也添加一个，防止 GitHub 误读：</li>\n</ul>\n <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 本地仓库根目录执行</span></span><br><span class=\"line\"><span class=\"built_in\">touch</span> .nojekyll</span><br><span class=\"line\">git add .nojekyll</span><br><span class=\"line\">git commit -m <span class=\"string\">&quot;根目录添加.nojekyll，禁用Jekyll&quot;</span></span><br><span class=\"line\">git push origin main</span><br></pre></td></tr></table></figure>\n<p>通过以上步骤，能从工作流配置、仓库设置、缓存清理三个层面彻底禁用 Jekyll，确保 GitHub Pages 直接托管 Hexo 生成的静态文件。核心逻辑是：<strong>确保 <code>.nojekyll</code> 被正确部署到 <code>gh-pages</code> 分支的根目录，且 GitHub 识别到该文件</strong>。</p>\n</li>\n</ul>\n<h3 id=\"6-笔记\">6. <strong>笔记</strong></h3>\n<ul>\n<li>\n<ul>\n<li>本地 Git 仓库应跟踪 Hexo 源代码（<code>_config.yml</code>、<code>source</code>、<code>themes</code> 等），而非 <code>public</code> 目录（可在 <code>.gitignore</code> 中忽略）。</li>\n<li>部署平台通过源代码自动构建生成 <code>public</code> 目录，避免手动上传静态文件。</li>\n</ul>\n</li>\n<li>\n<p><strong>定期备份配置</strong></p>\n<p>重要配置文件（<code>_config.yml</code>、主题配置 <code>_config.stellar.yml</code> 等）建议备份，避免误删。</p>\n</li>\n<li>\n<p><strong>绑定自定义域名</strong></p>\n<p>各平台均支持绑定自定义域名，需在域名解析平台添加对应的 DNS 记录（如 CNAME 指向平台提供的域名）。</p>\n</li>\n<li>\n<p><strong>自动部署配置（代码更新后自动同步）</strong></p>\n<p>Cloudflare Pages 默认开启 <strong>自动部署</strong>：当你向关联的 Git 分支（如 <code>main</code>）推送新代码时，会自动触发构建并更新博客，无需手动操作。<br>\n验证自动部署：</p>\n <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 本地修改一篇文章或配置</span></span><br><span class=\"line\">git add .</span><br><span class=\"line\">git commit -m <span class=\"string\">&quot;Update blog content&quot;</span></span><br><span class=\"line\">git push origin main</span><br></pre></td></tr></table></figure>\n<p>推送后，在 Cloudflare Pages 控制台的 <strong>Deployments</strong> 页面会看到新的构建任务，完成后博客会自动更新。<br>\n通过以上步骤，可顺利将 Hexo 博客部署到主流平台。若遇到具体错误，可结合部署日志（如平台提供的构建日志）定位问题，重点检查配置文件和依赖是否正确。</p>\n</li>\n</ul>\n<h3 id=\"7-总结\">7. 总结</h3>\n<p>以上几种部署 Hexo 的核心流程是：<strong>Git 仓库关联 → 配置构建参数 → 自动构建部署</strong>。其优势在于依托于Cloudflare Pages 免费、全球 CDN 加速、自动部署和简单的域名绑定。按上述步骤操作，即使是新手也能顺利完成部署，且国内访问速度优于 GitHub Pages。若遇到具体错误，可在 Cloudflare Pages 的 <strong>Deployments</strong> 页面查看详细日志，针对性解决即可。</p>\n","popularPost_tmp_postPath":true,"eyeCatchImage":"https://u.sam7.top/t362xw","popularPost_tmp_gaData":{"updated":"Mon Oct 20 2025 22:08:29 GMT+0800 (中国标准时间)","title":"hexo部署","path":"博客搭建/blog/hexo博客部署/","eyeCatchImage":"https://u.sam7.top/t362xw","excerpt":null,"date":{"_isAMomentObject":true,"_i":"2025-10-07T04:17:21.000Z","_isUTC":false,"_pf":{"empty":false,"unusedTokens":[],"unusedInput":[],"overflow":-2,"charsLeftOver":0,"nullInput":false,"invalidEra":null,"invalidMonth":null,"invalidFormat":false,"userInvalidated":false,"iso":false,"parsedDateParts":[],"era":null,"meridiem":null,"rfc2822":false,"weekdayMismatch":false},"_locale":{"_calendar":{"sameDay":"[Today at] LT","nextDay":"[Tomorrow at] LT","nextWeek":"dddd [at] LT","lastDay":"[Yesterday at] LT","lastWeek":"[Last] dddd [at] LT","sameElse":"L"},"_longDateFormat":{"LTS":"h:mm:ss A","LT":"h:mm A","L":"MM/DD/YYYY","LL":"MMMM D, YYYY","LLL":"MMMM D, YYYY h:mm A","LLLL":"dddd, MMMM D, YYYY h:mm A"},"_invalidDate":"Invalid date","_dayOfMonthOrdinalParse":{},"_relativeTime":{"future":"in %s","past":"%s ago","s":"a few seconds","ss":"%d seconds","m":"a minute","mm":"%d minutes","h":"an hour","hh":"%d hours","d":"a day","dd":"%d days","w":"a week","ww":"%d weeks","M":"a month","MM":"%d months","y":"a year","yy":"%d years"},"_months":["January","February","March","April","May","June","July","August","September","October","November","December"],"_monthsShort":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"_week":{"dow":0,"doy":6},"_weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"_weekdaysMin":["Su","Mo","Tu","We","Th","Fr","Sa"],"_weekdaysShort":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"_meridiemParse":{},"_eras":[{"since":"0001-01-01","until":null,"offset":1,"name":"Anno Domini","narrow":"AD","abbr":"AD"},{"since":"0000-12-31","until":null,"offset":1,"name":"Before Christ","narrow":"BC","abbr":"BC"}],"_abbr":"en","_config":{"calendar":{"sameDay":"[Today at] LT","nextDay":"[Tomorrow at] LT","nextWeek":"dddd [at] LT","lastDay":"[Yesterday at] LT","lastWeek":"[Last] dddd [at] LT","sameElse":"L"},"longDateFormat":{"LTS":"h:mm:ss A","LT":"h:mm A","L":"MM/DD/YYYY","LL":"MMMM D, YYYY","LLL":"MMMM D, YYYY h:mm A","LLLL":"dddd, MMMM D, YYYY h:mm A"},"invalidDate":"Invalid date","dayOfMonthOrdinalParse":{},"relativeTime":{"future":"in %s","past":"%s ago","s":"a few seconds","ss":"%d seconds","m":"a minute","mm":"%d minutes","h":"an hour","hh":"%d hours","d":"a day","dd":"%d days","w":"a week","ww":"%d weeks","M":"a month","MM":"%d months","y":"a year","yy":"%d years"},"months":["January","February","March","April","May","June","July","August","September","October","November","December"],"monthsShort":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"week":{"dow":0,"doy":6},"weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"weekdaysMin":["Su","Mo","Tu","We","Th","Fr","Sa"],"weekdaysShort":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"meridiemParse":{},"eras":[{"since":"0001-01-01","until":null,"offset":1,"name":"Anno Domini","narrow":"AD","abbr":"AD"},{"since":"0000-12-31","until":null,"offset":1,"name":"Before Christ","narrow":"BC","abbr":"BC"}],"abbr":"en"},"_dayOfMonthOrdinalParseLenient":{}},"_d":"2025-10-07T04:17:21.000Z","_isValid":true,"_z":null},"pv":0,"totalPV":0,"categories":"博客搭建","tags":["hexo配置","hexo部署"],"internalLinks":[],"keywords":[],"keywordsLength":0}}],"PostAsset":[],"PostCategory":[{"post_id":"cuidfn7SUzrQkDgc30ncVG6pn","category_id":"cuidoSjlkLWvKCCkQvdAsR5D6","_id":"cuidvIMp-UidzIWwy_xGWV20E"},{"post_id":"cuid4bWilVF3SyTjaLzRfvm4q","category_id":"cuidoSjlkLWvKCCkQvdAsR5D6","_id":"cuidt5QbDn7AMAwpUlG4eDvvO"}],"PostTag":[{"post_id":"cuidfn7SUzrQkDgc30ncVG6pn","tag_id":"cuidfInYYntA0u0YfI-ZI4O8M","_id":"cuidQoRNcJg1WRplqpw_XPf5T"},{"post_id":"cuidfn7SUzrQkDgc30ncVG6pn","tag_id":"cuid8HCpF9AUNuWYI27i7nf27","_id":"cuidlebQO71_ioIAO_fxFnsLR"},{"post_id":"cuid4bWilVF3SyTjaLzRfvm4q","tag_id":"cuidfInYYntA0u0YfI-ZI4O8M","_id":"cuidUmcmWR4A3iph7XY6Gdmm7"},{"post_id":"cuid4bWilVF3SyTjaLzRfvm4q","tag_id":"cuidvKHih-YsOr9u9caNfTfSt","_id":"cuidh0cMaAF737JDhXO-R5pgD"}],"Tag":[{"name":"hexo配置","_id":"cuidfInYYntA0u0YfI-ZI4O8M"},{"name":"stellar主题","_id":"cuid8HCpF9AUNuWYI27i7nf27"},{"name":"hexo部署","_id":"cuidvKHih-YsOr9u9caNfTfSt"}]}}