// 顶栏基础样式
.navbar
  z-index: 8  // 低层级，避免覆盖其他核心元素
  top: calc(var(--gap-margin) * 2)  // 顶部距离使用变量计算，保持布局一致性
  position: sticky  // 粘性定位，滚动时保持在视口顶部
  position: -webkit-sticky  // 兼容webkit内核浏览器

// 顶栏容器样式（替代newblur()的背景）
.navbar-blur 
  margin: 0 1rem
  border-radius: 64px
  position: relative
  // 新增背景样式：使用主题卡片色+轻微透明度，不依赖模糊
  background: var(--card, rgba(255, 255, 255, 0.9))  // 主背景（优先用主题变量）
  border: var(--card-border, 1px solid rgba(0, 0, 0, 0.05))  // 边框（可选，增强轮廓）
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05)  // 轻微阴影，区分层级
  // 如需半透明效果可调整alpha值，如：background: rgba(255, 255, 255, 0.85)

// 导航内容容器样式
.navbar-container 
  max-width: 100%  // 最大宽度限制为100%，避免溢出
  margin: 1px  // 小外边距，微调整体位置
  border-radius: 64px  // 继承圆角，保持样式统一
  overflow: scroll visible  // 允许内容滚动且可见（可能用于处理内容溢出）
  scrollbar(0, 0)  // 调用自定义滚动条样式函数，可能隐藏滚动条

// 导航菜单样式
.navbar nav
  display: inline-flex  // 行内弹性布局，使导航项横向排列
  font-size: $fs-14  // 使用变量定义字体大小，便于统一调整
  z-index: 1  // 层级较低，确保不覆盖其他内部元素
  
  >p
    margin: 0  // 清除段落默认外边距
  
  a  // 导航链接样式
    padding: .25rem 0.75rem  // 内边距，控制链接点击区域大小
    margin: 0.25rem  // 外边距，链接之间留间隙
    line-height: 2  // 行高，调整文字垂直位置
    color: var(--text-p1)  // 使用主题变量定义次要文本色
    border-radius: 32px  // 链接圆角，与容器风格统一
    font-weight: 500  // 中等字重，增强可读性
    white-space: nowrap  // 禁止文字换行，确保链接在一行显示
    position: relative  // 相对定位，用于伪元素定位
    z-index: 1  // 基础层级
    trans1 all  // 调用自定义过渡函数，使状态变化更平滑
    
    &:hover  // 鼠标悬停状态
      background: var(--bg-a50)  // 使用主题变量定义悬停背景色
    
    &.active, &:hover  // 激活状态和悬停状态共用样式
      color: var(--text)  // 使用主题变量定义主要文本色
    
    &.active  // 激活状态特有样式
      background: var(--bg-a60)  // 使用主题变量定义激活背景色
      
      @media (prefers-color-scheme: dark)  // 深色模式适配
        background: rgba(white, 0.25)  // 深色模式下激活背景色
        
      box-shadow: 0 0 1px rgba(0, 0, 0, 0.04), 0 0 2px rgba(0, 0, 0, 0.04), 0 0 4px rgba(0, 0, 0, 0.08)  // 多层阴影增强立体感
      cursor default  // 鼠标样式改为默认（非指针）
      pointer-events: none  // 禁止点击事件
      backdrop-filter: saturate(300%)  // 背景饱和度增强，提升视觉效果
      -webkit-backdrop-filter: saturate(300%)  // 兼容webkit内核浏览器
      
    &.active:after  // 激活状态伪元素（可能用于添加标记，当前内容为空）
      content: ''
    
  a+a  // 相邻链接的额外样式
    margin-left: 4px  // 左侧额外留4px间隙，避免链接过近

// 移动端适配（针对iPhone等小屏设备）
@media screen and (max-width: $device-mobile-iphone-max)
  .navbar.top  // 顶部导航栏在移动端的样式
    top: 36px  // 调整顶部距离为36px，可能用于适配移动端状态栏或底部导航栏，避免重叠