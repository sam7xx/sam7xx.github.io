// 导航区域菜单容器样式
.nav-area .menu
  width: 100% // 宽度占满父容器
  display: grid // 使用网格布局
  margin: 8px 0 // 上下外边距8px，左右0
  grid-template-columns: repeat(hexo-config('menubar.columns'), 1fr) // 从Hexo配置读取列数
  grid-gap: 8px // 网格项间距8px

  // 导航区域菜单滚动条（隐藏）
  &::-webkit-scrollbar
    display: none // 隐藏滚动条本体
  &::-webkit-scrollbar-track-piece
    background: transparent // 滚动条轨道透明
  &::-webkit-scrollbar-thumb
    display: none // 隐藏滚动条滑块

  // 导航区域菜单项样式
  .nav-item
    box-sizing: border-box // 边框盒模型（padding和border不影响宽度）
    width: 100% // 宽度100%
    min-height: 40px // 最小高度40px
    border-radius: var(--border-bar) // 使用圆角变量
    font-size: var(--fs-15) // 15px字体变量
    font-weight: 500 // 中等粗细
    color: var(--text-p3) // 三级文字色
    text-align: center // 文字居中
    background: var(--bg-a50) // 50%透明度背景
    transition: background 0.3s ease // 背景过渡动画
    position: relative // 相对定位
    display: flex // Flex布局
    flex-direction: column // 子元素垂直排列
    align-items: center // 水平居中
    justify-content: center // 垂直居中

    // 导航项文字样式
    span
      text-overflow: ellipsis // 溢出显示省略号
      word-break: keep-all // 不拆分单词

    // 激活/悬停状态
    &.active, &:hover
      color: var(--text-p1) // 一级文字色
      background: var(--bg-a100) // 100%透明度背景

    // 激活状态底部指示条
    &.active:after
      content: '' // 空内容伪元素
      position: absolute // 绝对定位
      width: 16px // 宽度16px
      height: 2px // 高度2px
      left: 50% // 水平居中
      transform: translateX(-50%) // 水平居中偏移
      border-radius: 2px // 圆角2px
      bottom: 2px // 距离底部2px
      background: currentColor // 继承文字颜色

// 基础菜单样式
.menu
  display: flex // Flex布局（横向排列）
  list-style: none // 移除列表默认样式
  padding: 0 // 无内边距
  margin: 0 // 无外边距
  gap: 1rem // 菜单项间距1rem

// 通用导航项样式
.nav-item
  display: flex // Flex布局
  align-items: center // 垂直居中
  justify-content: center // 水平居中
  text-decoration: none // 无下划线
  position: relative // 相对定位（用于下拉菜单）

// 更多菜单下拉容器
.more-dropdown
  position: relative // 相对定位
  display: inline-block // 行内块布局
  z-index: 100 // 层级100

  // 更多下拉菜单样式（恢复原始宽度40px）
  .more-dropdown-menu
    display: none // 默认隐藏
    position: absolute // 绝对定位
    right: 0 // 右对齐
    top: -80px // 上移80px
    background-color: #fff // 亮色背景
    min-width: 40px // 恢复原始最小宽度（适配紧凑布局）
    max-height: 120px // 最大高度
    box-shadow: 0 2px 12px rgba(0,0,0,0.15) // 亮色阴影
    z-index: 9999 // 高层级避免遮挡
    border-radius: 6px // 圆角6px
    overflow-y: auto // 垂直滚动
    overflow-x: hidden // 水平隐藏溢出
    padding: 6px 0 // 上下内边距6px
    box-sizing: border-box // 边框盒模型

    // 更多下拉菜单滚动条
    &::-webkit-scrollbar
      width: 4px // 滚动条宽度4px
    &::-webkit-scrollbar-thumb
      background-color: rgba(0,0,0,0.15) // 亮色滚动条滑块
      border-radius: 2px // 滑块圆角

  // 悬停显示更多下拉菜单
  &:hover .more-dropdown-menu
    display: block // 显示菜单
    animation: fadeIn 0.2s ease // 淡入动画

// 下拉菜单项样式
.dropdown-item
  display: flex // Flex布局
  align-items: center // 垂直居中
  justify-content: center // 水平居中
  width: 100% // 宽度100%
  padding: 10px // 内边距10px
  color: #333 // 亮色文字
  text-decoration: none // 无下划线
  box-sizing: border-box // 边框盒模型

  // 悬停效果（亮色）
  &:hover
    background-color: #f5f5f5 // 亮色悬停背景

// 普通下拉菜单容器
.dropdown
  position: relative // 相对定位
  display: inline-block // 行内块布局
  z-index: 100 // 层级100

  // 普通下拉菜单样式（恢复原始宽度40px）
  .dropdown-menu
    display: none // 默认隐藏
    position: absolute // 绝对定位
    top: -80px // 上移80px
    background-color: #f9f9f9 // 亮色背景
    min-width: 40px // 恢复原始最小宽度（适配紧凑布局）
    max-height: 120px // 最大高度
    box-shadow: 0 2px 12px rgba(0,0,0,0.2) // 亮色阴影
    z-index: 9999 // 高层级避免遮挡
    overflow-y: auto // 垂直滚动
    overflow-x: hidden // 水平隐藏溢出
    padding: 6px 0 // 上下内边距6px
    box-sizing: border-box // 边框盒模型

    // 普通下拉菜单滚动条
    &::-webkit-scrollbar
      width: 4px // 滚动条宽度4px
    &::-webkit-scrollbar-thumb
      background-color: rgba(0,0,0,0.15) // 亮色滚动条滑块
      border-radius: 2px // 滑块圆角

  // 悬停显示普通下拉菜单
  &:hover .dropdown-menu
    display: block // 显示菜单
    animation: fadeIn 0.2s ease // 淡入动画

  // 普通下拉菜单项样式
  .dropdown-menu a
    display: flex // Flex布局
    align-items: center // 垂直居中
    justify-content: center // 水平居中
    padding: 10px // 内边距10px
    text-decoration: none // 无下划线
    color: #333 // 亮色文字

    // 悬停效果（亮色）
    &:hover
      background-color: #ddd // 亮色悬停背景

// 暗色模式适配
[data-theme="dark"]
  // 更多下拉菜单
  .more-dropdown-menu
    background-color: #2d2d2d // 暗色背景
    box-shadow: 0 2px 12px rgba(0,0,0,0.3) // 暗色阴影

  // 下拉菜单项文字及悬停
  .dropdown-item
    color: #f0f0f0 // 暗色文字
    &:hover
      background-color: #444 // 暗色悬停背景

  // 普通下拉菜单
  .dropdown-menu
    background-color: #2d2d2d // 暗色背景
    box-shadow: 0 2px 12px rgba(0,0,0,0.3) // 暗色阴影

    // 普通下拉菜单项文字及悬停
    a
      color: #f0f0f0 // 暗色文字
      &:hover
        background-color: #444 // 暗色悬停背景

  // 暗色模式滚动条滑块
  .more-dropdown-menu::-webkit-scrollbar-thumb,
  .dropdown-menu::-webkit-scrollbar-thumb
    background-color: rgba(255,255,255,0.2) // 暗色滚动条滑块

// 下拉菜单入场动画
@keyframes fadeIn
  from
    opacity: 0 // 初始透明度0
    transform: translateY(5px) // 初始位置下移5px
  to
    opacity: 1 // 结束透明度1
    transform: translateY(0) // 恢复位置

// 响应式调整（≤768px）
@media (max-width: 768px)
  .menu.mobile-hidden
    display: none // 小屏幕隐藏指定菜单
