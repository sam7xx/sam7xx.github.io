.md-text
  .aplayer
    border-radius: $border-card

/* aplayer-theme.css - 支持手动和系统主题切换的Aplayer样式 */

/* ===== CSS变量定义 ===== */

/* 默认亮色主题变量 */
:root {
  --aplayer-bg: #ffffff; /* 播放器主背景色 */
  --aplayer-toolbar-bg: #f8f9fa; /* 工具栏/控制器背景色 */
  --aplayer-text: #373737; /* 主要文字颜色 */
  --aplayer-border: #e9e9e9; /* 边框颜色 */
  --aplayer-hover-bg: #efefef; /* 鼠标悬停背景色 */
  --aplayer-hover-text: #ff5722; /* 鼠标悬停文字颜色 */
  --aplayer-active-bg: #e9ecef; /* 当前选中项背景色（比普通背景更深） */
  --aplayer-active-text: #2c2c2c; /* 当前选中项文字颜色（亮色主题下保持深色） */
  --aplayer-list-item-height: 32px; /* 列表项高度 */
  --aplayer-list-item-padding: 0 15px; /* 列表项内边距 */
  --aplayer-list-item-font-size: 12px; /* 列表项字体大小 */
  --aplayer-list-light-font-size: small; /* 当前选中项字体大小 */
  --aplayer-list-light-font-weight: bold; /* 当前选中项字体粗细 */
  --aplayer-hover-font-size: small; /* 悬停时字体大小 */
  --aplayer-hover-font-weight: bold; /* 悬停时字体粗细 */
}

/* 暗色主题变量 - 通过[data-theme="dark"]属性应用 */
[data-theme="dark"] {
  --aplayer-bg: #1e1e1e; /* 播放器主背景色 */
  --aplayer-toolbar-bg: #1e1e1e; /* 工具栏/控制器背景色 */
  --aplayer-text: #ffffffff; /* 主要文字颜色 */
  --aplayer-border: #383d42; /* 边框颜色 */
  --aplayer-hover-bg: #3d3d3d; /* 鼠标悬停背景色 */
  --aplayer-hover-text: #ff5722; /* 鼠标悬停文字颜色 */
  --aplayer-active-bg: #4a4a4a; /* 当前选中项背景色（比普通背景更深） */
  --aplayer-active-text: #01686dff; /* 当前选中项文字颜色（暗色主题下使用更亮的白色，提高对比度） */
}

/* 系统主题检测作为备用方案 - 当没有手动设置主题时生效 */
@media (prefers-color-scheme: dark) {
  :root:not([data-theme]) { /* 选择没有设置data-theme属性的根元素 */
    --aplayer-bg: #1e1e1e; /* 播放器主背景色 */
    --aplayer-toolbar-bg: #1e1e1e; /* 工具栏/控制器背景色 */
    --aplayer-text: #ffffffff; /* 主要文字颜色 */
    --aplayer-border: #383d42; /* 边框颜色 */
    --aplayer-hover-bg: #3d3d3d; /* 鼠标悬停背景色 */
    --aplayer-hover-text: #ff5722; /* 鼠标悬停文字颜色 */
    --aplayer-active-bg: #4a4a4a; /* 当前选中项背景色（比普通背景更深） */
    --aplayer-active-text: #01686dff; /* 当前选中项文字颜色（暗色主题下使用更亮的白色，提高对比度） */
  }
}

/* ===== Aplayer整体样式 ===== */

.aplayer {
  background: var(--aplayer-bg); /* 背景色使用CSS变量 */
  color: var(--aplayer-text); /* 文字颜色使用CSS变量 */
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif; /* 字体族设置 */
  border-radius: 6px; /* 圆角边框 */
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1); /* 阴影效果 */
  transition: all 0.3s ease; /* 过渡动画效果 */
}

/* ===== 工具栏/控制器区域样式 ===== */

.aplayer .aplayer-info,
.aplayer .aplayer-controller,
.aplayer .aplayer-body {
  background: var(--aplayer-toolbar-bg); /* 使用工具栏专用背景色 */
  transition: background-color 0.3s ease; /* 背景色过渡效果 */
}

.aplayer .aplayer-info {
  border-bottom: 1px solid var(--aplayer-border); /* 底部边框 */
  padding: 12px 15px; /* 内边距 */
}

.aplayer .aplayer-info .aplayer-music {
  color: var(--aplayer-text); /* 文字颜色 */
}

.aplayer .aplayer-info .aplayer-music .aplayer-title {
  color: var(--aplayer-active-text); /* 使用更突出的颜色 */
  font-weight: bold; /* 字体加粗 */
}

.aplayer .aplayer-controller {
  border-top: 1px solid var(--aplayer-border); /* 顶部边框 */
  padding: 8px 15px; /* 内边距 */
}

/* ===== 进度条样式 ===== */

.aplayer .aplayer-bar {
  background: var(--aplayer-border); /* 轨道背景色 */
}

.aplayer .aplayer-loaded {
  background: var(--aplayer-hover-bg); /* 已加载部分背景色 */
}

.aplayer .aplayer-played {
  background: var(--aplayer-hover-text); /* 已播放部分背景色 */
}

.aplayer .aplayer-thumb {
  background: var(--aplayer-hover-text); /* 拖拽点背景色 */
  box-shadow: 0 0 5px rgba(0, 0, 0, 0.2); /* 拖拽点阴影 */
}

/* ===== 时间显示样式 ===== */

.aplayer .aplayer-time {
  color: var(--aplayer-text); /* 时间文字颜色 */
}

/* ===== 音量控制样式 ===== */

.aplayer .aplayer-volume-wrap .aplayer-volume-bar {
  background: var(--aplayer-border); /* 音量轨道背景色 */
}

.aplayer .aplayer-volume-wrap .aplayer-volume {
  background: var(--aplayer-hover-text); /* 音量滑块背景色 */
}

/* ===== 播放列表样式 ===== */

.aplayer .aplayer-list {
  border-top: 1px solid var(--aplayer-border); /* 顶部边框 */
  max-height: 300px; /* 最大高度限制 */
  overflow-y: auto; /* 垂直方向溢出时显示滚动条 */
  background: var(--aplayer-bg); /* 列表背景色 */
}

.aplayer .aplayer-list ol li {
  position: relative; /* 相对定位 */
  height: var(--aplayer-list-item-height); /* 固定高度 */
  line-height: var(--aplayer-list-item-height); /* 行高等于高度，实现垂直居中 */
  padding: var(--aplayer-list-item-padding); /* 内边距 */
  font-size: var(--aplayer-list-item-font-size); /* 字体大小 */
  border-top: 1px solid var(--aplayer-border); /* 顶部边框 */
  cursor: pointer; /* 鼠标指针样式 */
  transition: all 0.2s ease; /* 过渡动画效果 */
  overflow: hidden; /* 隐藏溢出内容 */
  margin: 0; /* 外边距归零 */
  color: var(--aplayer-text); /* 文字颜色 */
  background-color: var(--aplayer-bg); /* 背景色 */
}

.aplayer .aplayer-list ol li:first-child {
  border-top: none; /* 无边框 */
}

.aplayer .aplayer-list ol li.aplayer-list-light {
  background: var(--aplayer-active-bg); /* 使用更深的背景色突出显示 */
  color: var(--aplayer-active-text); /* 文字颜色使用更亮的白色，提高对比度 */
  font-size: var(--aplayer-list-light-font-size); /* 字体大小 */
  font-weight: var(--aplayer-list-light-font-weight); /* 字体粗细 */
  position: relative; /* 相对定位 */
}

.aplayer .aplayer-list ol li.aplayer-list-light::before {
  content: ''; /* 伪元素内容为空 */
  position: absolute; /* 绝对定位 */
  left: 0; /* 左侧对齐 */
  top: 0; /* 顶部对齐 */
  height: 100%; /* 高度100% */
  width: 3px; /* 宽度3像素 */
  background: var(--aplayer-hover-text); /* 指示条颜色 */
}

.aplayer .aplayer-list ol li:hover {
  background: var(--aplayer-hover-bg); /* 悬停背景色 */
  color: var(--aplayer-hover-text); /* 悬停文字颜色 */
  font-size: var(--aplayer-hover-font-size); /* 悬停时字体大小 */
  font-weight: var(--aplayer-hover-font-weight); /* 悬停时字体粗细 */
}

/* ===== 滚动条样式 ===== */

.aplayer .aplayer-list::-webkit-scrollbar {
  width: 6px; /* 滚动条宽度 */
}

.aplayer .aplayer-list::-webkit-scrollbar-track {
  background: var(--aplayer-bg); /* 轨道背景色 */
}

.aplayer .aplayer-list::-webkit-scrollbar-thumb {
  background: var(--aplayer-border); /* 滑块背景色 */
  border-radius: 3px; /* 滑块圆角 */
}

.aplayer .aplayer-list::-webkit-scrollbar-thumb:hover {
  background: var(--aplayer-hover-text); /* 悬停时滑块背景色 */
}

/* ===== 播放按钮样式 ===== */

.aplayer .aplayer-play {
  width: 22px; /* 宽度 */
  height: 22px; /* 高度 */
  border: 1px solid var(--aplayer-border); /* 边框 */
  border-radius: 50%; /* 圆形边框 */
  display: flex; /* 弹性布局 */
  align-items: center; /* 垂直居中 */
  justify-content: center; /* 水平居中 */
  transition: all 0.2s ease; /* 过渡动画 */
}

.aplayer .aplayer-play:hover {
  border-color: var(--aplayer-hover-text); /* 悬停时边框颜色 */
  background: var(--aplayer-hover-bg); /* 悬停时背景色 */
}

/* ===== 歌词面板样式 ===== */

.aplayer .aplayer-lrc {
  background: var(--aplayer-toolbar-bg); /* 背景色 */
  border-top: 1px solid var(--aplayer-border); /* 顶部边框 */
}

.aplayer .aplayer-lrc .aplayer-lrc-current {
  color: var(--aplayer-active-text); /* 当前歌词文字颜色使用更亮的颜色 */
  font-weight: bold; /* 字体加粗 */
}

/* ===== 迷你模式样式 ===== */

.aplayer.aplayer-mini .aplayer-body {
  background: var(--aplayer-toolbar-bg); /* 背景色 */
}

.aplayer.aplayer-mini .aplayer-info {
  background: transparent; /* 透明背景 */
}

.aplayer.aplayer-mini .aplayer-info .aplayer-music .aplayer-title {
  color: var(--aplayer-active-text); /* 使用更突出的颜色 */
  font-weight: bold; /* 字体加粗 */
}

/* ===== 艺术家和专辑信息样式 ===== */

.aplayer .aplayer-info .aplayer-music .aplayer-author {
  color: var(--aplayer-text); /* 艺术家文字颜色 */
  opacity: 1; /* 透明度稍低，作为次要信息 */
}

.aplayer .aplayer-list ol li.aplayer-list-light .aplayer-list-author {
  color: var(--aplayer-active-text); /* 当前歌曲艺术家信息使用更亮的颜色 */
  opacity: 1; /* 降低透明度，但仍保持可读性 */
}
